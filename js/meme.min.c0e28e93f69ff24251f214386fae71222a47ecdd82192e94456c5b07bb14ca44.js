const throttle=(b,c)=>{let d,e,a;return function(){const f=this,g=arguments;d?(clearTimeout(e),e=setTimeout(function(){Date.now()-a>=c&&(b.apply(f,g),a=Date.now())},Math.max(c-(Date.now()-a),0))):(b.apply(f,g),a=Date.now(),d=!0)}},delayTime=420,headerFallbackWidth='36em',headerInner=document.querySelector('.header-inner'),mainInner=document.querySelector('.main-inner');if(mainInner!==null){const a=window.getComputedStyle(mainInner,null).getPropertyValue('width');headerInner.style.setProperty('--main-inner',a)}else headerInner.style.setProperty('--main-inner',headerFallbackWidth);headerInner.style.setProperty('opacity',1);function addDisplayNone(b){const a=document.getElementById(b);if(a!==null){const b=a.getAttribute('data-hide');b!==null&&(a.parentNode.style='display: none')}}addDisplayNone('theme-switcher'),addDisplayNone('lang-switcher');const navToggleLabel=document.querySelector('.nav-toggle'),navToggleLabelInner=document.createElement('div');navToggleLabelInner.className='nav-toggle-inner',navToggleLabel.appendChild(navToggleLabelInner);for(let a=0;a<3;a++){const b=document.createElement('span');navToggleLabelInner.appendChild(b)}const navToggle=document.getElementById('nav-toggle'),header=document.querySelector('.header'),navCurtain=document.querySelector('.nav-curtain');navToggle.addEventListener('change',a=>{a.target.checked?(header.classList.add('open'),navToggleLabel.classList.add('open'),header.classList.remove('fade'),navCurtain.style='display: block'):(header.classList.remove('open'),navToggleLabel.classList.remove('open'),header.classList.add('fade'))}),navCurtain.addEventListener('animationend',a=>{navToggle.checked||a.target.removeAttribute('style')}),window.addEventListener('scroll',throttle(function(){closeNav()},delayTime)),window.addEventListener('resize',throttle(function(){closeNav()},delayTime));function closeNav(){navToggle.checked&&(navToggle.checked=!1,header.classList.remove('open'),navToggleLabel.classList.remove('open'),header.classList.add('fade'))}const backToTop=document.getElementById('back-to-top');backToTop!==null&&window.addEventListener('scroll',throttle(function(){window.scrollY>100?backToTop.classList.add('show'):backToTop.classList.remove('show')},delayTime)),userPrefers==='dark'?changeMode('dark'):userPrefers==='light'?changeMode('light'):darkModeMediaQuery.matches?changeMode('dark'):lightModeMediaQuery.matches&&changeMode('light'),darkModeMediaQuery.addListener(a=>{const b=a.matches;b&&(changeModeMeta('dark'),changeMode('dark'),setMode('dark'))}),lightModeMediaQuery.addListener(a=>{const b=a.matches;b&&(changeModeMeta('light'),changeMode('light'),setMode('light'))});const themeSwitcher=document.getElementById('theme-switcher');themeSwitcher.addEventListener('click',function(){const a=document.documentElement.getAttribute('data-theme');a==='dark'?(changeModeMeta('light'),changeMode('light'),setMode('light')):(changeModeMeta('dark'),changeMode('dark'),setMode('dark'))}),window.addEventListener('storage',function(a){a.newValue==='dark'?(changeModeMeta('dark'),changeMode('dark')):(changeModeMeta('light'),changeMode('light'))});function changeMode(b){var a=b==='dark',c,d;document.getElementById('theme-switcher').innerHTML=a?'ðŸŒ™':'ðŸŒž',c=a?'chroma':'chroma-dark',d=a?'chroma-dark':'chroma',[].slice.apply(document.getElementsByClassName(c)).forEach(a=>{a.className=d})}function setMode(a){window.localStorage.setItem('theme',a)}document.querySelectorAll('table').forEach(a=>{a.outerHTML=`<div class="table-container">${a.outerHTML}</div>`});const commentsToggle=document.getElementById('load-comments');commentsToggle!==null&&commentsToggle.addEventListener('click',function(){loadComments(),this.style="display: none"})