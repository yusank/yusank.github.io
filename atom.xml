<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yusank&#39;s blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yusank.github.io/"/>
  <updated>2017-07-17T07:52:01.000Z</updated>
  <id>http://yusank.github.io/</id>
  
  <author>
    <name>Yusank</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Docker çš„ä½¿ç”¨</title>
    <link href="http://yusank.github.io/docker-practice.html/"/>
    <id>http://yusank.github.io/docker-practice.html/</id>
    <published>2017-07-17T07:52:00.000Z</published>
    <updated>2017-07-17T07:52:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p> docker çš„åŸºæœ¬æ“ä½œå’Œä½¿ç”¨ã€‚ã€‚ã€‚<br> <a id="more"></a></p>
<h1 id="Docker-çš„ä½¿ç”¨"><a href="#Docker-çš„ä½¿ç”¨" class="headerlink" title="Docker çš„ä½¿ç”¨"></a>Docker çš„ä½¿ç”¨</h1><h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><hr>
<h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><hr>
<h4 id="æ–°å»ºå¹¶å¯åŠ¨"><a href="#æ–°å»ºå¹¶å¯åŠ¨" class="headerlink" title="æ–°å»ºå¹¶å¯åŠ¨"></a>æ–°å»ºå¹¶å¯åŠ¨</h4><p>æ‰€éœ€çš„å‘½ä»¤æ˜¯ <code>docker run</code></p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run ubuntu:14.04 /bin/echo 'hello, worl'
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®¹å™¨æ‰§è¡Œåé¢çš„å‘½ä»¤ç›´æ¥å°±ä¼šç»ˆæ­¢ .</p>
<p>ä¸‹é¢çš„å‘½ä»¤ä¼šå¯åŠ¨å®¹å™¨å¹¶èµ·ä¸€ä¸ª bash ç»ˆç«¯,å…è®¸ç”¨æˆ·è¿›è¡Œäº¤äº’</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -t -i ubuntu:14.04 /bin/bash
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å…¶ä¸­ <code>-t</code>  è®© Docker åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ (pseudo-tty) å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Š, <code>-i</code> åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ .</p>
<p>åˆ©ç”¨ docker run æ¥åˆ›å»ºå®¹å™¨æ˜¯, Docker åœ¨åå°è¿è¡Œçš„æ ‡å‡†æ“ä½œåŒ…æ‹¬:</p>
<ul>
<li>æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒ,ä¸å­˜åœ¨å°±ä»å…±æœ‰ä»“åº“ä¸‹è½½</li>
<li>åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨</li>
<li>åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå¹¶åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚</li>
<li>åœ¨å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­å»</li>
<li>ä»åœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨</li>
<li>æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº</li>
<li>æ‰§è¡Œå®Œæ¯•åå®¹å™¨ç»ˆæ­¢</li>
</ul>
<h4 id="å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨"><a href="#å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨" class="headerlink" title="å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨"></a>å¯åŠ¨å·²ç»ˆæ­¢å®¹å™¨</h4><p>å¯ä»¥åˆ©ç”¨ <code>docker start</code> å‘½ä»¤,ç›´æ¥å°†ä¸€ä¸ªå·²ç»ç»ˆæ­¢çš„å®¹å™¨å¯åŠ¨è¿è¡Œ .</p>
<p>å¯ä»¥é€šè¿‡ <code>docker ps -a</code> æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å’Œå…¶çŠ¶æ€</p>
<pre class="line-numbers language-shell"><code class="language-shell">CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                     PORTS                    NAMES
aada74689bf7        cockroachdb/cockroach   "/cockroach/cockro..."   3 weeks ago         Exited (137) 3 weeks ago                            roach_master
2e9eb6cf3f66        owncloud                "/entrypoint.sh ap..."   3 weeks ago         Up 3 weeks                 0.0.0.0:80->80/tcp       owncloud
91290c737c73        postgres                "docker-entrypoint..."   3 weeks ago         Up 3 weeks                 5432/tcp                 owncloud-postgres
8f546ec65e61        mysql                   "docker-entrypoint..."   3 weeks ago         Up 3 weeks                 0.0.0.0:3306->3306/tcp   mysql
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸éš¾å‘ç° name ä¸º roch_master çš„å®¹å™¨å·²ç»ç»ˆæ­¢äº†,æƒ³é‡æ–°å¯åŠ¨å®ƒ,å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker start aada74689bf7
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å‚æ•°ä¸ºå®¹å™¨çš„ id .</p>
<h3 id="åå°-background-è¿è¡Œ"><a href="#åå°-background-è¿è¡Œ" class="headerlink" title="åå°( background )è¿è¡Œ"></a>åå°( background )è¿è¡Œ</h3><p>åœ¨å¾ˆå¤šæ—¶å€™,æˆ‘ä»¬éœ€è¦è®© docker åœ¨åå°è¿è¡Œè€Œå¹¶ä¸æ˜¯æŠŠæ‰§è¡Œç»“æœç›´æ¥è¾“å‡ºå‡ºæ¥.</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æ·»åŠ  <code>-d</code> å‚æ•°æ¥å®ç°</p>
<p>å¦‚æœä½¿ç”¨ <code>-d</code> å‚æ•°è¿è¡Œå®¹å™¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d mysql:5.7.17
77b2dc01fe0f3f1265df143181e7b9af5e05279a884f4776ee75350ea9d8017a
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åªä¼šè¾“å‡ºè¿è¡Œçš„å®¹å™¨ id, è€Œè¾“å‡ºç»“æœå¯ä»¥ç”¨ docker logs æŸ¥çœ‹ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker logs [container ID or NAMES]
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="ç»ˆæ­¢å®¹å™¨"><a href="#ç»ˆæ­¢å®¹å™¨" class="headerlink" title="ç»ˆæ­¢å®¹å™¨"></a>ç»ˆæ­¢å®¹å™¨</h3><p>å¯ä»¥ä½¿ç”¨ <code>docker stop</code>  æ¥ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨ .</p>
<p>æ­¤å¤–,å½“ Docker å®¹å™¨ä¸­æŒ‡å®šçš„åº”ç”¨ç»ˆç»“æ—¶, å®¹å™¨ä¹Ÿè‡ªåŠ¨ç»ˆæ­¢ . ä¾‹å¦‚è¿è¡Œä¸€ä¸ªå®¹å™¨æ—¶,æŒ‡å®šäº†ä¸€ä¸ªç»ˆç«¯å,å½“é€€å‡ºç»ˆç«¯çš„æ—¶å€™,æ‰€åˆ›å»ºçš„å®¹å™¨ä¹Ÿä¼šç«‹åˆ»ç»ˆæ­¢ .</p>
<p>ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨, å¯ä»¥é€šè¿‡ <code>docker start</code> æ¥é‡æ–°å¯åŠ¨ .</p>
<p>æ­¤å¤–,<code>docker restart</code> å‘½ä»¤ä¼šå°†ä¸€ä¸ªè¿è¡Œæ€çš„å®¹å™¨ç»ˆæ­¢,ç„¶åé‡æ–°å¯åŠ¨å®ƒ .</p>
<h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h3><p>åœ¨ä½¿ç”¨ <code>-d</code> å‚æ•°æ—¶, docker å®¹å™¨ä¼šåœ¨åå°è¿è¡Œ. æœ‰äº›æ—¶å€™éœ€è¦è¿›å…¥å®¹å™¨,å¦‚è¿è¡Œæ•°æ®åº“æ—¶,éœ€è¦è¿›å…¥å¢åˆ æ”¹æŸ¥åº“é‡Œçš„å†…å®¹. è¿›å…¥å®¹å™¨æœ‰å¾ˆå¤šç§åŠæ³•.</p>
<h4 id="attach-å‘½ä»¤"><a href="#attach-å‘½ä»¤" class="headerlink" title="attach å‘½ä»¤"></a>attach å‘½ä»¤</h4><figcaption>attach</code> æ˜¯ Docker è‡ªå¸¦çš„å‘½ä»¤,ç”¨æ³•</p></figcaption><pre class="line-numbers language-docker"><code class="language-docker">&lt;p<span class="token punctuation">></span>ä½†æ˜¯ä½¿ç”¨ &lt;code<span class="token punctuation">></span>attach&lt;/code<span class="token punctuation">></span> å‘½ä»¤æœ‰ä¸ªç¼ºé™·<span class="token punctuation">,</span>å³å¤šä¸ªçª—å£åŒæ—¶ç”¨ attach å‘½ä»¤åˆ°åŒä¸€ä¸ªå®¹å™¨çš„æ—¶å€™<span class="token punctuation">,</span>æ‰€æœ‰çš„çª—å£éƒ½æ˜¯åŒæ­¥æ˜¾ç¤ºçš„<span class="token punctuation">,</span>å¦‚æœå…¶ä¸­ä¸€ä¸ªçª—å£é˜»å¡çš„æ—¶å€™<span class="token punctuation">,</span>å…¶ä»–çª—å£ä¹Ÿæ— æ³•ä½¿ç”¨ .&lt;/p<span class="token punctuation">></span>
&lt;h4 id=<span class="token string">"nsenter-å‘½ä»¤"</span><span class="token punctuation">></span>&lt;a href=<span class="token string">"#nsenter-å‘½ä»¤"</span> class=<span class="token string">"headerlink"</span> title=<span class="token string">"nsenter å‘½ä»¤"</span><span class="token punctuation">></span>&lt;/a<span class="token punctuation">></span>nsenter å‘½ä»¤&lt;/h4<span class="token punctuation">></span>&lt;p<span class="token punctuation">></span>è¿™ä¸ªå·¥å…·éœ€è¦ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…&lt;/p<span class="token punctuation">></span>
&lt;pre<span class="token punctuation">></span>&lt;code class=<span class="token string">"shell"</span><span class="token punctuation">></span>$ docker run <span class="token punctuation">-</span><span class="token punctuation">-</span>rm <span class="token punctuation">-</span>v /usr/local/bin<span class="token punctuation">:</span>/target jpetazzo/nsenter
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨æ–¹æ³•ä¹Ÿæ¯”è¾ƒç®€å•,é¦–å…ˆæ˜¯ä½ è¦è¿›å…¥çš„å®¹å™¨çš„ ID</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ PID=$(docker inspect --format {{.State.Pid}} <container ID or NAMES>)
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶åé€šè¿‡è¿™ä¸ª PID è¿›å…¥å®¹å™¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ nsenter --target $PID --mount --uts --ipc --net --pid
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæ— æ³•é€šè¿‡ä¸Šè¿°çš„å‘½ä»¤è¿æ¥åˆ°å®¹å™¨,æœ‰å¯èƒ½æ˜¯å› ä¸ºå®¿ä¸»çš„é»˜è®¤ shell åœ¨å®¹å™¨ä¸­å¹¶ä¸å­˜åœ¨,æ¯”å¦‚ zsh, å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ˜¾ç¤ºåœ°ä½¿ç”¨ bash .</p>
<h4 id="exec-å‘½ä»¤"><a href="#exec-å‘½ä»¤" class="headerlink" title="exec å‘½ä»¤"></a>exec å‘½ä»¤</h4><pre class="line-numbers language-shell"><code class="language-shell">$docker exec -it [container ID or NAMES]
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>-i</code> <code>-t</code> å‰é¢è¯´è¿‡ä¸ºäº†æ ‡å‡†è¾“å…¥è¾“å‡ºä¿æŒæ‰“å¼€ .</p>
<h3 id="å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨"><a href="#å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨" class="headerlink" title="å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨"></a>å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨</h3><h4 id="å¯¼å‡ºå®¹å™¨"><a href="#å¯¼å‡ºå®¹å™¨" class="headerlink" title="å¯¼å‡ºå®¹å™¨"></a>å¯¼å‡ºå®¹å™¨</h4><p>å¦‚æœè¦å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨,å¯ä»¥ä½¿ç”¨ <code>docker export</code> å‘½ä»¤ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker export [container ID or NAMES] > target.tar
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™æ ·å°†å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶ .</p>
<h4 id="å¯¼å…¥å®¹å™¨å¿«ç…§"><a href="#å¯¼å…¥å®¹å™¨å¿«ç…§" class="headerlink" title="å¯¼å…¥å®¹å™¨å¿«ç…§"></a>å¯¼å…¥å®¹å™¨å¿«ç…§</h4><p>å¯ä»¥ä½¿ç”¨ <code>docker import</code> ä»å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥é•œåƒ,</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ cat target.tar | docker import - test/mysql:v1.0
$ sudo docker images
REPOSITORY  TAG  IMAGE ID         CREATED             VIRTUAL SIZE
test/ubuntu v1.0 9d37a6082e97     About a minute ago     171.3 MB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ­¤å¤–,è¿˜å¯ä»¥é€šè¿‡æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•æ¥å¯¼å…¥</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker import http://example.com/exampleimage.tgz example/imagerepo
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>*æ³¨ï¼šç”¨æˆ·æ—¢å¯ä»¥ä½¿ç”¨ docker load æ¥å¯¼å…¥é•œåƒå­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒåº“,ä¹Ÿå¯ä»¥ä½¿ç”¨ docker import æ¥å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°é•œåƒåº“ .è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºå®¹å™¨å¿«ç…§æ–‡ä»¶å°†ä¸¢å¼ƒæ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼ˆå³ä»…ä¿å­˜å®¹å™¨å½“æ—¶çš„å¿«ç…§çŠ¶æ€ï¼‰,è€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•,ä½“ç§¯ä¹Ÿè¦å¤§ .æ­¤å¤–,ä»å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶å¯ä»¥é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ä¿¡æ¯ .</p>
<h3 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h3><h4 id="å•ç‹¬åˆ é™¤"><a href="#å•ç‹¬åˆ é™¤" class="headerlink" title="å•ç‹¬åˆ é™¤"></a>å•ç‹¬åˆ é™¤</h4><p>å¯ä»¥ä½¿ç”¨ <code>docker rm</code> æ¥åˆ é™¤ä¸€ä¸ªå¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker rm [container ID or NAMES]
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœè¦åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨,å¯ä»¥æ·»åŠ  <code>-f</code> å‚æ•° .Docker ä¼šå‘é€ <code>SIGKILL</code> ä¿¡å·ç»™å®¹å™¨ .</p>
<h4 id="æ¸…ç†æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨"><a href="#æ¸…ç†æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨" class="headerlink" title="æ¸…ç†æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨"></a>æ¸…ç†æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨</h4><p>ç”¨  <code>docker ps -a</code>  å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å·²åˆ›å»ºçš„åŒ…æ‹¬ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨,å¦‚æœæƒ³æ‰¹é‡åˆ é™¤å¤šä¸ªå®¹å™¨çš„è¯(å½“ç„¶æ˜¯ç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨) ,å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker rm $(docker ps -a -q)
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>*æ³¨æ„ï¼šè¿™ä¸ªå‘½ä»¤å…¶å®ä¼šè¯•å›¾åˆ é™¤æ‰€æœ‰çš„åŒ…æ‹¬è¿˜åœ¨è¿è¡Œä¸­çš„å®¹å™¨,ä¸è¿‡å°±åƒä¸Šé¢æè¿‡çš„ docker rm é»˜è®¤å¹¶ä¸ä¼šåˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ .</p>
<h2 id="è®¿é—®ä»“åº“"><a href="#è®¿é—®ä»“åº“" class="headerlink" title="è®¿é—®ä»“åº“"></a>è®¿é—®ä»“åº“</h2><p>ä»“åº“ï¼ˆRepositoryï¼‰æ˜¯é›†ä¸­å­˜æ”¾é•œåƒçš„åœ°æ–¹ .</p>
<p>ä¸€ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µæ˜¯æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰ .å®é™…ä¸Šæ³¨å†ŒæœåŠ¡å™¨æ˜¯ç®¡ç†ä»“åº“çš„å…·ä½“æœåŠ¡å™¨,æ¯ä¸ªæœåŠ¡å™¨ä¸Šå¯ä»¥æœ‰å¤šä¸ªä»“åº“,è€Œæ¯ä¸ªä»“åº“ä¸‹é¢æœ‰å¤šä¸ªé•œåƒ .ä»è¿™æ–¹é¢æ¥è¯´,ä»“åº“å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå…·ä½“çš„é¡¹ç›®æˆ–ç›®å½• .ä¾‹å¦‚å¯¹äºä»“åº“åœ°å€dl.dockerpool.com/ubuntu æ¥è¯´, dl.dockerpool.com æ˜¯æ³¨å†ŒæœåŠ¡å™¨åœ°å€, ubuntu æ˜¯ä»“åº“å .</p>
<p>å¤§éƒ¨åˆ†æ—¶å€™,å¹¶ä¸éœ€è¦ä¸¥æ ¼åŒºåˆ†è¿™ä¸¤è€…çš„æ¦‚å¿µ .</p>
<h3 id="Docker-Hub"><a href="#Docker-Hub" class="headerlink" title="Docker Hub"></a>Docker Hub</h3><p>ç›®å‰ Docker å®˜æ–¹ç»´æŠ¤äº†ä¸€ä¸ªå…¬å…±ä»“åº“ <a href="https://hub.docker.com/explore/" target="_blank" rel="external">Docker Hub</a>,   ä½†æ˜¯å¼€å§‹æŠŠé˜µåœ°ç§»åˆ° <a href="https://store.docker.com/" target="_blank" rel="external">Docker Store</a> è¿™ä¸ªå¹³å°ä¸Š,å…¶ä¸Šèƒ½æ‰¾åˆ°å‡ ä¹æ‰€æœ‰çš„èƒ½æƒ³å¾—åˆ°çš„å®¹å™¨, ä¸å¯å°è§‘ .</p>
<h4 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h4><p>å¯ä»¥é€šè¿‡æ‰§è¡Œ docker login å‘½ä»¤æ¥è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±æ¥å®Œæˆæ³¨å†Œå’Œç™»å½• . æ³¨å†ŒæˆåŠŸå,æœ¬åœ°ç”¨æˆ·ç›®å½•çš„.dockercfg ä¸­å°†ä¿å­˜ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ .</p>
<h4 id="åŸºæœ¬æ“ä½œ-1"><a href="#åŸºæœ¬æ“ä½œ-1" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h4><p>ç”¨æˆ·æ— éœ€ç™»å½•å³å¯é€šè¿‡ <code>docker search</code> å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒ, å¹¶åˆ©ç”¨ <code>docker pull</code> å‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ° .</p>
<p>ä»¥æœç´¢ mongo ä¸ºå…³é”®å­—æœç´¢:</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker search mongo
NAME                           DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mongo                          MongoDB document databases provide high av...   3427      [OK]
mongo-express                  Web-based MongoDB admin interface, written...   168       [OK]
mvertes/alpine-mongo           light MongoDB container                         51                               [OK]
mongoclient/mongoclient        Official docker image for Mongoclient, fea...   29                               [OK]
torusware/speedus-mongo        Always updated official MongoDB docker ima...   9                                [OK]
mongooseim/mongooseim-docker   MongooseIM server the latest stable version     9                                [OK]
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>â€‹æœç´¢ç»“æœå¯ä»¥çœ‹åˆ°å¾ˆå¤šåŒ…å«å…³é”®å­—çš„é•œåƒ,å…¶ä¸­åŒ…æ‹¬é•œåƒåå­—ã€æè¿°ã€æ˜Ÿæ•°ï¼ˆè¡¨ç¤ºè¯¥é•œåƒçš„å—æ¬¢è¿ç¨‹åº¦ï¼‰ã€æ˜¯å¦å®˜æ–¹åˆ›å»ºã€æ˜¯å¦è‡ªåŠ¨åˆ›å»º . å®˜æ–¹çš„é•œåƒè¯´æ˜æ˜¯å®˜æ–¹é¡¹ç›®ç»„åˆ›å»ºå’Œç»´æŠ¤çš„,automated èµ„æºå…è®¸ç”¨æˆ·éªŒè¯é•œåƒçš„æ¥æºå’Œå†…å®¹ .</p>
<p>â€‹æ ¹æ®æ˜¯å¦ä¸ºå®˜æ–¹æä¾›, é•œåƒèµ„æºå¯åˆ†ä¸ºä¸¤ç±» . ä¸€ç±»æ˜¯ç´¯ç±»ä¼¼ mongoè¿™æ ·çš„åŸºç¡€é•œåƒ . è¿™äº›é•œåƒç”± Docker çš„ç”¨æˆ·åˆ›å»ºã€éªŒè¯ã€æ”¯æŒã€æä¾›  . è¿™æ ·çš„é•œåƒå¾€å¾€æ˜¯ä½¿ç”¨å•ä¸ªå•è¯ä½œä¸ºåå­—  . </p>
<p>å¦ä¸€ç§ç±»å‹,æ¯”å¦‚<code>mvertes/alpine-mongo</code> é•œåƒ,å®ƒæ˜¯ç”± Docker çš„ç”¨æˆ·åˆ›å»ºå¹¶ç»´æŠ¤çš„,å¾€å¾€å¸¦æœ‰ç”¨æˆ·åç§°å‰ç¼€  . å¯ä»¥é€šè¿‡å‰ç¼€ <code>user_name/</code> æ¥æŒ‡å®šä½¿ç”¨æŸä¸ªç”¨æˆ·æä¾›çš„é•œåƒ  .</p>
<p>å¦å¤–,åœ¨æŸ¥æ‰¾çš„æ—¶å€™é€šè¿‡ <code>-s N</code> å‚æ•°å¯ä»¥æŒ‡å®šä»…æ˜¾ç¤ºæ˜Ÿæ•°ä¸º N ä»¥ä¸Šçš„é•œåƒ ï¼ˆæ–°ç‰ˆæœ¬çš„ Docker æ¨èä½¿ç”¨ <code>--flter=stars=N</code> å‚æ•°ï¼‰ .</p>
<p>ä¸‹è½½é•œåƒåˆ°æœ¬åœ°</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker pull centos
Pulling repository centos
0b443ba03958: Download complete
539c0211cd76: Download complete
511136ea3c5a: Download complete
7064731afe90: Download complete
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç”¨æˆ·ä¹Ÿå¯ä»¥ç™»å½•ä¹‹åé€šè¿‡ <code>docker push</code> å‘½ä»¤æ¥è®²é•œåƒæ¨é€åˆ° Docker Hub  .</p>
<h4 id="è‡ªåŠ¨åˆ›å»º"><a href="#è‡ªåŠ¨åˆ›å»º" class="headerlink" title="è‡ªåŠ¨åˆ›å»º"></a>è‡ªåŠ¨åˆ›å»º</h4><p>â€‹è‡ªåŠ¨åˆ›å»ºï¼ˆautomated buildsï¼‰åŠŸèƒ½å¯¹äºéœ€è¦ç»å¸¸å‡çº§é•œåƒå†…ç¨‹åºæ¥è¯´,ååˆ†æ–¹ä¾¿ .æœ‰æ—¶å€™,ç”¨æˆ·åˆ›å»ºäº†é•œåƒå®‰è£…äº†æŸä¸ªè½¯ä»¶,å¦‚æœè½¯ä»¶å‘å¸ƒæ–°ç‰ˆæœ¬åˆ™éœ€è¦æ‰‹åŠ¨æ›´æ–°é•œåƒ . .è€Œè‡ªåŠ¨åˆ›å»ºå…è®¸ç”¨æˆ·é€šè¿‡ Docker Hub æŒ‡å®šè·Ÿè¸ªä¸€ä¸ªç›®æ ‡ç½‘ç«™ï¼ˆç›®å‰æ”¯æŒ GitHubæˆ– BitBucketï¼‰ä¸Šçš„é¡¹ç›®,ä¸€æ—¦é¡¹ç›®å‘ç”Ÿæ–°çš„æäº¤,åˆ™è‡ªåŠ¨æ‰§è¡Œåˆ›å»º .</p>
<p>è¦é…ç½®è‡ªåŠ¨åˆ›å»º,åŒ…æ‹¬å¦‚ä¸‹çš„æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ›å»ºå¹¶ç™»å½• Docker Hub,ä»¥åŠç›®æ ‡ç½‘ç«™ï¼›</li>
<li>åœ¨ç›®æ ‡ç½‘ç«™ä¸­è¿æ¥å¸æˆ·åˆ° Docker Hubï¼›</li>
<li>åœ¨ Docker Hub ä¸­ é…ç½®ä¸€ä¸ªè‡ªåŠ¨åˆ›å»ºï¼›</li>
<li>é€‰å–ä¸€ä¸ªç›®æ ‡ç½‘ç«™ä¸­çš„é¡¹ç›®ï¼ˆéœ€è¦å« Dockerfileï¼‰å’Œåˆ†æ”¯ï¼›</li>
<li>æŒ‡å®š Dockerfile çš„ä½ç½®,å¹¶æäº¤åˆ›å»º .</li>
</ul>
<p>ä¹‹å,å¯ä»¥ åœ¨Docker Hub çš„ è‡ªåŠ¨åˆ›å»ºé¡µé¢ ä¸­è·Ÿè¸ªæ¯æ¬¡åˆ›å»ºçš„çŠ¶æ€ .</p>
<h3 id="ç§æœ‰ä»“åº“"><a href="#ç§æœ‰ä»“åº“" class="headerlink" title="ç§æœ‰ä»“åº“"></a>ç§æœ‰ä»“åº“</h3><p>æœ‰æ—¶å€™ä½¿ç”¨ Docker Hub è¿™æ ·çš„å…¬å…±ä»“åº“ç”±äºç½‘ç»œç­‰åŸå› å¯èƒ½ä¸æ–¹ä¾¿,ç”¨æˆ·å¯ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“ä¾›ç§äººä½¿ç”¨ .</p>
<p>éœ€è¦ç”¨åˆ° <code>docker-registry</code> å·¥å…· .</p>
<p><code>docker-registry</code> æ˜¯å®˜æ–¹æä¾›çš„å·¥å…·,å¯ä»¥ç”¨äºæ„å»ºç§æœ‰çš„é•œåƒä»“åº“  .</p>
<h4 id="å®‰è£…è¿è¡Œ-docker-registry"><a href="#å®‰è£…è¿è¡Œ-docker-registry" class="headerlink" title="å®‰è£…è¿è¡Œ docker-registry"></a>å®‰è£…è¿è¡Œ docker-registry</h4><h5 id="å®¹å™¨è¿è¡Œ"><a href="#å®¹å™¨è¿è¡Œ" class="headerlink" title="å®¹å™¨è¿è¡Œ"></a>å®¹å™¨è¿è¡Œ</h5><p>åœ¨å®‰è£…äº† Docker å,å¯ä»¥é€šè¿‡è·å–å®˜æ–¹ registry é•œåƒæ¥è¿è¡Œ  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d -p 5000:5000 registry
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™å°†ä½¿ç”¨å®˜æ–¹çš„ registry é•œåƒæ¥å¯åŠ¨æœ¬åœ°çš„ç§æœ‰ä»“åº“ .ç”¨æˆ·å¯ä»¥é€šè¿‡åˆ¶å®šå‚æ•°æ¥é…ç½®ç§æœ‰ä»“åº“ä½ç½®,ä¾‹å¦‚é…ç½®é•œåƒå­˜å‚¨åˆ° Amazon S3 æœåŠ¡  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run \
-e SETTINGS_FLAVOR=s3 \
-e AWS_BUCKET=acme-docker \
-e STORAGE_PATH=/registry \
-e AWS_KEY=AKIAHSHB43HS3J92MXZ \
-e AWS_SECRET=xdDowwlK7TJajV1Y7EoOZrmuPEJlHYcNP2k4j49T
\
-e SEARCH_BACKEND=sqlalchemy \
-p 5000:5000 \
registry
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ­¤å¤–,è¿˜å¯ä»¥æŒ‡å®šæœ¬åœ°è·¯å¾„ï¼ˆå¦‚<code>/home/user/registry-conf</code> ï¼‰ä¸‹çš„é…ç½®æ–‡ä»¶  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -p 5000:5000 -v /home/user/registry-conf:/r
egistry-conf -e DOCKER_REGISTRY_CONFIG=/registry-conf/config.yml
registry
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p> é»˜è®¤æƒ…å†µä¸‹,ä»“åº“ä¼šè¢«åˆ›å»ºåœ¨å®¹å™¨çš„ <code>/var/lib/registry</code> ä¸‹ .å¯ä»¥é€šè¿‡ <code>-v</code>  å‚æ•°æ¥å°†é•œåƒæ–‡ä»¶å­˜æ”¾åœ¨æœ¬åœ°çš„æŒ‡å®šè·¯å¾„  . ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­å°†ä¸Šä¼ çš„é•œåƒæ”¾åˆ° <code>/opt/data/registy</code> ç›®å½•  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -p 5000:5000 -v /opt/data/registry:/var/lib
/registry registry
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="æœ¬åœ°å®‰è£…"><a href="#æœ¬åœ°å®‰è£…" class="headerlink" title="æœ¬åœ°å®‰è£…"></a>æœ¬åœ°å®‰è£…</h4><p>å¯¹äº Ubuntu æˆ– CentOS ç­‰å‘è¡Œç‰ˆ,å¯ä»¥ç›´æ¥å®‰è£…  .</p>
<ul>
<li>Ubuntu</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo apt-get install -y build-essential python-dev libevent-dev python-pip liblzma-dev
$ sudo pip install docker-registry
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>CentOS</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo yum install -y python-devel libevent-devel python-pip gcc xz-devel
$ sudo python-pip install docker-registry
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¹Ÿå¯ä»¥ä» docker-registry é¡¹ç›®ä¸‹è½½æºç è¿›è¡Œå®‰è£…  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo apt-get install build-essential python-dev libevent-dev python-pip libssl-dev liblzma-dev libffi-dev
$ git clone https://github.com/docker/docker-registry.git
$ cd docker-registry
$ sudo python setup.py install
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶,ä¸»è¦ä¿®æ”¹ dev æ¨¡æ¿æ®µçš„ <code>storage_path</code> åˆ°æœ¬åœ°çš„å­˜å‚¨ä»“åº“çš„è·¯å¾„  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ cp config/config_sample.yml config/config.yml
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¹‹åå¯åŠ¨ web æœåŠ¡  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo gunicorn -c contrib/gunicorn.py docker_registry.wsgi:application
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æˆ–è€… </p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo gunicorn --access-logfile - --error-logfile - -k gevent -b 0.0.0.0:5000 -w 4 --max-requests 100 docker_registry.wsgi:application
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ­¤æ—¶ä½¿ç”¨ crul è®¿é—®æœ¬åœ°çš„ 5000 ç«¯å£,çœ‹åˆ°è¾“å‡º docker-registry çš„ç‰ˆæœ¬ä¿¡æ¯è¯´æ˜è¿è¡ŒæˆåŠŸ  .</p>
<p>*æ³¨ ï¼š <code>config/config_sample.yml</code> æ–‡ä»¶æ—¶ç¤ºä¾‹é…ç½®æ–‡ä»¶</p>
<h4 id="åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€ä¸‹è½½ã€æœç´¢é•œåƒ"><a href="#åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€ä¸‹è½½ã€æœç´¢é•œåƒ" class="headerlink" title="åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€ä¸‹è½½ã€æœç´¢é•œåƒ"></a>åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€ä¸‹è½½ã€æœç´¢é•œåƒ</h4><p>åˆ›å»ºå¥½ç§æœ‰ä»“åº“ä¹‹å,å°±å¯ä»¥ä½¿ç”¨ <code>docker tag</code> æ¥æ ‡è®°ä¸€ä¸ªé•œåƒ,ç„¶åæ¨é€å®ƒåˆ°ä»“åº“,åˆ«çš„æœºå™¨ä¸Šå°±å¯ä»¥ä¸‹è½½äº† .å¦‚ ç§æœ‰ä»“åº“åœ°å€ä¸º <code>1192.168.7.26:5000</code></p>
<p>å…ˆåœ¨æœ¬æœºä¸ŠæŸ¥çœ‹å·²æœ‰çš„é•œåƒ  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
node                    latest              f93ba6280cbd        3 weeks ago         667MB
cockroachdb/cockroach   latest              404f7ee26d38        4 weeks ago         163MB
postgres                latest              ca3a55649cfc        7 weeks ago         269MB
tomcat                  latest              0785a1d16826        7 weeks ago         367MB
owncloud                latest              2327c8d59618        8 weeks ago         572MB
mysql                   latest              e799c7f9ae9c        2 months ago        407MB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨ <code>docker tag</code> å°† <code>tomcat</code>  è¿™ä¸ªé•œåƒæ ‡è®°ä¸º <code>192.168.7.26ï¼š5000/test</code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">[root@vultr ~]# docker tag tomcat 192.168.7.26:5000/test
[root@vultr ~]# docker images
REPOSITORY               TAG                 IMAGE ID            CREATED             SIZE
node                     latest              f93ba6280cbd        3 weeks ago         667MB
cockroachdb/cockroach    latest              404f7ee26d38        4 weeks ago         163MB
postgres                 latest              ca3a55649cfc        7 weeks ago         269MB
192.168.7.26:5000/test   latest              0785a1d16826        7 weeks ago         367MB
tomcat                   latest              0785a1d16826        7 weeks ago         367MB
owncloud                 latest              2327c8d59618        8 weeks ago         572MB
mysql                    latest              e799c7f9ae9c        2 months ago        407MB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç”¨ <code>docker push</code>  ä¸Šä¼ æ ‡è®°çš„é•œåƒ  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker push 192.168.7.26:5000/test
The push refers to a repository [192.168.7.26:5000/test] (len: 1)
Sending image list
Pushing repository 192.168.7.26:5000/test (1 tags)
Image 511136ea3c5a already pushed, skipping
Image 9bad880da3d2 already pushed, skipping
Image 25f11f5fb0cb already pushed, skipping
Image ebc34468f71d already pushed, skipping
Image 2318d26665ef already pushed, skipping
Image ba5877dc9bec already pushed, skipping
Pushing tag for rev [ba5877dc9bec] on {http://192.168.7.26:5000/
v1/repositories/test/tags/latest}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç”¨ <code>curl</code> æŸ¥çœ‹ä»“åº“ä¸­çš„é•œåƒ</p>
<pre class="line-numbers language-shell"><code class="language-shell">curl http://192.168.7.26:5000/v1/search
{"num_results": 7, "query": "", "results": [{"description": "","name": "library/miaxis_j2ee"}, {"description": "", "name": "library/tomcat"}, {"description": "", "name": "library/ubuntu"}, {"description": "", "name": "library/ubuntu_office"}, {"description": "", "name": "library/desktop_ubu"}, {"description": "", "name": "dockerfile/ubuntu"}, {"description": "", "name": "library/test"}]}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° <code>{&quot;description&quot;: &quot;&quot;, &quot;name&quot;: &quot;library/test&quot;}</code> ,è¡¨é¢é•œåƒå·²ç»ä¸Šä¼ æˆåŠŸäº†  .</p>
<p>ä¸‹è½½å¯ä»¥ç”¨å¦ä¸€å°æœºå™¨å»ä¸‹è½½è¿™ä¸ªé•œåƒ  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker pull 192.168.7.26:5000/test
Pulling repository 192.168.7.26:5000/test
ba5877dc9bec: Download complete
511136ea3c5a: Download complete
9bad880da3d2: Download complete
25f11f5fb0cb: Download complete
ebc34468f71d: Download complete
2318d26665ef: Download complete
$ docker images
REPOSITORY         TAG         IMAGE ID
CREATED         VIRTUAL SIZE
192.168.7.26:5000/test latest ba5877dc9bec 
6 weeks ago         192.7 MB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä»“åº“é…ç½®æ–‡ä»¶"><a href="#ä»“åº“é…ç½®æ–‡ä»¶" class="headerlink" title="ä»“åº“é…ç½®æ–‡ä»¶"></a>ä»“åº“é…ç½®æ–‡ä»¶</h3><p>Docker çš„ registry åˆ©ç”¨é…ç½®æ–‡ä»¶æä¾› äº†ä¸€äº›ä»“åº“çš„æ¨¡æ¿ï¼ˆflavorï¼‰,ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬æ¥è¿›è¡Œå¼€å‘æˆ–èº«äº§ç¯å¢ƒ  .</p>
<h4 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h4><p>åœ¨ <code>config_sample.yml</code> æ–‡ä»¶ä¸­,å¯ä»¥çœ‹åˆ°ä¸€äº›ç°æˆçš„æ¨¡æ¿æ®µï¼š</p>
<ul>
<li><code>common</code> ï¼šåŸºç¡€é…ç½®</li>
<li><code>local</code> ï¼šå­˜å‚¨æ•°æ®åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</li>
<li><code>s3</code> ï¼šå­˜å‚¨æ•°æ®åˆ° AWS S3 ä¸­</li>
<li><code>dev</code> ï¼šä½¿ç”¨ local æ¨¡æ¿çš„åŸºæœ¬é…ç½®</li>
<li><code>test</code> ï¼šå•å…ƒæµ‹è¯•ä½¿ç”¨</li>
<li><code>prod</code> ï¼šç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆåŸºæœ¬ä¸Šè·Ÿs3é…ç½®ç±»ä¼¼ï¼‰</li>
<li><code>gcs</code> ï¼šå­˜å‚¨æ•°æ®åˆ° Google çš„äº‘å­˜å‚¨</li>
<li><code>swift</code> ï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Swift æœåŠ¡</li>
<li><code>glance</code> ï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Glance æœåŠ¡,æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸ºåå¤‡</li>
<li><code>glance-swift</code>ï¼šå­˜å‚¨æ•°æ®åˆ° OpenStack Glance æœåŠ¡,Swift ä¸ºåå¤‡</li>
<li><code>elliptics</code> ï¼šå­˜å‚¨æ•°æ®åˆ° Elliptics key/value å­˜å‚¨</li>
</ul>
<p>ç”¨æˆ·å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„æ¨¡æ¿æ®µ  .</p>
<p>é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ¨¡æ¿æ˜¯ <code>dev</code> ,è¦æ˜¯ä½¿ç”¨æŸä¸ªæ¨¡æ¿ä½œä¸ºé»˜è®¤å€¼,å¯ä»¥æ·»åŠ  <code>SETTING-FLAVOR</code> åˆ°ç¯å¢ƒå˜é‡ä¸­å»,</p>
<pre class="line-numbers language-shell"><code class="language-shell">export SETTING_FLAVOR=dev
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦å¤–,é…ç½®æ–‡ä»¶ä¸­æ”¯æŒä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½,è¯­æ³•æ ¼å¼ä¸º</p>
<pre class="line-numbers language-shell"><code class="language-shell">_env:VARIABLENAME[:DEFAULT]
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="ç¤ºä¾‹é…ç½®"><a href="#ç¤ºä¾‹é…ç½®" class="headerlink" title="ç¤ºä¾‹é…ç½®"></a>ç¤ºä¾‹é…ç½®</h4><pre class="line-numbers language-shell"><code class="language-shell">common:
loglevel: info
search_backend: "_env:SEARCH_BACKEND:"
sqlalchemy_index_database:
"_env:SQLALCHEMY_INDEX_DATABASE:sqlite:////tmp/docker-re
gistry.db"
prod:
loglevel: warn
storage: s3
s3_access_key: _env:AWS_S3_ACCESS_KEY
s3_secret_key: _env:AWS_S3_SECRET_KEY
s3_bucket: _env:AWS_S3_BUCKET
boto_bucket: _env:AWS_S3_BUCKET
storage_path: /srv/docker
smtp_host: localhost
from_addr: docker@myself.com
to_addr: my@myself.com
dev:
loglevel: debug
storage: local
storage_path: /home/myself/docker
test:
storage: local
storage_path: /tmp/tmpdockertmp
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Docker-æ•°æ®ç®¡ç†"><a href="#Docker-æ•°æ®ç®¡ç†" class="headerlink" title="Docker æ•°æ®ç®¡ç†"></a>Docker æ•°æ®ç®¡ç†</h2><p>åœ¨å®¹å™¨ç®¡ç†ä¸­æ•°æ®ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>æ•°æ®å· ï¼ˆData volumesï¼‰</li>
<li>æ•°æ®å·å®¹å™¨ ï¼ˆData volume containersï¼‰</li>
</ul>
<h3 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h3><p>æ•°æ®å·æ˜¯ä¸€ä¸ªå¯æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•,å®ƒç»•è¿‡ UFS, å¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹å¾ï¼š</p>
<ul>
<li>æ•°æ®å·å¯ä»¥å†è£æœŸé—´å…±äº«å’Œé‡ç”¨</li>
<li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ç«‹é©¬ç”Ÿæ•ˆ</li>
<li>å¯¹æ•°æ®åŠçš„æ›´æ–°,ä¸ä¼šå½±å“é•œåƒ</li>
<li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨,å³ä½¿å®¹å™¨è¢«åˆ é™¤</li>
</ul>
<p><em>æ³¨ï¼šæ•°æ®å·çš„ä½¿ç”¨,ç±»ä¼¼äºLinux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mount, é•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šéšè—æ‰,èƒ½æ˜¾ç¤ºçœ‹çš„æ˜¯æŒ‚è½½çš„æ•°æ®å·</em></p>
<h4 id="åˆ›å»ºä¸€ä¸ªæ•°æ®å·"><a href="#åˆ›å»ºä¸€ä¸ªæ•°æ®å·" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ•°æ®å·"></a>åˆ›å»ºä¸€ä¸ªæ•°æ®å·</h4><p>â€‹åœ¨ä½¿ç”¨ <code>docker run</code> å‘½ä»¤çš„æ—¶å€™,ä½¿ç”¨ <code>-v</code> å‚æ•°æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·å¹¶æŒ‚è½½åˆ°å®¹å™¨é‡Œ .åœ¨ä¸€æ¬¡ run ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ªæ•°æ®å·  .</p>
<p>ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º web çš„å®¹å™¨,å¹¶åŠ è½½ä¸€ä¸ªæ•°æ®å·åˆ°å®¹å™¨çš„ <code>/webapp</code> ç›®å½•  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d -p --name web -v /webapp training/webapp python app.py
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><em>æ³¨ï¼šä¹Ÿå¯ä»¥åœ¨ Docker ä¸­ä½¿ç”¨ <code>volume</code> æ¥æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ–°çš„å·åˆ°æœ‰è¯¥é•œåƒåˆ›å»ºçš„ä»»æ„å®¹å™¨  .</em></p>
<h4 id="åˆ é™¤æ•°æ®å·"><a href="#åˆ é™¤æ•°æ®å·" class="headerlink" title="åˆ é™¤æ•°æ®å·"></a>åˆ é™¤æ•°æ®å·</h4><p>æ•°æ®å·æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„,å®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨,Docker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤æ•°æ®å·,å¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„æ•°æ®å· .æ—¥å…‰éœ€è¦åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ç§»é™¤æ•°æ®å·,å¯ä»¥å†åˆ é™¤å®¹å™¨çš„æ—¶å€™ä½¿ç”¨ <code>docker rm -v</code> è¿™ä¸ªå‘½ä»¤ .</p>
<h4 id="æŒ‚è½½ä¸€ä¸ªä¸»å¥ç›®å½•ä½œä¸ºæ•°æ®å·"><a href="#æŒ‚è½½ä¸€ä¸ªä¸»å¥ç›®å½•ä½œä¸ºæ•°æ®å·" class="headerlink" title="æŒ‚è½½ä¸€ä¸ªä¸»å¥ç›®å½•ä½œä¸ºæ•°æ®å·"></a>æŒ‚è½½ä¸€ä¸ªä¸»å¥ç›®å½•ä½œä¸ºæ•°æ®å·</h4><p>ä½¿ç”¨ <code>-v</code> å‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šæŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºçš„ç›®å½•åˆ°å®¹å™¨ä¸­å»  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -P --name web -v /src/webapp:/opt/webapp training/webapp python app.py
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>â€‹    ä¸Šé¢çš„å‘½ä»¤åŠ è½½ä¸»æœºçš„ <code>/src/webapp</code> ç›®å½•åˆ°å®¹å™¨çš„ <code>/opt/webapp</code> ç›®å½• .è¿™ä¸ªåŠŸèƒ½åœ¨è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ååˆ†æ–¹ä¾¿,æ¯”å¦‚ç”¨æˆ·å¯ä»¥æ”¾ç½®ä¸€äº›ç¨‹åºåˆ°æœ¬åœ°ç›®å½•ä¸­,æ¥æŸ¥çœ‹å®¹å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œ .æœ¬åœ°ç›®å½•çš„è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„,å¦‚æœç›®å½•ä¸å­˜åœ¨ Dockerä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºå®ƒ .</p>
<p><em>æ³¨ï¼šDockerfile ä¸­ä¸æ”¯æŒè¿™ç§ç”¨æ³•,å› ä¸º Dockerfile æ˜¯ä¸ºäº†ç§»æ¤å’Œåˆ†äº«ç”¨çš„  . ç„¶è€Œ,ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„è·¯å¾„æ ¼å¼ä¸ä¸€æ ·,æ‰€ä»¥ç›®å‰è¿˜ä¸æ”¯æŒ</em> </p>
<p>Docker æŒ‚è½½æ•°æ®å·çš„é»˜è®¤æƒé™æ˜¯è¯»å†™, ç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡ <code>:ro</code> æŒ‡å®šä¸ºåªè¯»</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -P --name web -v /src/webapp:/opt/webapp:ro training/webapp python app.py
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åŠ äº† <code>:ro</code> ä¹‹å,å°±æŒ‚è½½ä¸ºåªè¯»äº† .</p>
<h4 id="æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯"><a href="#æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯"></a>æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯</h4><p>åœ¨ä¸»æœºé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®šå®¹å™¨çš„ä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker inspect web
...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åœ¨è¾“å‡ºçš„å†…å®¹ä¸­æ‰¾åˆ°å…¶ä¸­å’Œæ•°æ®å·ç›¸å…³çš„éƒ¨åˆ†,å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®å·éƒ½æ˜¯åˆ›å»ºåœ¨ä¸»å¥çš„ <code>/var/lib/docker/volumes/</code> ä¸‹é¢çš„</p>
<pre class="line-numbers language-shell"><code class="language-shell">"Volumes": {
"/webapp": "/var/lib/docker/volumes/fac362...80535"
},
"VolumesRW": {
"/webapp": true
}
...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>æ³¨ï¼šä» Docker 1.8.0 èµ·,æ•°æ®å·é…ç½®åœ¨ â€œMountsâ€ Key ä¸‹é¢, å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®å·éƒ½æ˜¯åˆ›å»ºåœ¨ä¸»æœºçš„ <code>/mnt/sda1/var/lib/docker/volumes/...</code> ä¸‹é¢äº†  .</em></p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token property">"Mounts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
<span class="token property">"Name"</span><span class="token operator">:</span> <span class="token string">"b53ebd40054dae599faf7c9666acfe205c3e922
fc3e8bc3f2fd178ed788f1c29"</span><span class="token punctuation">,</span>
<span class="token property">"Source"</span><span class="token operator">:</span> <span class="token string">"/mnt/sda1/var/lib/docker/volumes/b53e
bd40054dae599faf7c9666acfe205c3e922fc3e8bc3f2fd178ed788f1c29/_data"</span><span class="token punctuation">,</span>
<span class="token property">"Destination"</span><span class="token operator">:</span> <span class="token string">"/webapp"</span><span class="token punctuation">,</span>
<span class="token property">"Driver"</span><span class="token operator">:</span> <span class="token string">"local"</span><span class="token punctuation">,</span>
<span class="token property">"Mode"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
<span class="token property">"RW"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token property">"Propagation"</span><span class="token operator">:</span> <span class="token string">""</span>
<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºæ–‡ä»¶ä½œä¸ºæ•°æ®å·"><a href="#æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºæ–‡ä»¶ä½œä¸ºæ•°æ®å·" class="headerlink" title="æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºæ–‡ä»¶ä½œä¸ºæ•°æ®å·"></a>æŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºæ–‡ä»¶ä½œä¸ºæ•°æ®å·</h4><p><code>-v</code> å‚æ•°ä¹Ÿå¯ä»¥ä»ä¸»æœºæŒ‚è½½å•ä¸ªæ–‡ä»¶åˆ°æ–‡ä»¶åˆ°å®¹å™¨ä¸­</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run --rm -it -v ~/.bash_history:/.bash_history ubuntu /bin/bash
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™æ ·å°±å¯ä»¥è®°å½•åœ¨å®¹å™¨è¾“å…¥è¿‡å¾—å‘½ä»¤äº†  .</p>
<h3 id="æ•°æ®å·å®¹å™¨"><a href="#æ•°æ®å·å®¹å™¨" class="headerlink" title="æ•°æ®å·å®¹å™¨"></a>æ•°æ®å·å®¹å™¨</h3><p>å¦‚æœä½ æœ‰ä¸€äº›æŒç»­æ›´æ–°çš„æ•°æ®éœ€è¦åœ¨å®¹å™¨ä¹‹é—´å…±äº«,æœ€å¥½åˆ›å»ºæ•°æ®å·å®¹å™¨  .</p>
<p>æ•°æ®å·å®¹å™¨,å…¶å®å°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å®¹å™¨,ä¸“é—¨ç”¨æ¥æä¾›æ•°æ®å·ä¾›å…¶ä»–å®¹å™¨æŒ‚è½½çš„  .</p>
<p>é¦–å…ˆ,åˆ›å»ºä¸€ä¸ªåä¸º dbdata çš„æ•°æ®å·å®¹å™¨ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -v /dbdata --name dbdata training/postgres echo Data-only container for postgres
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶å,åœ¨å…¶ä»–å®¹å™¨ä¸­ä½¿ç”¨ <code>--volumes-from</code> æ¥æŒ‚è½½ dbdata å®¹å™¨ä¸­çš„æ•°æ®å·  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d --volumes-form dbdata --name db1 training/postgres
$ sudo docker run -d --volumes-form dbdata --name db2 training/postgres
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¯ä»¥ä½¿ç”¨è¶…è¿‡ä¸€ä¸ªçš„<code>--volumes-from</code> å‚æ•°æ¥æŒ‡å®šä»å¤šä¸ªå®¹å™¨æŒ‚è½½ä¸åŒçš„æ•°æ®å·  . ä¹Ÿå¯ä»¥ä»å…¶ä»–å·²ç»æŒ‚è½½äº†æ•°æ®å·çš„å®¹å™¨æ¥çº§è”æŒ‚è½½æ•°æ®å·  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d --name db3 --volumes-from db1 training/postgres
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><em>æ³¨ï¼šä½¿ç”¨ <code>--volumes-from</code>  å‚æ•°æ‰€æŒ‚è½½æ•°æ®å·çš„å®¹å™¨è‡ªå·±å¹¶ä¸éœ€è¦ä¿æŒè¿è¡ŒçŠ¶æ€</em> </p>
<p>å¦‚æœåˆ é™¤äº†æŒ‚è½½çš„å®¹å™¨ï¼ˆåŒ…æ‹¬ dbdataã€db1 å’Œ db2 ï¼‰,æ•°æ®å·å¹¶ä¸ä¼šè¢«è‡ªåŠ¨åˆ é™¤ .å¦‚æœåˆ é™¤ä¸€ä¸ªæ•°æ®å·,å¿…é¡»åœ¨åˆ é™¤æœ€åä¸€ä¸ªè¿˜æŒ‚ç€å®ƒçš„å®¹å™¨æ—¶ä½¿ç”¨ <code>docker rm -v</code> å‘½ä»¤æ¥æŒ‡å®šåŒæ—¶åˆ é™¤å…³è”çš„å®¹å™¨ .è¿™å¯ä»¥è®©ç”¨æˆ·åœ¨å®¹å™¨ä¹‹é—´å‡çº§å’Œç§»åˆ°æ•°æ®å· .</p>
<h4 id="åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥å¤‡ä»½ã€æ¢å¤ã€è¿ç§»æ•°æ®å·"><a href="#åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥å¤‡ä»½ã€æ¢å¤ã€è¿ç§»æ•°æ®å·" class="headerlink" title="åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥å¤‡ä»½ã€æ¢å¤ã€è¿ç§»æ•°æ®å·"></a>åˆ©ç”¨æ•°æ®å·å®¹å™¨æ¥å¤‡ä»½ã€æ¢å¤ã€è¿ç§»æ•°æ®å·</h4><p>å¯ä»¥åˆ©ç”¨æ•°æ®å·å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œå¤‡ä»½ã€æ¢å¤å’Œè¿ç§» .</p>
<h5 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h5><p>é¦–å…ˆä½¿ç”¨ <code>--volumes-from</code> æ ‡è®°æ¥åˆ›å»ºä¸€ä¸ªåŠ è½½ dbdata æ•°æ®å·çš„å®¹å™¨,å¹¶ä»ä¸»æœºæŒ‚è½½å½“å‰ç›®å½•åˆ°å®¹å™¨çš„ /backup ç›®å½• .å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run --volumes-from dbdata -v$(pwd):/backup ubuntu tar cvf /backup/backup.tar /dbdata
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®¹å™¨å¯åŠ¨å,ä½¿ç”¨äº† <code>tar</code> å‘½ä»¤æ¥å°† dbdata å·å¤‡ä»½ä¸ºå®¹å™¨ä¸­ /backup/backup.tar æ–‡ä»¶,ä¹Ÿå°±æ˜¯ä¸»æœºå½“å‰ç›®å½•ä¸‹çš„åä¸º backup.tar çš„æ–‡ä»¶  .</p>
<h5 id="æ¢å¤"><a href="#æ¢å¤" class="headerlink" title="æ¢å¤"></a>æ¢å¤</h5><p>å¦‚æœè¦æ¢å¤æ•°æ®åˆ°ä¸€ä¸ªå®¹å™¨,é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç©ºæ•°æ®å·çš„å®¹å™¨ dbdata2  .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -v /dbdata --name dbdata2 ubuntu /bin/bash
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç„¶ååˆ›å»ºå¦ä¸€ä¸ªå®¹å™¨,æŒ‚è½½ dbdata2 å®¹å™¨å·ä¸­çš„æ•°æ®å·,å¹¶ä½¿ç”¨ <code>untar</code>  è§£å‹å¤‡ä»½æ–‡ä»¶åˆ°æŒ‚è½½çš„å®¹å™¨å·ä¸­ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run --volumes-form dbdata2 -v $(pwd):/backup busybox tar xvf
/backup/backup.tar
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¸ºäº†æŸ¥çœ‹/éªŒè¯æ¢å¤çš„æ•°æ®,å¯ä»¥å†å¯åŠ¨ä¸€ä¸ªå®¹å™¨æŒ‚è½½åŒæ ·çš„å®¹å™¨å·æ¥æŸ¥çœ‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run --volumes-from dbdata2 busybox /bin/ls dbdata
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5 id="è¿ç§»æ•°æ®å·"><a href="#è¿ç§»æ•°æ®å·" class="headerlink" title="è¿ç§»æ•°æ®å·"></a>è¿ç§»æ•°æ®å·</h5><p>ä»£å†™ . . .</p>
<h1 id="Docker-ä¸­çš„ç½‘ç»œ"><a href="#Docker-ä¸­çš„ç½‘ç»œ" class="headerlink" title="Docker ä¸­çš„ç½‘ç»œ"></a>Docker ä¸­çš„ç½‘ç»œ</h1><p>Docker å…è®¸é€šè¿‡å¤–éƒ¨è®¿é—®å®¹å™¨æˆ–å®¹å™¨äº’è”çš„æ–¹å¼æ¥æä¾›ç½‘ç»œæœåŠ¡  .</p>
<h2 id="å¤–éƒ¨è®¿é—®å®¹å™¨"><a href="#å¤–éƒ¨è®¿é—®å®¹å™¨" class="headerlink" title="å¤–éƒ¨è®¿é—®å®¹å™¨"></a>å¤–éƒ¨è®¿é—®å®¹å™¨</h2><p>å®¹å™¨ä¸­å¯ä»¥ä¸è¿è¡Œä¸€äº›ç½‘ç»œåº”ç”¨,è¦è®©å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›åº”ç”¨,å¯ä»¥é€šè¿‡ <code>-P</code>  æˆ– <code>-p</code> å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ .</p>
<p>å½“ä½¿ç”¨ <code>-P</code> å‚æ•°æ—¶,Docker ä¼šéšæœºæ˜ å°„ä¸€ä¸ª <code>49000~49900</code> çš„ç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ .</p>
<p>ä½¿ç”¨ <code>docker ps</code> å¯ä»¥çœ‹åˆ°,æœ¬åœ°ä¸»æœºçš„49155 è¢«æ˜ å°„åˆ°äº†å®¹å™¨çš„5000 ç«¯å£  .</p>
<p>æ­¤æ—¶è®¿é—®æœ¬æœºçš„49155 ç«¯å£å³å¯è®¿é—®å®¹å™¨å†… web åº”ç”¨æä¾›çš„ç•Œé¢ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -P training/webapp python app.py
$ sudo docker ps -l
CONTAINER ID         IMAGE                     COMMAND         CREATED
STATUS             PORTS                     NAMES
bc533791f3f5         training/webapp:latest     python app.py     5 seconds ag
o Up 2 seconds     0.0.0.0:49155->5000/tcp nostalgic_morse
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>-P</code> ï¼ˆå°å†™ï¼‰åˆ™å¯ä»¥æŒ‡å®šè¦æ˜ å°„çš„ç«¯å£,å¹¶ä¸”åœ¨ä¸€ä¸ªæŒ‡å®šç«¯å£ä¸Šåªå¯ä»¥ç»‘å®šä¸€ä¸ªå®¹å™¨ .æ”¯æŒçš„æ ¼å¼æœ‰</p>
<ul>
<li><code>ip:HostPort:containerPort</code></li>
<li><code>ip::containerPort</code></li>
<li><code>hostPort:containerPort</code></li>
</ul>
<h3 id="æ˜ å°„æ‰€æœ‰æ¥å£åœ°å€"><a href="#æ˜ å°„æ‰€æœ‰æ¥å£åœ°å€" class="headerlink" title="æ˜ å°„æ‰€æœ‰æ¥å£åœ°å€"></a>æ˜ å°„æ‰€æœ‰æ¥å£åœ°å€</h3><p>ä½¿ç”¨ <code>hostPort ï¼šcontainerPort</code> æ ¼å¼æœ¬åœ°çš„5000ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„5000ç«¯å£,å¯ä»¥æ‰§è¡Œ</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d -p 5000:5000 training/webapp python app.py
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ­¤æ—¶é»˜è®¤ä¼šç»‘å®šæœ¬åœ°æ‰€æœ‰æ¥å£ä¸Šçš„æ‰€æœ‰æ¥å£ .</p>
<h3 id="æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£"><a href="#æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£" class="headerlink" title="æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£"></a>æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£</h3><p>å¯ä»¥ä½¿ç”¨ <code>ip:hostPort:containerPort</code> æ ¼å¼æŒ‡å®šæ˜ å°„ä½¿ç”¨ä¸€ä¸ªç‰¹å®šåœ°å€,æ¯”å¦‚ localhost åœ°å€ 127.0.0.1</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo docker run -d -p 127.0.0.1:5000:5000 training/webapp python app.py
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½®"><a href="#æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½®" class="headerlink" title="æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½®"></a>æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½®</h3><p>ä½¿ç”¨ <code>docker port</code> æ¥æŸ¥çœ‹å½“å‰æ˜ å°„çš„ç«¯å£é…ç½®,ä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°ç»‘å®šçš„åœ°å€</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker port gogs
22/tcp -> 0.0.0.0:10022
3000/tcp -> 0.0.0.0:10080
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å¯ä»¥çœ‹åˆ° <code>gogs</code> æœ‰ä¸¤ä¸ªå®¹å™¨å†…çš„ç«¯å£ 22, 3000 åˆ†åˆ«æ˜ å°„ä¸»æœºçš„10022,10080 ç«¯å£  .</p>
<p><em>æ³¨ï¼š -p å¯ä»¥å¤šæ¬¡ä½¿ç”¨æ¥ç»‘å®šå¤šä¸ªç«¯å£,ä¹Ÿå°±æ˜¯è¯´ä¸€æ¡å‘½ä»¤å¯ä»¥æœ‰å¤šä¸ª -p ,å¦‚ï¼šä¸Šé¢ğŸ‘†çš„ gogs å®¹å™¨å°±ç»‘å®šäº†ä¿©ç«¯å£</em></p>
<h2 id="å®¹å™¨äº’è”"><a href="#å®¹å™¨äº’è”" class="headerlink" title="å®¹å™¨äº’è”"></a>å®¹å™¨äº’è”</h2><p>å®¹å™¨çš„è¿æ¥ï¼ˆlinkingï¼‰ç³»ç»Ÿæ˜¯é™¤äº†ç«¯å£æ˜ å°„å¤–,å¦ä¸€ç§è·Ÿå®¹å™¨ä¸­åº”ç”¨äº¤äº’çš„æ–¹å¼ .è¯¥ç³»ç»Ÿä¼šåœ¨æºå’Œæ¥å—å®¹å™¨ä¹‹é—´åˆ›å»ºä¸€ä¸ªé€šé“,æ¥å—å®¹å™¨å¯ä»¥çœ‹åˆ°æºå®¹å™¨æŒ‡å®šçš„ä¿¡æ¯ .</p>
<h3 id="è‡ªå®šä¹‰å®¹å™¨å‘½å"><a href="#è‡ªå®šä¹‰å®¹å™¨å‘½å" class="headerlink" title="è‡ªå®šä¹‰å®¹å™¨å‘½å"></a>è‡ªå®šä¹‰å®¹å™¨å‘½å</h3><p>è¿æ¥ç³»ç»Ÿä¾æ®å®¹å™¨çš„åç§°æ¥æ‰§è¡Œ .å› æ­¤,é¦–å…ˆéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªå¥½è®°çš„å®¹å™¨å‘½å .</p>
<p>è™½ç„¶åˆ›å»ºå®¹å™¨çš„æ—¶å€™,ç³»ç»Ÿé»˜è®¤ä¼šåˆ†é…ç»™ä¸€ä¸ªåå­— .ä½†æ˜¯è‡ªå®šä¹‰å‘½åå®¹å™¨çš„è¯,ç¬¬ä¸€,å¥½è®°,ç¬¬äºŒ,å¯ä»¥ä½œä¸ºæœ‰ç”¨çš„å‚è€ƒçš„ .</p>
<p>ä½¿ç”¨ <code>--name</code> å‚æ•°å¯ä»¥ä¸ºå®¹å™¨è‡ªå®šä¹‰å‘½å .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker run -d -p 8181:4040 --name own-cloud owncloud
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½¿ç”¨ <code>docker ps</code> æ¥æŸ¥çœ‹æ­£è¿è¡Œçš„å®¹å™¨</p>
<pre class="line-numbers language-shell"><code class="language-shell">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                            NAMES
2c2e766e86fd        owncloud            "/entrypoint.sh ap..."   23 hours ago        Up 23 hours         80/tcp, 0.0.0.0:8181->4040/tcp                   own-cloud
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨ <code>docker inspect</code> å‘½ä»¤æ¥æŸ¥çœ‹å®¹å™¨åå­—</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ docker inspect -f "{{.Name}}" 2c2e766e86fd
/own-cloud
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><em>æ³¨ï¼šå®¹å™¨çš„åç§°æ˜¯å”¯ä¸€çš„ .å¦‚æœå·²ç»å‘½åäº†ä¸€ä¸ªå« own-cloud çš„å®¹å™¨,å½“ä½ å†æ¬¡ä½¿ç”¨è¿™ä¸ªåè¯çš„æ—¶å€™,éœ€è¦å…ˆæŠŠä¹‹å‰çš„çš„åŒåå®¹å™¨åˆ é™¤</em></p>
<p><em>tipsï¼šåœ¨æ‰§è¡Œ  <code>docker run</code>  çš„æ—¶å€™å¯ä»¥æ·»åŠ   <code>â€”rm</code>  å‚æ•°,è¿™æ ·å®¹å™¨åœ¨ç»ˆæ­¢åç«‹åˆ»åˆ é™¤ .æ³¨æ„,<code>â€”rm</code> å’Œ  <code>-d</code> å‚æ•°ä¸èƒ½åŒæ—¶ä½¿ç”¨  .</em></p>
<h3 id="å®¹å™¨äº’è”-1"><a href="#å®¹å™¨äº’è”-1" class="headerlink" title="å®¹å™¨äº’è”"></a>å®¹å™¨äº’è”</h3><p>ä½¿ç”¨ <code>--link</code> å‚æ•°å¯ä»¥è®©å®¹å™¨ä¹‹é—´å®‰å…¨çš„è¿›è¡Œäº¤äº’ .</p>
<p>ä¸‹é¢æ˜¯,è¿è¡Œ <code>Nginx</code> å®¹å™¨çš„æ—¶å€™æŠŠ <code>gogs</code> è¿™ä¸ªå®¹å™¨è¿æ¥ä¸Š</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -d --name my_nginx --link gogs:app --link own-cloud:app2 -p 80:80 -v /root/nginx/config:/etc/nginx/conf.d nginx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ­¤æ—¶,gogs å®¹å™¨å’Œ my_nginx å®¹å™¨å»ºç«‹äº’è”å…³ç³»</p>
<p><code>--link</code> å‚æ•°çš„æ ¼å¼ä¸º <code>--link name:alias</code> ,å…¶ä¸­ name æ˜¯è¦è¿æ¥çš„å®¹å™¨åç§°, alias æ˜¯è¿™ä¸ªè¿æ¥çš„åˆ«å  .</p>
<p>å¯ä»¥é€šè¿‡ <code>docker inspect</code> å‘½ä»¤æŸ¥çœ‹ my_nginx å®¹å™¨ä¿¡æ¯,å°±ä¼šå‘ç°æœ‰è¿™ä¹ˆä¸€æ®µä¿¡æ¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">"Links": [
                "/gogs:/trusting_brown/app",
                "/own-cloud:/trusting_brown/app2"
            ],
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¡¨é¢æ­¤å®¹å™¨å·²ç»è¿ä¸Šä¸¤ä¸ªå®¹å™¨, gogs å’Œ own-cloud,trusting_brown æ˜¯ç³»ç»Ÿåˆ†é…ç»™ Nginx çš„åç§°,è¿æ¥åç§°åˆ†åˆ«æ˜¯ app å’Œ app2  .</p>
<p>Docker åœ¨ä¸¤ä¸ªäº’è”çš„å®¹å™¨ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªå®‰å…¨çš„éš§é“,è€Œä¸”ä¸ç”¨æ˜ å°„åˆ°å®ƒä»¬çš„ç«¯å£åˆ°ä¸»æœºä¸Š .åœ¨å¯åŠ¨è¢«è¿æ¥çš„å®¹å™¨çš„æ—¶å€™ä¸ç”¨æ·»åŠ  -p æˆ– -P å‚æ•°,ä»è€Œé¿å…æš´éœ²ç«¯å£åˆ°å¤–éƒ¨ç½‘ç»œä¸Š .</p>
<p>è¿æ¥ä¹‹å,åœ¨ Nginx å®¹å™¨é‡Œ,å°±ä¼šå‘ç”Ÿä¸¤ä¸ªå˜åŒ–  .</p>
<p>ä¸€æ˜¯ç¯å¢ƒå˜é‡ .åœ¨ Nginx å®¹å™¨ä¸­ä¼šå‡ºç°6ä¸ªæ–°å¢çš„ç¯å¢ƒå˜é‡,è¿™äº›ç¯å¢ƒå˜é‡çš„åç§°åˆ†è´æ—¶ç”±è¢«è¿æ¥çš„æœåŠ¡åˆ«åã€ç«¯å£ç­‰æ‹¼æ¥è€Œæˆçš„ .</p>
<p><em>ç”±äºèµ·å¾— gogs å®¹å™¨æœ‰ä¸¤ä¸ªç«¯å£,æ‰€ä»¥å…¶ä¸­ APP_PORTã€APP_NAMEã€APP_ENV_GOGS_CUSTOM æ˜¯å…¬ç”¨çš„,å…¶å®ƒ8ä¸ªå˜é‡æ¯å››ä¸ªçš„åˆ†åˆ«å¯¹åº”22, 3000 ç«¯å£</em></p>
<pre class="line-numbers language-shell"><code class="language-shell"># env | grep APP
APP_PORT_3000_TCP=tcp://172.17.0.2:3000
APP_PORT_22_TCP_PROTO=tcp
APP_ENV_GOGS_CUSTOM=/data/gogs
APP_PORT_3000_TCP_ADDR=172.17.0.2
APP_PORT_3000_TCP_PROTO=tcp
APP_PORT_22_TCP_PORT=22
APP_PORT_3000_TCP_PORT=3000
APP_PORT=tcp://172.17.0.2:22
APP_NAME=/my_nginx/app
APP_PORT_22_TCP=tcp://172.17.0.2:22
APP_PORT_22_TCP_ADDR=172.17.0.2
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>äºŒæ˜¯ hosts æ–‡ä»¶ .åœ¨ Nginx å®¹å™¨çš„ hosts æ–‡ä»¶çœ‹åˆ°ä¸‹é¢çš„è®°å½• .è¿™å°±æ˜¯è¯´,ä¸€åˆ‡è®¿é—® è¿æ¥åˆ«åï¼ˆappï¼‰ã€å®¹å™¨ IDï¼ˆac4c0cf35adfï¼‰å’Œå®¹å™¨åï¼ˆgogsï¼‰çš„è¯·æ±‚éƒ½ä¼šè¢«é‡æ–°å¯¼å‘åˆ°å®æ—¶å®é™…çš„ app çš„ ip åœ°å€ä¸Š .</p>
<pre class="line-numbers language-shell"><code class="language-shell"># cat /etc/hosts | grep app
172.17.0.2    app ac4c0cf35adf gogs
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="é«˜çº§ç½‘ç»œé…ç½®"><a href="#é«˜çº§ç½‘ç»œé…ç½®" class="headerlink" title="é«˜çº§ç½‘ç»œé…ç½®"></a>é«˜çº§ç½‘ç»œé…ç½®</h2><p>å½“ Docker å¯åŠ¨æ—¶,ä¼šè‡ªåŠ¨çš„ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ª <code>docker0</code> è™šæ‹Ÿç½‘æ¡¥,å®é™…ä¸Šæ˜¯ Linux çš„ä¸€ä¸ª bridge,å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½¯ä»¶äº¤æ¢æœº .å®ƒä¼šæŒ‚è½½åˆ°å®ƒçš„ç½‘å£ä¹‹é—´è¿›è¡Œè½¬å‘ .</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ ip addr | grep docker0
docker0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP
    link/ether 02:42:23:c6:3f:1c brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.1/16 scope global docker0
       valid_lft forever preferred_lft forever
    inet6 fe80::42:23ff:fec6:3f1c/64 scope link
       valid_lft forever preferred_lft forever
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åŒæ—¶,Docker éšæœºåˆ†ä¸€ä¸ªæœ¬åœ°æœªå ç”¨çš„ç§æœ‰ç½‘æ®µï¼ˆåœ¨ <a href="https://tools.ietf.org/html/rfc1918" target="_blank" rel="external">RFC1919</a> ä¸­å®šä¹‰ï¼‰ä¸­çš„ä¸€ä¸ªåœ°å€ç»™ <code>docker0</code> æ¥å£ .æ¯”å¦‚æˆ‘çš„ä¸»æœºä¸Šçš„ docker0 ip ä¸º <code>172.17.0.1</code> ,æ©ç ä¸º <code>255.255.0.0</code>  .æ­¤åå¯åŠ¨çš„å®¹å™¨å†…çš„ç½‘å£ä¹Ÿä¼šè‡ªåŠ¨åˆ†é…æœ‰ä¸ªä¸€ä¸ªåŒä¸€ç½‘æ®µï¼ˆ<code>172.17.0.0/16</code>ï¼‰çš„åœ°å€ .</p>
<p>å½“åˆ›å»ºä¸€ä¸ª Docker å®¹å™¨çš„æ—¶å€™,åŒæ—¶ä¼šåˆ›å»ºä¸€å¯¹ <code>vath pair</code> æ¥å£ï¼ˆå½“æ•°æ®åŒ…å‘é€åˆ°ä¸€ä¸ªæ¥å£,å¦ä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥æ”¶åˆ°ç›¸åŒçš„æ•°æ®åŒ…ï¼‰ .è¿™å¯¹æ¥å£ä¸€æ®µåœ¨å®¹å™¨å†…,å³ <code>eth0</code> ï¼›å¦ä¸€ç«¯åœ¨æœ¬åœ°å¹¶æŒ‚è½½åˆ° docker0 ç½‘æ¡¥,åç§°ä»¥ <code>veth</code> å¼€å¤´  .é€šè¿‡è¿™ç§æ–¹å¼,ä¸»æœºå¯ä»¥è·Ÿå®¹å™¨é€šä¿¡,å®¹å™¨ä¹‹é—´ä¹Ÿå¯ä»¥ç›¸äº’é€šä¿¡ . Docker å°±åˆ›å»ºäº†åœ¨ä¸»æœºå’Œæ‰€æœ‰å®¹å™¨ä¹‹é—´ä¸€ä¸ªè™šæ‹Ÿå…±äº«ç½‘ç»œ .</p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/network.png" alt="Docker ç½‘ç»œ"></p>
<p>â€‹                                            å›¾ i.i docker ç½‘ç»œ</p>
<p>æ¥ä¸‹æ¥éƒ¨åˆ†å°†ä»‹ç»åœ¨ä¸€äº›åœºæ™¯ä¸­,Docker æ‰€æœ‰çš„ç½‘ç»œå®šåˆ¶é…ç½® .ä»¥åŠé€šè¿‡ Linux å‘½ä»¤æ¥è°ƒæ•´ã€è¡¥å……ã€ç”šè‡³æ›¿æ¢ Docker é»˜è®¤çš„ç½‘ç»œé…ç½® .</p>
<h3 id="å¿«é€Ÿé…ç½®"><a href="#å¿«é€Ÿé…ç½®" class="headerlink" title="å¿«é€Ÿé…ç½®"></a>å¿«é€Ÿé…ç½®</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªè·Ÿ Docker ç½‘ç»œç›¸å…³çš„å‘½ä»¤åˆ—è¡¨ .</p>
<p>å…¶ä¸­æœ‰äº›å‘½ä»¤é€‰é¡¹åªæœ‰åœ¨ Docker æœåŠ¡å¯åŠ¨çš„æ—¶å€™æ‰èƒ½é…ç½®,è€Œä¸”ä¸èƒ½é©¬ä¸Šç”Ÿæ•ˆ .</p>
<ul>
<li><code>-b BRIDGE or --bridge==BRIDGE</code> â€“æŒ‡å®šå®¹å™¨æŒ‚è½½çš„ç½‘æ¡¥</li>
<li><code>--bip=CIDR</code> â€” å®šåˆ¶ docker0 çš„æ©ç </li>
<li><code>-H SOCKET... or --host=SOCKETâ€¦</code> â€”Docker æœåŠ¡ç«¯æ¥å—å‘½ä»¤çš„é€šé“</li>
<li><code>--icc=true|false</code> â€“æ˜¯å¦æ”¯æŒå®¹å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡</li>
<li><code>--ip-forward=true|false</code> â€”å®¹å™¨æ˜¯å¦èƒ½è®¿é—®å¤–ç½‘ï¼ˆè¯¦ç»†è§£æè¯·çœ‹ä¸‹æ–‡çš„å®¹å™¨é€šä¿¡ï¼‰</li>
<li><code>--iptables=true|false</code> â€“æ˜¯å¦å…è®¸ Docker æ·»åŠ  iptables è§„åˆ™</li>
<li><code>--mtu=BYTES</code> â€”å®¹å™¨ç½‘ç»œä¸­çš„ MTU</li>
</ul>
<p>ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤æ—¢å¯ä»¥åœ¨æœåŠ¡å¯åŠ¨æ—¶æŒ‡å®š,ä¹Ÿå¯ä»¥ Docker å®¹å™¨å¯åŠ¨ï¼ˆdocker run ï¼‰æ—¶å€™æŒ‡å®š .</p>
<p>åœ¨ Docker æœåŠ¡å¯åŠ¨çš„æ—¶å€™æŒ‡å®šåˆ™ä¼šæˆä¸ºé»˜è®¤å€¼,åé¢æ‰§è¡Œ<code>docker run</code>æ—¶å¯ä»¥è¦†ç›–è®¾ç½®çš„é»˜è®¤å€¼ .</p>
<ul>
<li><code>--dns=IP_ADDRESSâ€¦</code> â€”ä½¿ç”¨æŒ‡å®šçš„ DNS æœåŠ¡å™¨</li>
<li><code>--dns-search=DOMAIN...</code> æŒ‡å®š DNS æœç´¢åŸŸ</li>
</ul>
<p>æœ€åè¿™äº›é€‰é¡¹åªæœ‰åœ¨ docker run æ‰§è¡Œæ—¶ä½¿ç”¨,å› ä¸ºå®ƒæ˜¯é’ˆå¯¹å®¹å™¨çš„ç‰¹æ€§å†…å®¹ .</p>
<ul>
<li><code>-h HOSTNAME or --hostname=HOSTNAME</code> â€“é…ç½®å®¹å™¨ä¸»æœºå</li>
<li><code>--link=CONRATAINER_NAME:ALIAS</code> â€”æ·»åŠ åˆ°å¦ä¸€ä¸ªå®¹å™¨çš„è¿æ¥</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt; docker çš„åŸºæœ¬æ“ä½œå’Œä½¿ç”¨ã€‚ã€‚ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://yusank.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Go UDP Socket</title>
    <link href="http://yusank.github.io/GO-UDP.html/"/>
    <id>http://yusank.github.io/GO-UDP.html/</id>
    <published>2017-07-12T11:00:01.000Z</published>
    <updated>2017-08-17T07:10:26.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>udp å’Œ tcp çš„ç®€å•æ¯”è¾ƒå’Œç”¨ go å®ç°æœ€ç®€å•çš„ udp å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ â€¦â€¦<br><a id="more"></a></p>
<h1 id="ç”¨-go-å®ç°ç®€å•çš„-udp"><a href="#ç”¨-go-å®ç°ç®€å•çš„-udp" class="headerlink" title="ç”¨ go å®ç°ç®€å•çš„ udp"></a>ç”¨ go å®ç°ç®€å•çš„ udp</h1><p>ç”¨æˆ·æ•°æ®åŒ…åè®®ï¼ˆè‹±è¯­ï¼šUser Datagram Protocolï¼Œç¼©å†™ä¸ºUDPï¼‰ï¼Œåˆç§°ç”¨æˆ·æ•°æ®æŠ¥æ–‡åè®®ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„é¢å‘æ•°æ®æŠ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæ­£å¼è§„èŒƒä¸ºRFC 768ã€‚<br>åœ¨TCP/IPæ¨¡å‹ä¸­ï¼ŒUDPä¸ºç½‘ç»œå±‚ä»¥ä¸Šå’Œåº”ç”¨å±‚ä»¥ä¸‹æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚UDPåªæä¾›æ•°æ®çš„ä¸å¯é ä¼ é€’ï¼Œå®ƒä¸€æ—¦æŠŠåº”ç”¨ç¨‹åºå‘ç»™ç½‘ç»œå±‚çš„æ•°æ®å‘é€å‡ºå»ï¼Œå°±ä¸ä¿ç•™æ•°æ®å¤‡ä»½ï¼ˆæ‰€ä»¥UDPæœ‰æ—¶å€™ä¹Ÿè¢«è®¤ä¸ºæ˜¯ä¸å¯é çš„æ•°æ®æŠ¥åè®®ï¼‰ã€‚UDPåœ¨IPæ•°æ®æŠ¥çš„å¤´éƒ¨ä»…ä»…åŠ å…¥äº†å¤ç”¨å’Œæ•°æ®æ ¡éªŒï¼ˆå­—æ®µï¼‰ã€‚</p>
<h2 id="UDP-ä¸-TCP-çš„æ¯”è¾ƒ"><a href="#UDP-ä¸-TCP-çš„æ¯”è¾ƒ" class="headerlink" title="UDP ä¸ TCP çš„æ¯”è¾ƒ"></a>UDP ä¸ TCP çš„æ¯”è¾ƒ</h2><ul>
<li><p>UDP â€“ ç”¨æˆ·æ•°æ®åè®®åŒ…ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„é¢å‘æ•°æ®æŠ¥çš„è¿è¾“å±‚åè®®ã€‚UDP ä¸æä¾›å¯é æ€§ï¼Œå®ƒåªæ˜¯æŠŠåº”ç”¨ç¨‹åºç»™ IP å±‚çš„æ•°æ®æŠ¥å‘é€å‡ºå»ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä¿è¯ä»–ä»¬èƒ½è¾¾åˆ°ç›®çš„åœ°ã€‚ç”±äº UDP åœ¨ä¼ è¾“æ•°æ®æŠ¥ä¹‹å‰ä¸ç”¨åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œä¸”æ²¡æœ‰è¶…æ—¶æœºåˆ¶ï¼Œæ•…è€Œä¼ è¾“é€Ÿåº¦å¾ˆå¿«ã€‚</p>
</li>
<li><p>TCP â€“ ä¼ è¾“æ§åˆ¶åè®®ï¼Œæä¾›çš„æ˜¯é¢å‘è¿æ¥ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ã€‚å½“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å½¼æ­¤äº¤æ¢æ•°æ®å‰ï¼Œå¿…é¡»å…ˆåœ¨åŒæ–¹ä¹‹é—´å»ºç«‹ TCP è¿æ¥ï¼Œä¹‹åæ‰èƒ½ä¼ è¾“æ•°æ®ã€‚TCP æä¾›è¶…æ—¶é‡å‘ï¼Œä¸¢å¼ƒé‡å¤æ•°æ®ï¼Œæ£€éªŒæ•°æ®ï¼Œæµé‡æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œä¿è¯æ•°æ®èƒ½ä»ä¸€æ®µä¼ åˆ°å¦ä¸€ç«¯ã€‚</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>-</th>
<th>TCP</th>
<th>UDP</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯å¦è¿æ¥</td>
<td>é¢å‘è¿æ¥</td>
<td>é¢å‘éè¿æ¥</td>
</tr>
<tr>
<td>ä¼ è¾“å¯é æ€§</td>
<td>å¯é </td>
<td>ä¼šä¸¢åŒ…ï¼Œä¸å¯é </td>
</tr>
<tr>
<td>åº”ç”¨åœºæ™¯</td>
<td>ä¼ è¾“æ•°æ®é‡å¤§</td>
<td>ä¼ è¾“æ•°æ®é‡å°</td>
</tr>
<tr>
<td>é€Ÿåº¦</td>
<td>æ…¢</td>
<td>å¿«</td>
</tr>
</tbody>
</table>
<h2 id="TCP-ä¸-UDP-çš„é€‰æ‹©"><a href="#TCP-ä¸-UDP-çš„é€‰æ‹©" class="headerlink" title="TCP ä¸ UDP çš„é€‰æ‹©"></a>TCP ä¸ UDP çš„é€‰æ‹©</h2><p>å½“æ•°æ®ä¼ è¾“çš„æ€§èƒ½å¿…é¡»è®©ä½äºæ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§ã€å¯æ§åˆ¶æ€§å’Œå¯é æ€§æ—¶ï¼ŒTCPåè®®æ˜¯å½“ç„¶çš„é€‰æ‹©ã€‚å½“å¼ºè°ƒä¼ è¾“æ€§èƒ½è€Œä¸æ˜¯ä¼ è¾“çš„å®Œæ•´æ€§æ—¶ï¼Œå¦‚ï¼šéŸ³é¢‘å’Œå¤šåª’ä½“åº”ç”¨ï¼ŒUDPæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚åœ¨æ•°æ®ä¼ è¾“æ—¶é—´å¾ˆçŸ­ï¼Œä»¥è‡³äºæ­¤å‰çš„è¿æ¥è¿‡ç¨‹æˆä¸ºæ•´ä¸ªæµé‡ä¸»ä½“çš„æƒ…å†µä¸‹ï¼ŒUDPä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå¦‚ï¼šDNSäº¤æ¢ã€‚æŠŠSNMPå»ºç«‹åœ¨UDPä¸Šçš„éƒ¨åˆ†åŸå› æ˜¯è®¾è®¡è€…è®¤ä¸ºå½“å‘ç”Ÿç½‘ç»œé˜»å¡æ—¶ï¼ŒUDPè¾ƒä½çš„å¼€é”€ä½¿å…¶æœ‰æ›´å¥½çš„æœºä¼šå»ä¼ é€ç®¡ç†æ•°æ®ã€‚TCPä¸°å¯Œçš„åŠŸèƒ½æœ‰æ—¶ä¼šå¯¼è‡´ä¸å¯é¢„æ–™çš„æ€§èƒ½ä½ä¸‹ï¼Œä½†æ˜¯æˆ‘ä»¬ç›¸ä¿¡åœ¨ä¸è¿œçš„å°†æ¥ï¼ŒTCPå¯é çš„ç‚¹å¯¹ç‚¹è¿æ¥å°†ä¼šç”¨äºç»å¤§å¤šæ•°çš„ç½‘ç»œåº”ç”¨ã€‚</p>
<h2 id="UDP-ä½¿ç”¨åœºæ™¯"><a href="#UDP-ä½¿ç”¨åœºæ™¯" class="headerlink" title="UDP ä½¿ç”¨åœºæ™¯"></a>UDP ä½¿ç”¨åœºæ™¯</h2><p>åœ¨é€‰æ‹©ä½¿ç”¨åè®®çš„æ—¶å€™ï¼Œé€‰æ‹©UDPå¿…é¡»è¦è°¨æ…ã€‚åœ¨ç½‘ç»œè´¨é‡ä»¤äººååˆ†ä¸æ»¡æ„çš„ç¯å¢ƒä¸‹ï¼ŒUDPåè®®æ•°æ®åŒ…ä¸¢å¤±ä¼šæ¯”è¾ƒä¸¥é‡ã€‚ä½†æ˜¯ç”±äºUDPçš„ç‰¹æ€§ï¼šå®ƒä¸å±äºè¿æ¥å‹åè®®ï¼Œå› è€Œå…·æœ‰èµ„æºæ¶ˆè€—å°ï¼Œå¤„ç†é€Ÿåº¦å¿«çš„ä¼˜ç‚¹ï¼Œæ‰€ä»¥é€šå¸¸éŸ³é¢‘ã€è§†é¢‘å’Œæ™®é€šæ•°æ®åœ¨ä¼ é€æ—¶ä½¿ç”¨UDPè¾ƒå¤šï¼Œå› ä¸ºå®ƒä»¬å³ä½¿å¶å°”ä¸¢å¤±ä¸€ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä¹Ÿä¸ä¼šå¯¹æ¥æ”¶ç»“æœäº§ç”Ÿå¤ªå¤§å½±å“ã€‚è€Œä¸”å¦‚æœåœ¨å†…ç½‘çš„æƒ…å†µä¸‹ï¼Œä¸¢åŒ…ç‡ä¹Ÿå¾ˆä½ï¼Œæ‰€ä»¥å†…ç½‘çš„æ•°æ®ä¼ è¾“ä¹Ÿå¯ä»¥ç”¨ UDP åè®®ã€‚æˆ‘ä»¬å¸¸ç”¨çš„ QQï¼Œä¸€éƒ¨åˆ†æ•°æ®ä¼ è¾“åŠŸèƒ½ä¹Ÿæ˜¯ç”¨ UDPåè®®æ¥å®ç°çš„ã€‚</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figcaption><pre class="line-numbers language-go">package main</figcaption><pre><code class="server.go</code></p>"><code class="language-go">package main</figcaption><pre><code class="server.go</code></p>">
import (
    "fmt"
    "net"
)

func main() {
    // è§£æåœ°å€
    addr, err := net.ResolveUDPAddr("udp", ":3017")
    if err != nil {
        fmt.Println("Can't resolve addr:", err.Error())
        panic(err)
    }

    // ç›‘å¬ç«¯å£
    conn, err := net.ListenUDP("udp", addr)
    if err != nil {
        fmt.Println("listen error:", err.Error())
        panic(err)
    }
    defer conn.Close()
    for {
        handlerClient(conn)
    }
}

func handlerClient(conn *net.UDPConn) {
    data := make([]byte, 1024)
    // ä» UDP ä¸­è¯»å–å†…å®¹å¹¶å†™åˆ° data
    _, remoteAddr, err := conn.ReadFromUDP(data)
    if err != nil {
        fmt.Println("read udp msg failed with:", err.Error())
        return
    }
    // ç»™æ”¶åˆ°æ¶ˆæ¯çš„ client å†™å›ä¿¡æ¯
    conn.WriteToUDP([]byte("a"), remoteAddr)
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>client.go</code></pre>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> client

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"net"</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> <span class="token punctuation">(</span>
    <span class="token comment" spellcheck="true">// Connection *net.UDPConn</span>
    Connection <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>net<span class="token punctuation">.</span>UDPConn
<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Client åˆ›å»ºä¸€ä¸ª UDP è¿æ¥</span>
<span class="token keyword">func</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    addr<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">ResolveUDPAddr</span><span class="token punctuation">(</span><span class="token string">"udp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:3017"</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Can't resolve address: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>

        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">DialUDP</span><span class="token punctuation">(</span><span class="token string">"udp"</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> addr<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Can't dial: "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>

        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    Connection <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>Connection<span class="token punctuation">,</span> conn<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// WriteTo åƒä¼ å…¥å‚æ•° conn å†™æ•°æ®</span>
<span class="token keyword">func</span> <span class="token function">WriteTo</span><span class="token punctuation">(</span>conn <span class="token operator">*</span>net<span class="token punctuation">.</span>UDPConn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"hello from the other site"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"failed:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span>
    <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"failed to read UDP msg because of "</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ UDP å®¢æˆ·ç«¯æœåŠ¡å™¨çš„ä»£ç ï¼Œåªæœ‰å¯åŠ¨æœåŠ¡å’Œæ”¶å‘æ¶ˆæ¯çš„åŠŸèƒ½ï¼Œä½†å®é™…åº”ç”¨ UDP åè®®åˆ°å…·ä½“éœ€æ±‚çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘çš„é—®é¢˜å¾ˆå¤šï¼Œæ¯”å¦‚åŒ…çš„è®¾è®¡ï¼ŒåŒ…å¤´çš„è®¾è®¡ï¼Œé”™è¯¯å¤„ç†ï¼Œä¸¢åŒ…å¤„ç†ï¼ŒåŒ…é¡ºåºè°ƒæ¢å¤„ç†ç­‰ã€‚æ‰€ä»¥éœ€è¦ç”¨åˆ°ä¼ è¾“æ•°æ®åè®®çš„æ—¶å€™ï¼Œè¯·è€ƒè™‘å¥½éœ€æ±‚å’Œå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠå¯¹é—®é¢˜çš„å¤„ç†æ–¹æ¡ˆã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;udp å’Œ tcp çš„ç®€å•æ¯”è¾ƒå’Œç”¨ go å®ç°æœ€ç®€å•çš„ udp å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ â€¦â€¦&lt;br&gt;
    
    </summary>
    
      <category term="GO" scheme="http://yusank.github.io/categories/GO/"/>
    
    
  </entry>
  
  <entry>
    <title>docker-portainer</title>
    <link href="http://yusank.github.io/portainer.html/"/>
    <id>http://yusank.github.io/portainer.html/</id>
    <published>2017-07-08T04:18:00.000Z</published>
    <updated>2017-07-08T05:27:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>å®‰åˆ©ä¸€æ¬¾å¾ˆå¥½ç”¨çš„å·¥å…·</p>
<a id="more"></a>
<h1 id="ç®¡ç†-docker"><a href="#ç®¡ç†-docker" class="headerlink" title="ç®¡ç† docker"></a>ç®¡ç† docker</h1><h2 id="ä¸ºä»€ä¹ˆç®¡ç†"><a href="#ä¸ºä»€ä¹ˆç®¡ç†" class="headerlink" title="ä¸ºä»€ä¹ˆç®¡ç†"></a>ä¸ºä»€ä¹ˆç®¡ç†</h2><p>éšç€ç”¨çš„ docker é•œåƒç§ç±»å¢å¤šï¼Œåœ¨ä¸€å°æœºå™¨ä¸Šèµ·å¾— docker å®¹å™¨æ•°é‡æœ‰æ—¶å€™ä¼šéå¸¸çš„å¤šï¼Œç®¡ç†èµ·æ¥ä¹Ÿæ¯”è¾ƒå›°éš¾ï¼Œè€Œä¸”æœ‰æ—¶å€™ä¸€äº› docker å‘½ä»¤ä¸€æ—¶åŠä¼šæƒ³ä¸èµ·æ¥ï¼Œæ›´ä¸ç”¨è¯´å‘½ä»¤è¡Œçš„æ¯ç‡¥æ€§ï¼Œæ‰€ä»¥æœ‰æ²¡æœ‰ä¸€ç›´ç®€å•ä¸€ç‚¹åŠæ³•å»ç®¡ç† docker é•œåƒå’Œå®¹å™¨å‘¢ï¼Ÿ</p>
<p>ä»Šå¤©ä¸»è§’è¯¥ç™»åœºäº†ï¼</p>
<p><code>Portainer</code></p>
<p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ª docker é•œåƒï¼Œæ˜¯å¯è§†åŒ–ç®¡ç† docker é•œåƒå’Œå®¹å™¨çš„é•œåƒã€‚</p>
<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p>è¯´çš„æ¯”è¾ƒç»•ï¼Œä¸è¯´åºŸè¯ï¼Œå…ˆä¸Šå›¾ï¼š</p>
<p><strong>Dashboard:</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.33.19%20PM.png" alt="é¦–é¡µ"></p>
<p>å…¶å‰ç«¯æ˜¯ç½‘é¡µï¼Œå®¹å™¨å¯åŠ¨ä»¥åï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ä¸»æœºå:ç«¯å£å·åï¼Œç¬¬ä¸€æ‰“å¼€æ­¤é¡µé¢éœ€è¦è®¾ç½®ç®¡ç†å‘˜å¯†ç ï¼Œè®¾ç½®å®Œæ¯•ä¹‹åï¼Œç™»å½•è¿›å…¥åï¼Œä¼šçœ‹åˆ°ä¸Šé¢çš„é¡µé¢ã€‚</p>
<p>å·¦è¾¹æ˜¯é€‰æ‹©èœå•ï¼Œå³åŠéƒ¨æ˜¯æ˜¾ç¤ºä½ ä¸»æœºçš„åŸºæœ¬ä¿¡æ¯å’Œ docker çš„åŸºæœ¬ä¿¡æ¯ï¼Œæœ‰å¤šå°‘ä¸ªé•œåƒï¼Œè¿è¡Œç€å‡ ä¸ªå®¹å™¨ç­‰ã€‚</p>
<p>ä¸‹é¢ï¼Œä»ä¸Šåˆ°ä¸‹ä¸€ä¸ªä¸ªç‚¹å‡»å·¦è¾¹çš„èœå•ã€‚</p>
<p><strong>App Templates</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.33.51%20PM.png" alt="é•œåƒåº—"></p>
<p>å¯ä»¥æœç´¢æŸ¥çœ‹å¹¶èƒ½ä¸€é”®ä¸‹è½½ï¼ˆpullï¼‰é•œåƒ</p>
<p><strong>Containers</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.34.09%20PM.png" alt="å®¹å™¨"></p>
<p>æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼Œå¹¶æ”¯æŒå¤šä¸ªå®¹å™¨åŒæ—¶å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤ï¼Œå®¹å™¨æ·»åŠ ç­‰æ“ä½œã€‚æ˜¯æ‰€æœ‰çš„å®¹å™¨éƒ½å¯ä»¥ç‚¹å¼€æŸ¥çœ‹æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<p><strong>Images</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.34.31%20PM.png" alt="é•œåƒ"></p>
<p>å¯ä»¥æŸ¥çœ‹æœ¬æœºæ‰€æœ‰çš„é•œåƒã€‚æ”¯æŒæ‰¹é‡åˆ é™¤é•œåƒï¼Œæ ¹æ®åå­—ä¸‹è½½é•œåƒï¼Œé€‰æ‹©é•œåƒä»“åº“ã€‚ç‚¹å‡»ä»»æ„é•œåƒï¼Œå¯ä»¥æŸ¥çœ‹è¿›è¡Œè¯¦ç»†ä¿¡æ¯ã€‚</p>
<p><strong>Networks</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.34.39%20PM.png" alt="ç½‘ç»œ"></p>
<p>æŸ¥çœ‹ docker å†…éƒ¨ç½‘ç»œæƒ…å†µã€‚æ”¯æŒæ·»åŠ å’Œåˆ é™¤ç½‘ç»œè¿æ¥ã€‚</p>
<p><strong>Volums</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.34.43%20PM.png" alt="æ•°æ®"></p>
<p>æ•°æ®å·ã€‚æ”¯æŒæŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®å·ï¼Œæ‰¹é‡åˆ é™¤ï¼Œæ·»åŠ æ–°æ•°æ®å·ï¼ŒæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p><strong>Events</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.34.58%20PM.png" alt="äº‹ä»¶"></p>
<p>äº‹ä»¶ã€‚è¿™æ˜¯ç±»ä¼¼äºæ—¥å¿—ç³»ç»Ÿï¼Œè®°å½•å®¹å™¨å’Œé•œåƒçš„å¯åŠ¨ã€åœæ­¢åˆ é™¤ç­‰æ“ä½œã€‚</p>
<p><strong>Docker</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.35.03%20PM.png" alt="docker"></p>
<p>æŸ¥çœ‹ docker æœ‰å…³çš„è¯¦ç»†ä¿¡æ¯ï¼Œç±»ä¼¼äºå‘½ä»¤è¡Œä¸Šçš„ <code>docker info</code>å‘½ä»¤çš„ç»“æœã€‚</p>
<p><strong>EndPoint</strong></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-08-15%20at%202.35.11%20PM.png" alt="èŠ‚ç‚¹"></p>
<p>æŸ¥çœ‹ç®¡ç†çš„èŠ‚ç‚¹ã€‚å¯ä»¥æ·»åŠ å¤šä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå¯ä»¥åŒæ—¶ç®¡ç†å¤šä¸ªæœºå™¨ä¸Šçš„ dockerã€‚é€šè¿‡å·¦ä¸Šè§’çš„ä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹©è¦ç®¡ç†çš„ docker èŠ‚ç‚¹å³å¯ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é¦–å…ˆé€šè¿‡ docker å‘½ä»¤ pull æ­¤é•œåƒï¼š</p>
<pre class="line-numbers language-sh"><code class="language-sh">docker pull portainer/portainer
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¸‹è½½å®Œæˆä¹‹åï¼Œé€šè¿‡ä»¥ä¸‹åå¯ä»¥å¯åŠ¨å®¹å™¨äº†ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">docker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock portainer/portainer
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><em>æ³¨ï¼š-v é€‰é¡¹åªå¯¹ Linux ç¯å¢ƒæœ‰æ•ˆ</em></p>
<p>ç°åœ¨ä½ å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥ <code>localhost:9000</code> å°±èƒ½è®¿é—® portainer å»ç®¡ç†ä½ çš„ dockeräº†ã€‚</p>
<p>å…³äºå¦‚ä½•è¿œç¨‹ç®¡ç† dockerï¼Œè¯·çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨è¿™å„¿ä¸åšè¯¦è¿°ã€‚</p>
<p>portaner githubï¼š<a href="https://github.com/portainer/portainer" target="_blank" rel="external">https://github.com/portainer/portainer</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®‰åˆ©ä¸€æ¬¾å¾ˆå¥½ç”¨çš„å·¥å…·&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Go TCP Socket</title>
    <link href="http://yusank.github.io/Go-TCP%20Socket.html/"/>
    <id>http://yusank.github.io/Go-TCP Socket.html/</id>
    <published>2017-07-01T02:00:01.000Z</published>
    <updated>2017-08-17T07:10:14.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>è½¬è½½æ–‡ç« </p>
<h1 id="Goè¯­è¨€TCP-Socketç¼–ç¨‹"><a href="#Goè¯­è¨€TCP-Socketç¼–ç¨‹" class="headerlink" title="Goè¯­è¨€TCP Socketç¼–ç¨‹"></a>Goè¯­è¨€TCP Socketç¼–ç¨‹</h1><p><strong>æ–‡ç« åŸå§‹åœ°å€:</strong> <a href="http://tonybai.com/2015/11/17/tcp-programming-in-golang/" target="_blank" rel="external">http://tonybai.com/2015/11/17/tcp-programming-in-golang/</a></p>
<p><a href="http://tonybai.com/tag/go" target="_blank" rel="external">Golang</a>çš„ä¸»è¦ è®¾è®¡ç›®æ ‡ä¹‹ä¸€å°±æ˜¯é¢å‘å¤§è§„æ¨¡åç«¯æœåŠ¡ç¨‹åºï¼Œç½‘ç»œé€šä¿¡è¿™å—æ˜¯æœåŠ¡ç«¯ ç¨‹åºå¿…ä¸å¯å°‘ä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚åœ¨æ—¥å¸¸åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°Goä¸­çš„netä»¥åŠå…¶subdirectoriesä¸‹çš„åŒ…å‡æ˜¯â€œé«˜é¢‘+åˆšéœ€â€ï¼Œè€ŒTCP socketåˆ™æ˜¯ç½‘ç»œç¼–ç¨‹çš„ä¸»æµï¼Œå³ä¾¿æ‚¨æ²¡æœ‰ç›´æ¥ä½¿ç”¨åˆ°netä¸­æœ‰å…³TCP Socketæ–¹é¢çš„æ¥å£ï¼Œä½†net/httpæ€»æ˜¯ç”¨åˆ°äº†å§ï¼Œhttpåº•å±‚ä¾æ—§æ˜¯ç”¨tcp socketå®ç°çš„ã€‚</p>
<p>ç½‘ç»œç¼–ç¨‹æ–¹é¢ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„å°±æ˜¯tcp socketç¼–ç¨‹äº†ï¼Œåœ¨posixæ ‡å‡†å‡ºæ¥åï¼Œsocketåœ¨å„å¤§ä¸»æµOSå¹³å°ä¸Šéƒ½å¾—åˆ°äº†å¾ˆå¥½çš„æ”¯æŒã€‚å…³äºtcp programmingï¼Œæœ€å¥½çš„èµ„æ–™è«è¿‡äº<a href="http://en.wikipedia.org/wiki/W._Richard_Stevens" target="_blank" rel="external">W. Richard Stevens</a> çš„ç½‘ç»œç¼–ç¨‹åœ£ç»ã€Š<a href="http://book.douban.com/subject/4859464/" target="_blank" rel="external">UNIXç½‘ç»œ ç¼–ç¨‹ å·1ï¼šå¥—æ¥å­—è”ç½‘API</a>ã€‹ äº†ï¼Œä¹¦ä¸­å…³äºtcp socketæ¥å£çš„å„ç§ä½¿ç”¨ã€è¡Œä¸ºæ¨¡å¼ã€å¼‚å¸¸å¤„ç†è®²è§£çš„ååˆ†ç»†è‡´ã€‚Goæ˜¯è‡ªå¸¦runtimeçš„è·¨å¹³å°ç¼–ç¨‹è¯­è¨€ï¼ŒGoä¸­æš´éœ²ç»™è¯­è¨€ä½¿ç”¨è€…çš„tcp socket apiæ˜¯å»ºç«‹OSåŸç”Ÿtcp socketæ¥å£ä¹‹ä¸Šçš„ã€‚ç”±äºGo runtimeè°ƒåº¦çš„éœ€è¦ï¼Œgolang tcp socketæ¥å£åœ¨è¡Œä¸ºç‰¹ç‚¹ä¸å¼‚å¸¸å¤„ç†æ–¹é¢ä¸OSåŸç”Ÿæ¥å£æœ‰ç€ä¸€äº›å·®åˆ«ã€‚è¿™ç¯‡åšæ–‡çš„ç›®æ ‡å°±æ˜¯æ•´ç†å‡ºå…³äºGo tcp socketåœ¨å„ä¸ªåœºæ™¯ä¸‹çš„ä½¿ç”¨æ–¹æ³•ã€è¡Œä¸ºç‰¹ç‚¹ä»¥åŠæ³¨æ„äº‹é¡¹ã€‚</p>
<h2 id="ä¸€ã€æ¨¡å‹"><a href="#ä¸€ã€æ¨¡å‹" class="headerlink" title="ä¸€ã€æ¨¡å‹"></a>ä¸€ã€æ¨¡å‹</h2><p>ä»tcp socketè¯ç”Ÿåï¼Œç½‘ç»œç¼–ç¨‹æ¶æ„æ¨¡å‹ä¹Ÿå‡ ç»æ¼”åŒ–ï¼Œå¤§è‡´æ˜¯ï¼šâ€œæ¯è¿›ç¨‹ä¸€ä¸ªè¿æ¥â€ â€“&gt; â€œæ¯çº¿ç¨‹ä¸€ä¸ªè¿æ¥â€ â€“&gt; â€œNon-Block + I/Oå¤šè·¯å¤ç”¨(linux epoll/windows iocp/freebsd darwin kqueue/solaris Event Port)â€ã€‚ä¼´éšç€æ¨¡å‹çš„æ¼”åŒ–ï¼ŒæœåŠ¡ç¨‹åºæ„ˆåŠ å¼ºå¤§ï¼Œå¯ä»¥æ”¯æŒæ›´å¤šçš„è¿æ¥ï¼Œè·å¾—æ›´å¥½çš„å¤„ç†æ€§èƒ½ã€‚</p>
<p>ç›®å‰ä¸»æµweb serverä¸€èˆ¬å‡é‡‡ç”¨çš„éƒ½æ˜¯â€Non-Block + I/Oå¤šè·¯å¤ç”¨â€ï¼ˆæœ‰çš„ä¹Ÿç»“åˆäº†å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹ï¼‰ã€‚ä¸è¿‡I/Oå¤šè·¯å¤ç”¨ä¹Ÿç»™ä½¿ç”¨è€…å¸¦æ¥äº†ä¸å°çš„å¤æ‚åº¦ï¼Œä»¥è‡³äºåç»­å‡ºç°äº†è®¸å¤šé«˜æ€§èƒ½çš„I/Oå¤šè·¯å¤ç”¨æ¡†æ¶ï¼Œ æ¯”å¦‚<a href="http://libevent.org/" target="_blank" rel="external">libevent</a>ã€<a href="http://software.schmorp.de/pkg/libev.html" target="_blank" rel="external">libev</a>ã€<a href="https://github.com/joyent/libuv" target="_blank" rel="external">libuv</a>ç­‰ï¼Œä»¥å¸®åŠ©å¼€å‘è€…ç®€åŒ–å¼€å‘å¤æ‚æ€§ï¼Œé™ä½å¿ƒæ™ºè´Ÿæ‹…ã€‚ä¸è¿‡Goçš„è®¾è®¡è€…ä¼¼ä¹è®¤ä¸ºI/Oå¤šè·¯å¤ç”¨çš„è¿™ç§é€šè¿‡å›è°ƒæœºåˆ¶å‰²è£‚æ§åˆ¶æµ çš„æ–¹å¼ä¾æ—§å¤æ‚ï¼Œä¸”æœ‰æ‚–äºâ€œä¸€èˆ¬é€»è¾‘â€è®¾è®¡ï¼Œä¸ºæ­¤Goè¯­è¨€å°†è¯¥â€œå¤æ‚æ€§â€éšè—åœ¨Runtimeä¸­äº†ï¼šGoå¼€å‘è€…æ— éœ€å…³æ³¨socketæ˜¯å¦æ˜¯ non-blockçš„ï¼Œä¹Ÿæ— éœ€äº²è‡ªæ³¨å†Œæ–‡ä»¶æè¿°ç¬¦çš„å›è°ƒï¼Œåªéœ€åœ¨æ¯ä¸ªè¿æ¥å¯¹åº”çš„goroutineä¸­ä»¥<strong>â€œblock I/Oâ€</strong>çš„æ–¹å¼å¯¹å¾…socketå¤„ç†å³å¯ï¼Œè¿™å¯ä»¥è¯´å¤§å¤§é™ä½äº†å¼€å‘äººå‘˜çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚ä¸€ä¸ªå…¸å‹çš„Go serverç«¯ç¨‹åºå¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/server.go</span>
<span class="token keyword">func</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// read from the connection</span>
        <span class="token comment" spellcheck="true">// ... ...</span>
        <span class="token comment" spellcheck="true">// write to the connection</span>
        <span class="token comment" spellcheck="true">//... ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    l<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Listen</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">,</span> err <span class="token operator">:=</span> l<span class="token punctuation">.</span><span class="token function">Accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"accept error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// start a new goroutine to handle</span>
        <span class="token comment" spellcheck="true">// the new connection.</span>
        <span class="token keyword">go</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç”¨æˆ·å±‚çœ¼ä¸­çœ‹åˆ°çš„goroutineä¸­çš„â€œblock socketâ€ï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡Go runtimeä¸­çš„netpolleré€šè¿‡Non-block socket + I/Oå¤šè·¯å¤ç”¨æœºåˆ¶â€œæ¨¡æ‹Ÿâ€å‡ºæ¥çš„ï¼ŒçœŸå®çš„underlying socketå®é™…ä¸Šæ˜¯non-blockçš„ï¼Œåªæ˜¯runtimeæ‹¦æˆªäº†åº•å±‚socketç³»ç»Ÿè°ƒç”¨çš„é”™è¯¯ç ï¼Œå¹¶é€šè¿‡netpollerå’Œgoroutine è°ƒåº¦è®©goroutineâ€œé˜»å¡â€åœ¨ç”¨æˆ·å±‚å¾—åˆ°çš„Socket fdä¸Šã€‚æ¯”å¦‚ï¼šå½“ç”¨æˆ·å±‚é’ˆå¯¹æŸä¸ªsocket fdå‘èµ·readæ“ä½œæ—¶ï¼Œå¦‚æœè¯¥socket fdä¸­å°šæ— æ•°æ®ï¼Œé‚£ä¹ˆruntimeä¼šå°†è¯¥socket fdåŠ å…¥åˆ°netpollerä¸­ç›‘å¬ï¼ŒåŒæ—¶å¯¹åº”çš„goroutineè¢«æŒ‚èµ·ï¼Œç›´åˆ°runtimeæ”¶åˆ°socket fd æ•°æ®readyçš„é€šçŸ¥ï¼Œruntimeæ‰ä¼šé‡æ–°å”¤é†’ç­‰å¾…åœ¨è¯¥socket fdä¸Šå‡†å¤‡readçš„é‚£ä¸ªGoroutineã€‚è€Œè¿™ä¸ªè¿‡ç¨‹ä»Goroutineçš„è§†è§’æ¥çœ‹ï¼Œå°±åƒæ˜¯readæ“ä½œä¸€ç›´blockåœ¨é‚£ä¸ªsocket fdä¸Šä¼¼çš„ã€‚å…·ä½“å®ç°ç»†èŠ‚åœ¨åç»­åœºæ™¯ä¸­ä¼šæœ‰è¡¥å……æè¿°ã€‚</p>
<h2 id="äºŒã€TCPè¿æ¥çš„å»ºç«‹"><a href="#äºŒã€TCPè¿æ¥çš„å»ºç«‹" class="headerlink" title="äºŒã€TCPè¿æ¥çš„å»ºç«‹"></a>äºŒã€TCPè¿æ¥çš„å»ºç«‹</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒTCP Socketçš„è¿æ¥çš„å»ºç«‹éœ€è¦ç»å†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ã€‚è¿æ¥å»ºç«‹è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡ç«¯æ˜¯ä¸€ä¸ªæ ‡å‡†çš„Listen + Acceptçš„ç»“æ„(å¯å‚è€ƒä¸Šé¢çš„ä»£ç )ï¼Œè€Œåœ¨å®¢æˆ·ç«¯Goè¯­è¨€ä½¿ç”¨net.Dialæˆ–DialTimeoutè¿›è¡Œè¿æ¥å»ºç«‹ï¼š</p>
<p>é˜»å¡Dialï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"google.com:80"</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//handle error</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// read or write on conn</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ–æ˜¯å¸¦ä¸Šè¶…æ—¶æœºåˆ¶çš„Dialï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">DialTimeout</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8080"</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//handle error</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// read or write on conn</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œè¿æ¥çš„å»ºç«‹ä¼šé‡åˆ°å¦‚ä¸‹å‡ ç§æƒ…å½¢ï¼š</p>
<h3 id="1ã€ç½‘ç»œä¸å¯è¾¾æˆ–å¯¹æ–¹æœåŠ¡æœªå¯åŠ¨"><a href="#1ã€ç½‘ç»œä¸å¯è¾¾æˆ–å¯¹æ–¹æœåŠ¡æœªå¯åŠ¨" class="headerlink" title="1ã€ç½‘ç»œä¸å¯è¾¾æˆ–å¯¹æ–¹æœåŠ¡æœªå¯åŠ¨"></a>1ã€ç½‘ç»œä¸å¯è¾¾æˆ–å¯¹æ–¹æœåŠ¡æœªå¯åŠ¨</h3><p>å¦‚æœä¼ ç»™Dialçš„Addræ˜¯å¯ä»¥ç«‹å³åˆ¤æ–­å‡ºç½‘ç»œä¸å¯è¾¾ï¼Œæˆ–è€…Addrä¸­ç«¯å£å¯¹åº”çš„æœåŠ¡æ²¡æœ‰å¯åŠ¨ï¼Œç«¯å£æœªè¢«ç›‘å¬ï¼ŒDialä¼šå‡ ä¹ç«‹å³è¿”å›é”™è¯¯ï¼Œæ¯”å¦‚ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/conn_establish/client1.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial ok"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœæœ¬æœº8888ç«¯å£æœªæœ‰æœåŠ¡ç¨‹åºç›‘å¬ï¼Œé‚£ä¹ˆæ‰§è¡Œä¸Šé¢ç¨‹åºï¼ŒDialä¼šå¾ˆå¿«è¿”å›é”™è¯¯ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client1.go
2015/11/16 14:37:41 begin dial...
2015/11/16 14:37:41 dial error: dial tcp :8888: getsockopt: connection refused
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="2ã€å¯¹æ–¹æœåŠ¡çš„listen-backlogæ»¡"><a href="#2ã€å¯¹æ–¹æœåŠ¡çš„listen-backlogæ»¡" class="headerlink" title="2ã€å¯¹æ–¹æœåŠ¡çš„listen backlogæ»¡"></a>2ã€å¯¹æ–¹æœåŠ¡çš„listen backlogæ»¡</h3><p>è¿˜æœ‰ä¸€ç§åœºæ™¯å°±æ˜¯å¯¹æ–¹æœåŠ¡å™¨å¾ˆå¿™ï¼Œç¬é—´æœ‰å¤§é‡clientç«¯è¿æ¥å°è¯•å‘serverå»ºç«‹ï¼Œserverç«¯çš„listen backlogé˜Ÿåˆ—æ»¡ï¼Œserver acceptä¸åŠæ—¶((å³ä¾¿ä¸acceptï¼Œé‚£ä¹ˆåœ¨backlogæ•°é‡èŒƒç•´é‡Œé¢ï¼Œconnectéƒ½ä¼šæ˜¯æˆåŠŸçš„ï¼Œå› ä¸ºnew connå·²ç»åŠ å…¥åˆ°server sideçš„listen queueä¸­äº†ï¼Œacceptåªæ˜¯ä»queueä¸­å–å‡ºä¸€ä¸ªconnè€Œå·²)ï¼Œè¿™å°†å¯¼è‡´clientç«¯Dialé˜»å¡ã€‚æˆ‘ä»¬è¿˜æ˜¯é€šè¿‡ä¾‹å­æ„Ÿå—Dialçš„è¡Œä¸ºç‰¹ç‚¹ï¼š</p>
<p>æœåŠ¡ç«¯ä»£ç ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/conn_establish/server2.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    l<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Listen</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"error listen:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> l<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen ok"</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> i <span class="token builtin">int</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> l<span class="token punctuation">.</span><span class="token function">Accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"accept error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        i<span class="token operator">++</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d: accept a new connection\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®¢æˆ·ç«¯ä»£ç ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/conn_establish/client2.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">establishConn</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> net<span class="token punctuation">.</span>Conn <span class="token punctuation">{</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d: dial error: %s"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">":connect to server ok"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> conn
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sl <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>Conn
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        conn <span class="token operator">:=</span> <span class="token function">establishConn</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">if</span> conn <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            sl <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>sl<span class="token punctuation">,</span> conn<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»ç¨‹åºå¯ä»¥çœ‹å‡ºï¼ŒæœåŠ¡ç«¯åœ¨listenæˆåŠŸåï¼Œæ¯éš”10sé’Ÿacceptä¸€æ¬¡ã€‚å®¢æˆ·ç«¯åˆ™æ˜¯ä¸²è¡Œçš„å°è¯•å»ºç«‹è¿æ¥ã€‚è¿™ä¸¤ä¸ªç¨‹åºåœ¨Darwinä¸‹çš„æ‰§è¡Œ ç»“æœï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run server2.go
2015/11/16 21:55:41 listen ok
2015/11/16 21:55:51 1: accept a new connection
2015/11/16 21:56:01 2: accept a new connection
... ...

$go run client2.go
2015/11/16 21:55:44 1 :connect to server ok
2015/11/16 21:55:44 2 :connect to server ok
2015/11/16 21:55:44 3 :connect to server ok
... ...

2015/11/16 21:55:44 126 :connect to server ok
2015/11/16 21:55:44 127 :connect to server ok
2015/11/16 21:55:44 128 :connect to server ok

2015/11/16 21:55:52 129 :connect to server ok
2015/11/16 21:56:03 130 :connect to server ok
2015/11/16 21:56:14 131 :connect to server ok
... ...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯ä»¥çœ‹å‡ºClientåˆå§‹æ—¶æˆåŠŸåœ°ä¸€æ¬¡æ€§å»ºç«‹äº†128ä¸ªè¿æ¥ï¼Œç„¶ååç»­æ¯é˜»å¡è¿‘10sæ‰èƒ½æˆåŠŸå»ºç«‹ä¸€æ¡è¿æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨serverç«¯ backlogæ»¡æ—¶(æœªåŠæ—¶accept)ï¼Œå®¢æˆ·ç«¯å°†é˜»å¡åœ¨Dialä¸Šï¼Œç›´åˆ°serverç«¯è¿›è¡Œä¸€æ¬¡acceptã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯128ï¼Œè¿™ä¸darwin ä¸‹çš„é»˜è®¤è®¾ç½®æœ‰å…³ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$sysctl -a|grep kern.ipc.somaxconn
kern.ipc.somaxconn: 128
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¦‚æœæˆ‘åœ¨ubuntu 14.04ä¸Šè¿è¡Œä¸Šè¿°serverç¨‹åºï¼Œæˆ‘ä»¬çš„clientç«¯åˆå§‹å¯ä»¥æˆåŠŸå»ºç«‹499æ¡è¿æ¥ã€‚</p>
<p>å¦‚æœserverä¸€ç›´ä¸acceptï¼Œclientç«¯ä¼šä¸€ç›´é˜»å¡ä¹ˆï¼Ÿæˆ‘ä»¬å»æ‰acceptåçš„ç»“æœæ˜¯ï¼šåœ¨Darwinä¸‹ï¼Œclientç«¯ä¼šé˜»å¡å¤§ çº¦1åˆ†å¤šé’Ÿæ‰ä¼šè¿”å›timeoutï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">2015/11/16 22:03:31 128 :connect to server ok
2015/11/16 22:04:48 129: dial error: dial tcp :8888: getsockopt: operation timed out
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è€Œå¦‚æœserverè¿è¡Œåœ¨ubuntu 14.04ä¸Šï¼Œclientä¼¼ä¹ä¸€ç›´é˜»å¡ï¼Œæˆ‘ç­‰äº†10å¤šåˆ†é’Ÿä¾æ—§æ²¡æœ‰è¿”å›ã€‚ é˜»å¡ä¸å¦çœ‹æ¥ä¸serverç«¯çš„ç½‘ç»œå®ç°å’Œè®¾ç½®æœ‰å…³ã€‚</p>
<h3 id="3ã€ç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼ŒDialé˜»å¡å¹¶è¶…æ—¶"><a href="#3ã€ç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼ŒDialé˜»å¡å¹¶è¶…æ—¶" class="headerlink" title="3ã€ç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼ŒDialé˜»å¡å¹¶è¶…æ—¶"></a>3ã€ç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼ŒDialé˜»å¡å¹¶è¶…æ—¶</h3><p>å¦‚æœç½‘ç»œå»¶è¿Ÿè¾ƒå¤§ï¼ŒTCPæ¡æ‰‹è¿‡ç¨‹å°†æ›´åŠ è‰°éš¾åå·ï¼ˆå„ç§ä¸¢åŒ…ï¼‰ï¼Œæ—¶é—´æ¶ˆè€—çš„è‡ªç„¶ä¹Ÿä¼šæ›´é•¿ã€‚Dialè¿™æ—¶ä¼šé˜»å¡ï¼Œå¦‚æœé•¿æ—¶é—´ä¾æ—§æ— æ³•å»ºç«‹è¿æ¥ï¼Œåˆ™Dialä¹Ÿä¼šè¿”å›â€œ getsockopt: operation timed outâ€é”™è¯¯ã€‚</p>
<p>åœ¨è¿æ¥å»ºç«‹é˜¶æ®µï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼ŒDialæ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚çš„ï¼Œå³ä¾¿é˜»å¡ä¸€å°ä¼šå„¿ã€‚ä½†å¯¹äºæŸäº›ç¨‹åºè€Œè¨€ï¼Œéœ€è¦æœ‰ä¸¥æ ¼çš„è¿æ¥æ—¶é—´é™å®šï¼Œå¦‚æœä¸€å®šæ—¶é—´å†…æ²¡èƒ½æˆåŠŸå»ºç«‹è¿æ¥ï¼Œç¨‹åºå¯èƒ½ä¼šéœ€è¦æ‰§è¡Œä¸€æ®µâ€œå¼‚å¸¸â€å¤„ç†é€»è¾‘ï¼Œä¸ºæ­¤æˆ‘ä»¬å°±éœ€è¦DialTimeoutäº†ã€‚ä¸‹é¢çš„ä¾‹å­å°†Dialçš„æœ€é•¿é˜»å¡æ—¶é—´é™åˆ¶åœ¨2så†…ï¼Œè¶…å‡ºè¿™ä¸ªæ—¶é•¿ï¼ŒDialå°†è¿”å›timeout errorï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/conn_establish/client3.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">DialTimeout</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"104.236.176.96:80"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial ok"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼ˆéœ€è¦æ¨¡æ‹Ÿä¸€ä¸ªå»¶è¿Ÿè¾ƒå¤§çš„ç½‘ç»œç¯å¢ƒï¼‰ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client3.go
2015/11/17 09:28:34 begin dial...
2015/11/17 09:28:36 dial error: dial tcp 104.236.176.96:80: i/o timeout
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="ä¸‰ã€Socketè¯»å†™"><a href="#ä¸‰ã€Socketè¯»å†™" class="headerlink" title="ä¸‰ã€Socketè¯»å†™"></a>ä¸‰ã€Socketè¯»å†™</h2><p>è¿æ¥å»ºç«‹èµ·æ¥åï¼Œæˆ‘ä»¬å°±è¦åœ¨connä¸Šè¿›è¡Œè¯»å†™ï¼Œä»¥å®Œæˆä¸šåŠ¡é€»è¾‘ã€‚å‰é¢è¯´è¿‡Go runtimeéšè—äº†I/Oå¤šè·¯å¤ç”¨çš„å¤æ‚æ€§ã€‚è¯­è¨€ä½¿ç”¨è€…åªéœ€é‡‡ç”¨goroutine+Block I/Oçš„æ¨¡å¼å³å¯æ»¡è¶³å¤§éƒ¨åˆ†åœºæ™¯éœ€æ±‚ã€‚DialæˆåŠŸåï¼Œæ–¹æ³•è¿”å›ä¸€ä¸ªnet.Connæ¥å£ç±»å‹å˜é‡å€¼ï¼Œè¿™ä¸ªæ¥å£å˜é‡çš„åŠ¨æ€ç±»å‹ä¸ºä¸€ä¸ª*TCPConnï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//$GOROOT/src/net/tcpsock_posix.go</span>
<span class="token keyword">type</span> TCPConn <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    conn
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>TCPConnå†…åµŒäº†ä¸€ä¸ªunexportedç±»å‹ï¼šconnï¼Œå› æ­¤TCPConnâ€ç»§æ‰¿â€äº†connçš„Readå’ŒWriteæ–¹æ³•ï¼Œåç»­é€šè¿‡Dialè¿”å›å€¼è°ƒç”¨çš„Writeå’ŒReadæ–¹æ³•å‡æ˜¯net.connçš„æ–¹æ³•ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//$GOROOT/src/net/net.go</span>
<span class="token keyword">type</span> conn <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    fd <span class="token operator">*</span>netFD
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>conn<span class="token punctuation">)</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> c <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span>fd <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Implementation of the Conn interface.</span>

<span class="token comment" spellcheck="true">// Read implements the Conn Read method.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>conn<span class="token punctuation">)</span> <span class="token function">Read</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>c<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> syscall<span class="token punctuation">.</span>EINVAL
    <span class="token punctuation">}</span>
    n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> err <span class="token operator">!=</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span>
        err <span class="token operator">=</span> <span class="token operator">&amp;</span>OpError<span class="token punctuation">{</span>Op<span class="token punctuation">:</span> <span class="token string">"read"</span><span class="token punctuation">,</span> Net<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>net<span class="token punctuation">,</span> Source<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>laddr<span class="token punctuation">,</span> Addr<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>raddr<span class="token punctuation">,</span> Err<span class="token punctuation">:</span> err<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> n<span class="token punctuation">,</span> err
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Write implements the Conn Write method.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>conn<span class="token punctuation">)</span> <span class="token function">Write</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>c<span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> syscall<span class="token punctuation">.</span>EINVAL
    <span class="token punctuation">}</span>
    n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        err <span class="token operator">=</span> <span class="token operator">&amp;</span>OpError<span class="token punctuation">{</span>Op<span class="token punctuation">:</span> <span class="token string">"write"</span><span class="token punctuation">,</span> Net<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>net<span class="token punctuation">,</span> Source<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>laddr<span class="token punctuation">,</span> Addr<span class="token punctuation">:</span> c<span class="token punctuation">.</span>fd<span class="token punctuation">.</span>raddr<span class="token punctuation">,</span> Err<span class="token punctuation">:</span> err<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> n<span class="token punctuation">,</span> err
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥é€šè¿‡å‡ ä¸ªåœºæ™¯æ¥æ€»ç»“ä¸€ä¸‹conn.Readçš„è¡Œä¸ºç‰¹ç‚¹ã€‚</p>
<h3 id="1ã€Socketä¸­æ— æ•°æ®"><a href="#1ã€Socketä¸­æ— æ•°æ®" class="headerlink" title="1ã€Socketä¸­æ— æ•°æ®"></a>1ã€Socketä¸­æ— æ•°æ®</h3><p>è¿æ¥å»ºç«‹åï¼Œå¦‚æœå¯¹æ–¹æœªå‘é€æ•°æ®åˆ°socketï¼Œæ¥æ”¶æ–¹(Server)ä¼šé˜»å¡åœ¨Readæ“ä½œä¸Šï¼Œè¿™å’Œå‰é¢æåˆ°çš„â€œæ¨¡å‹â€åŸç†æ˜¯ä¸€è‡´çš„ã€‚æ‰§è¡Œè¯¥Readæ“ä½œçš„goroutineä¹Ÿä¼šè¢«æŒ‚èµ·ã€‚runtimeä¼šç›‘è§†è¯¥socketï¼Œç›´åˆ°å…¶æœ‰æ•°æ®æ‰ä¼šé‡æ–°<br>è°ƒåº¦è¯¥socketå¯¹åº”çš„Goroutineå®Œæˆreadã€‚ç”±äºç¯‡å¹…åŸå› ï¼Œè¿™é‡Œå°±ä¸åˆ—ä»£ç äº†ï¼Œä¾‹å­å¯¹åº”çš„ä»£ç æ–‡ä»¶ï¼šgo-tcpsock/read_writeä¸‹çš„client1.goå’Œserver1.goã€‚</p>
<h3 id="2ã€Socketä¸­æœ‰éƒ¨åˆ†æ•°æ®"><a href="#2ã€Socketä¸­æœ‰éƒ¨åˆ†æ•°æ®" class="headerlink" title="2ã€Socketä¸­æœ‰éƒ¨åˆ†æ•°æ®"></a>2ã€Socketä¸­æœ‰éƒ¨åˆ†æ•°æ®</h3><p>å¦‚æœsocketä¸­æœ‰éƒ¨åˆ†æ•°æ®ï¼Œä¸”é•¿åº¦å°äºä¸€æ¬¡Readæ“ä½œæ‰€æœŸæœ›è¯»å‡ºçš„æ•°æ®é•¿åº¦ï¼Œé‚£ä¹ˆReadå°†ä¼šæˆåŠŸè¯»å‡ºè¿™éƒ¨åˆ†æ•°æ®å¹¶è¿”å›ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ‰€æœ‰æœŸæœ›æ•°æ®å…¨éƒ¨è¯»å–åå†è¿”å›ã€‚</p>
<p>Clientç«¯ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/read_write/client2.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"usage: go run client2.go YOUR_CONTENT"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial ok"</span><span class="token punctuation">)</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
    data <span class="token operator">:=</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Serverç«¯ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/read_write/server2.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// read from the connection</span>
        <span class="token keyword">var</span> buf <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"start to read from conn"</span><span class="token punctuation">)</span>
        n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"conn read error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"read %d bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬é€šè¿‡<code>client2.go</code>å‘é€â€hiâ€åˆ°Serverç«¯ï¼š<br>è¿è¡Œç»“æœ:</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client2.go hi
2015/11/17 13:30:53 begin dial...
2015/11/17 13:30:53 dial ok

$go run server2.go
2015/11/17 13:33:45 accept a new connection
2015/11/17 13:33:45 start to read from conn
2015/11/17 13:33:47 read 2 bytes, content is hi
...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Clientå‘socketä¸­å†™å…¥ä¸¤ä¸ªå­—èŠ‚æ•°æ®(â€œhiâ€)ï¼ŒServerç«¯åˆ›å»ºä¸€ä¸ªlen = 10çš„sliceï¼Œç­‰å¾…Readå°†è¯»å–çš„æ•°æ®æ”¾å…¥sliceï¼›Serveréšåè¯»å–åˆ°é‚£ä¸¤ä¸ªå­—èŠ‚ï¼šâ€hiâ€ã€‚ReadæˆåŠŸè¿”å›ï¼Œn =2 ï¼Œerr = nilã€‚</p>
<h3 id="3ã€Socketä¸­æœ‰è¶³å¤Ÿæ•°æ®"><a href="#3ã€Socketä¸­æœ‰è¶³å¤Ÿæ•°æ®" class="headerlink" title="3ã€Socketä¸­æœ‰è¶³å¤Ÿæ•°æ®"></a>3ã€Socketä¸­æœ‰è¶³å¤Ÿæ•°æ®</h3><p>å¦‚æœsocketä¸­æœ‰æ•°æ®ï¼Œä¸”é•¿åº¦å¤§äºç­‰äºä¸€æ¬¡Readæ“ä½œæ‰€æœŸæœ›è¯»å‡ºçš„æ•°æ®é•¿åº¦ï¼Œé‚£ä¹ˆReadå°†ä¼šæˆåŠŸè¯»å‡ºè¿™éƒ¨åˆ†æ•°æ®å¹¶è¿”å›ã€‚è¿™ä¸ªæƒ…æ™¯æ˜¯æœ€ç¬¦åˆæˆ‘ä»¬å¯¹Readçš„æœŸå¾…çš„äº†ï¼šReadå°†ç”¨Socketä¸­çš„æ•°æ®å°†æˆ‘ä»¬ä¼ å…¥çš„sliceå¡«æ»¡åè¿”å›ï¼šn = 10, err = nilã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡client2.goå‘Server2å‘é€å¦‚ä¸‹å†…å®¹ï¼šabcdefghij12345ï¼Œæ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client2.go abcdefghij12345
2015/11/17 13:38:00 begin dial...
2015/11/17 13:38:00 dial ok

$go run server2.go
2015/11/17 13:38:00 accept a new connection
2015/11/17 13:38:00 start to read from conn
2015/11/17 13:38:02 read 10 bytes, content is abcdefghij
2015/11/17 13:38:02 start to read from conn
2015/11/17 13:38:02 read 5 bytes, content is 12345
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>clientç«¯å‘é€çš„å†…å®¹é•¿åº¦ä¸º15ä¸ªå­—èŠ‚ï¼ŒServerç«¯Read bufferçš„é•¿åº¦ä¸º10ï¼Œå› æ­¤Server Readç¬¬ä¸€æ¬¡è¿”å›æ—¶åªä¼šè¯»å–10ä¸ªå­—èŠ‚ï¼›Socketä¸­è¿˜å‰©ä½™5ä¸ªå­—èŠ‚æ•°æ®ï¼ŒServerå†æ¬¡Readæ—¶ä¼šæŠŠå‰©ä½™æ•°æ®è¯»å‡ºï¼ˆå¦‚ï¼šæƒ…å½¢2ï¼‰ã€‚</p>
<h3 id="4ã€Socketå…³é—­"><a href="#4ã€Socketå…³é—­" class="headerlink" title="4ã€Socketå…³é—­"></a>4ã€Socketå…³é—­</h3><p>å¦‚æœclientç«¯ä¸»åŠ¨å…³é—­äº†socketï¼Œé‚£ä¹ˆServerçš„Readå°†ä¼šè¯»åˆ°ä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œåˆ†ä¸ºâ€œæœ‰æ•°æ®å…³é—­â€å’Œâ€œæ— æ•°æ®å…³é—­â€ã€‚</p>
<p>â€œæœ‰æ•°æ®å…³é—­â€æ˜¯æŒ‡åœ¨clientå…³é—­æ—¶ï¼Œsocketä¸­è¿˜æœ‰serverç«¯æœªè¯»å–çš„æ•°æ®ï¼Œæˆ‘ä»¬åœ¨go-tcpsock/read_write/client3.goå’Œserver3.goä¸­æ¨¡æ‹Ÿè¿™ç§æƒ…å†µï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client3.go hello
2015/11/17 13:50:57 begin dial...
2015/11/17 13:50:57 dial ok

$go run server3.go
2015/11/17 13:50:57 accept a new connection
2015/11/17 13:51:07 start to read from conn
2015/11/17 13:51:07 read 5 bytes, content is hello
2015/11/17 13:51:17 start to read from conn
2015/11/17 13:51:17 conn read error: EOF
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œå½“clientç«¯close socketé€€å‡ºåï¼Œserver3ä¾æ—§æ²¡æœ‰å¼€å§‹Readï¼Œ10såç¬¬ä¸€æ¬¡ReadæˆåŠŸè¯»å‡ºäº†5ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå½“ç¬¬äºŒæ¬¡Readæ—¶ï¼Œç”±äºclientç«¯ socketå…³é—­ï¼ŒReadè¿”å›EOF errorã€‚</p>
<p>é€šè¿‡ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çŒœæµ‹å‡ºâ€œæ— æ•°æ®å…³é—­â€æƒ…å½¢ä¸‹çš„ç»“æœï¼Œé‚£å°±æ˜¯Readç›´æ¥è¿”å›EOF errorã€‚</p>
<h3 id="5ã€è¯»å–æ“ä½œè¶…æ—¶"><a href="#5ã€è¯»å–æ“ä½œè¶…æ—¶" class="headerlink" title="5ã€è¯»å–æ“ä½œè¶…æ—¶"></a>5ã€è¯»å–æ“ä½œè¶…æ—¶</h3><p>æœ‰äº›åœºåˆå¯¹Readçš„é˜»å¡æ—¶é—´æœ‰ä¸¥æ ¼é™åˆ¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒReadçš„è¡Œä¸ºåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿåœ¨è¿”å›è¶…æ—¶é”™è¯¯æ—¶ï¼Œæ˜¯å¦ä¹ŸåŒæ—¶Readäº†ä¸€éƒ¨åˆ†æ•°æ®äº†å‘¢ï¼Ÿè¿™ä¸ªå®éªŒæ¯”è¾ƒéš¾äºæ¨¡æ‹Ÿï¼Œä¸‹é¢çš„æµ‹è¯•ç»“æœä¹Ÿæœªå¿…èƒ½åæ˜ å‡ºæ‰€æœ‰å¯èƒ½ç»“æœã€‚æˆ‘ä»¬ç¼–å†™äº†<code>client4.go</code>å’Œ<code>server4.go</code>æ¥æ¨¡æ‹Ÿè¿™ä¸€æƒ…å½¢ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/read_write/client4.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial ok"</span><span class="token punctuation">)</span>

    data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">65536</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//go-tcpsock/read_write/server4.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// read from the connection</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
        <span class="token keyword">var</span> buf <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">65536</span><span class="token punctuation">)</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"start to read from conn"</span><span class="token punctuation">)</span>
        c<span class="token punctuation">.</span><span class="token function">SetReadDeadline</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Microsecond <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"conn read %d bytes,  error: %s"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">if</span> nerr<span class="token punctuation">,</span> ok <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token punctuation">(</span>net<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token operator">&amp;&amp;</span> nerr<span class="token punctuation">.</span><span class="token function">Timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"read %d bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨Serverç«¯æˆ‘ä»¬é€šè¿‡Connçš„SetReadDeadlineæ–¹æ³•è®¾ç½®äº†10å¾®ç§’çš„è¯»è¶…æ—¶æ—¶é—´ï¼ŒServerçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run server4.go

2015/11/17 14:21:17 accept a new connection
2015/11/17 14:21:27 start to read from conn
2015/11/17 14:21:27 conn read 0 bytes,  error: read tcp 127.0.0.1:8888->127.0.0.1:60970: i/o timeout
2015/11/17 14:21:37 start to read from conn
2015/11/17 14:21:37 read 65536 bytes, content is
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è™½ç„¶æ¯æ¬¡éƒ½æ˜¯10å¾®ç§’è¶…æ—¶ï¼Œä½†ç»“æœä¸åŒï¼Œç¬¬ä¸€æ¬¡Readè¶…æ—¶ï¼Œè¯»å‡ºæ•°æ®é•¿åº¦ä¸º0ï¼›ç¬¬äºŒæ¬¡è¯»å–æ‰€æœ‰æ•°æ®æˆåŠŸï¼Œæ²¡æœ‰è¶…æ—¶ã€‚åå¤æ‰§è¡Œäº†å¤šæ¬¡ï¼Œæ²¡èƒ½å‡ºç°â€œè¯»å‡ºéƒ¨åˆ†æ•°æ®ä¸”è¿”å›è¶…æ—¶é”™è¯¯â€çš„æƒ…å†µã€‚</p>
<p>å’Œè¯»ç›¸æ¯”ï¼ŒWriteé‡åˆ°çš„æƒ…å½¢ä¸€æ ·ä¸å°‘ï¼Œæˆ‘ä»¬ä¹Ÿé€ä¸€çœ‹ä¸€ä¸‹ã€‚</p>
<h3 id="1ã€æˆåŠŸå†™"><a href="#1ã€æˆåŠŸå†™" class="headerlink" title="1ã€æˆåŠŸå†™"></a>1ã€æˆåŠŸå†™</h3><p>å‰é¢ä¾‹å­ç€é‡äºReadï¼Œclientç«¯åœ¨Writeæ—¶å¹¶æœªåˆ¤æ–­Writeçš„è¿”å›å€¼ã€‚æ‰€è°“â€œæˆåŠŸå†™â€æŒ‡çš„å°±æ˜¯Writeè°ƒç”¨è¿”å›çš„nä¸é¢„æœŸè¦å†™å…¥çš„æ•°æ®é•¿åº¦ç›¸ç­‰ï¼Œä¸”error = nilã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨è°ƒç”¨Writeæ—¶é‡åˆ°çš„æœ€å¸¸è§çš„æƒ…å½¢ï¼Œè¿™é‡Œä¸å†ä¸¾ä¾‹äº†ã€‚</p>
<h3 id="2ã€å†™é˜»å¡"><a href="#2ã€å†™é˜»å¡" class="headerlink" title="2ã€å†™é˜»å¡"></a>2ã€å†™é˜»å¡</h3><p>TCPè¿æ¥é€šä¿¡ä¸¤ç«¯çš„OSéƒ½ä¼šä¸ºè¯¥è¿æ¥ä¿ç•™æ•°æ®ç¼“å†²ï¼Œä¸€ç«¯è°ƒç”¨Writeåï¼Œå®é™…ä¸Šæ•°æ®æ˜¯å†™å…¥åˆ°OSçš„åè®®æ ˆçš„æ•°æ®ç¼“å†²çš„ã€‚TCPæ˜¯å…¨åŒå·¥é€šä¿¡ï¼Œå› æ­¤æ¯ä¸ªæ–¹å‘éƒ½æœ‰ç‹¬ç«‹çš„æ•°æ®ç¼“å†²ã€‚å½“å‘é€æ–¹å°†å¯¹æ–¹çš„æ¥æ”¶ç¼“å†²åŒºä»¥åŠè‡ªèº«çš„å‘é€ç¼“å†²åŒºå†™æ»¡åï¼ŒWriteå°±ä¼šé˜»å¡ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼šclient5.goå’Œserver.goã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/read_write/client5.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial ok"</span><span class="token punctuation">)</span>

    data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">65536</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> total <span class="token builtin">int</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        n<span class="token punctuation">,</span> err <span class="token operator">:=</span> conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            total <span class="token operator">+=</span> n
            log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"write %d bytes, error:%s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        total <span class="token operator">+=</span> n
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"write %d bytes this time, %d bytes in total\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> total<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"write %d bytes in total\n"</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//go-tcpsock/read_write/server5.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// read from the connection</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
        <span class="token keyword">var</span> buf <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">)</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"start to read from conn"</span><span class="token punctuation">)</span>
        n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"conn read %d bytes,  error: %s"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">if</span> nerr<span class="token punctuation">,</span> ok <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token punctuation">(</span>net<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token operator">&amp;&amp;</span> nerr<span class="token punctuation">.</span><span class="token function">Timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"read %d bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Server5åœ¨å‰10sä¸­å¹¶ä¸Readæ•°æ®ï¼Œå› æ­¤å½“client5ä¸€ç›´å°è¯•å†™å…¥æ—¶ï¼Œå†™åˆ°ä¸€å®šé‡åå°±ä¼šå‘ç”Ÿé˜»å¡ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client5.go

2015/11/17 14:57:33 begin dial...
2015/11/17 14:57:33 dial ok
2015/11/17 14:57:33 write 65536 bytes this time, 65536 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 131072 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 196608 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 262144 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 327680 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 393216 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 458752 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 524288 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 589824 bytes in total
2015/11/17 14:57:33 write 65536 bytes this time, 655360 bytes in total
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨Darwinä¸Šï¼Œè¿™ä¸ªsizeå¤§çº¦åœ¨679468bytesã€‚åç»­å½“server5æ¯éš”5sè¿›è¡ŒReadæ—¶ï¼ŒOS socketç¼“å†²åŒºè…¾å‡ºäº†ç©ºé—´ï¼Œclient5å°±åˆå¯ä»¥å†™å…¥äº†ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run server5.go
2015/11/17 15:07:01 accept a new connection
2015/11/17 15:07:16 start to read from conn
2015/11/17 15:07:16 read 60000 bytes, content is
2015/11/17 15:07:21 start to read from conn
2015/11/17 15:07:21 read 60000 bytes, content is
2015/11/17 15:07:26 start to read from conn
2015/11/17 15:07:26 read 60000 bytes, content is
....

clientç«¯ï¼š

2015/11/17 15:07:01 write 65536 bytes this time, 720896 bytes in total
2015/11/17 15:07:06 write 65536 bytes this time, 786432 bytes in total
2015/11/17 15:07:16 write 65536 bytes this time, 851968 bytes in total
2015/11/17 15:07:16 write 65536 bytes this time, 917504 bytes in total
2015/11/17 15:07:27 write 65536 bytes this time, 983040 bytes in total
2015/11/17 15:07:27 write 65536 bytes this time, 1048576 bytes in total
.... ...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3ã€å†™å…¥éƒ¨åˆ†æ•°æ®"><a href="#3ã€å†™å…¥éƒ¨åˆ†æ•°æ®" class="headerlink" title="3ã€å†™å…¥éƒ¨åˆ†æ•°æ®"></a>3ã€å†™å…¥éƒ¨åˆ†æ•°æ®</h3><p>Writeæ“ä½œå­˜åœ¨å†™å…¥éƒ¨åˆ†æ•°æ®çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œå½“clientç«¯è¾“å‡ºæ—¥å¿—åœç•™åœ¨â€œwrite 65536 bytes this time, 655360 bytes in totalâ€æ—¶ï¼Œæˆ‘ä»¬æ€æ‰server5ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°client5è¾“å‡ºä»¥ä¸‹æ—¥å¿—ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">...
2015/11/17 15:19:14 write 65536 bytes this time, 655360 bytes in total
2015/11/17 15:19:16 write 24108 bytes, error:write tcp 127.0.0.1:62245->127.0.0.1:8888: write: broken pipe
2015/11/17 15:19:16 write 679468 bytes in total
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ˜¾ç„¶Writeå¹¶éåœ¨655360è¿™ä¸ªåœ°æ–¹é˜»å¡çš„ï¼Œè€Œæ˜¯åç»­åˆå†™å…¥24108åå‘ç”Ÿäº†é˜»å¡ï¼Œserverç«¯socketå…³é—­åï¼Œæˆ‘ä»¬çœ‹åˆ°Wroteè¿”å›er != nilä¸”n = 24108ï¼Œç¨‹åºéœ€è¦å¯¹è¿™éƒ¨åˆ†å†™å…¥çš„24108å­—èŠ‚åšç‰¹å®šå¤„ç†ã€‚</p>
<h3 id="4ã€å†™å…¥è¶…æ—¶"><a href="#4ã€å†™å…¥è¶…æ—¶" class="headerlink" title="4ã€å†™å…¥è¶…æ—¶"></a>4ã€å†™å…¥è¶…æ—¶</h3><p>å¦‚æœéè¦ç»™Writeå¢åŠ ä¸€ä¸ªæœŸé™ï¼Œé‚£æˆ‘ä»¬å¯ä»¥è°ƒç”¨SetWriteDeadlineæ–¹æ³•ã€‚æˆ‘ä»¬copyä¸€ä»½client5.goï¼Œå½¢æˆclient6.goï¼Œåœ¨client6.goçš„Writeä¹‹å‰å¢åŠ ä¸€è¡Œtimeoutè®¾ç½®ä»£ç ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">conn<span class="token punctuation">.</span><span class="token function">SetWriteDeadline</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Microsecond <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¯åŠ¨server6.goï¼Œå¯åŠ¨client6.goï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å†™å…¥è¶…æ—¶çš„æƒ…å†µä¸‹ï¼ŒWriteçš„è¿”å›ç»“æœï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run client6.go
2015/11/17 15:26:34 begin dial...
2015/11/17 15:26:34 dial ok
2015/11/17 15:26:34 write 65536 bytes this time, 65536 bytes in total
... ...
2015/11/17 15:26:34 write 65536 bytes this time, 655360 bytes in total
2015/11/17 15:26:34 write 24108 bytes, error:write tcp 127.0.0.1:62325->127.0.0.1:8888: i/o timeout
2015/11/17 15:26:34 write 679468 bytes in total
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯ä»¥çœ‹åˆ°åœ¨å†™å…¥è¶…æ—¶æ—¶ï¼Œä¾æ—§å­˜åœ¨éƒ¨åˆ†æ•°æ®å†™å…¥çš„æƒ…å†µã€‚</p>
<p>ç»¼ä¸Šä¾‹å­ï¼Œè™½ç„¶Goç»™æˆ‘ä»¬æä¾›äº†é˜»å¡I/Oçš„ä¾¿åˆ©ï¼Œä½†åœ¨è°ƒç”¨Readå’ŒWriteæ—¶ä¾æ—§è¦ç»¼åˆéœ€è¦æ–¹æ³•è¿”å›çš„nå’Œerrçš„ç»“æœï¼Œä»¥åšå‡ºæ­£ç¡®å¤„ç†ã€‚net.connå®ç°äº†io.Readerå’Œio.Writeræ¥å£ï¼Œå› æ­¤å¯ä»¥è¯•ç”¨ä¸€äº›wrapperåŒ…è¿›è¡Œsocketè¯»å†™ï¼Œæ¯”å¦‚bufioåŒ…ä¸‹é¢çš„Writerå’ŒReaderã€io/ioutilä¸‹çš„å‡½æ•°ç­‰ã€‚</p>
<h3 id="Goroutine-safe"><a href="#Goroutine-safe" class="headerlink" title="Goroutine safe"></a>Goroutine safe</h3><p>åŸºäºgoroutineçš„ç½‘ç»œæ¶æ„æ¨¡å‹ï¼Œå­˜åœ¨åœ¨ä¸åŒgoroutineé—´å…±äº«connçš„æƒ…å†µï¼Œé‚£ä¹ˆconnçš„è¯»å†™æ˜¯å¦æ˜¯goroutine safeçš„å‘¢ï¼Ÿåœ¨æ·±å…¥è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»åº”ç”¨æ„ä¹‰ä¸Šæ¥çœ‹readæ“ä½œå’Œwriteæ“ä½œçš„goroutine-safeå¿…è¦æ€§ã€‚</p>
<p>å¯¹äºreadæ“ä½œè€Œè¨€ï¼Œç”±äºTCPæ˜¯é¢å‘å­—èŠ‚æµï¼Œconn.Readæ— æ³•æ­£ç¡®åŒºåˆ†æ•°æ®çš„ä¸šåŠ¡è¾¹ç•Œï¼Œå› æ­¤å¤šä¸ªgoroutineå¯¹åŒä¸€ä¸ªconnè¿›è¡Œreadçš„æ„ä¹‰ä¸å¤§ï¼Œgoroutineè¯»åˆ°ä¸å®Œæ•´çš„ä¸šåŠ¡åŒ…åå€’æ˜¯å¢åŠ äº†ä¸šåŠ¡å¤„ç†çš„éš¾åº¦ã€‚å¯¹ä¸Writeæ“ä½œè€Œè¨€ï¼Œå€’æ˜¯æœ‰å¤šä¸ªgoroutineå¹¶å‘å†™çš„æƒ…å†µã€‚ä¸è¿‡connè¯»å†™æ˜¯å¦goroutine-safeçš„æµ‹è¯•ä¸æ˜¯å¾ˆå¥½åšï¼Œæˆ‘ä»¬å…ˆæ·±å…¥ä¸€ä¸‹runtimeä»£ç ï¼Œå…ˆä»ç†è®ºä¸Šç»™è¿™ä¸ªé—®é¢˜å®šä¸ªæ€§ï¼š</p>
<p>net.connåªæ˜¯*netFDçš„wrapperç»“æ„ï¼Œæœ€ç»ˆWriteå’ŒReadéƒ½ä¼šè½åœ¨å…¶ä¸­çš„fdä¸Šï¼š</p>
<pre><code>type conn struct {
    fd *netFD
}
</code></pre><p>netFDåœ¨ä¸åŒå¹³å°ä¸Šæœ‰ç€ä¸åŒçš„å®ç°ï¼Œæˆ‘ä»¬ä»¥net/fd_unix.goä¸­çš„netFDä¸ºä¾‹ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">// Network file descriptor.</span>
<span class="token keyword">type</span> netFD <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// locking/lifetime of sysfd + serialize access to Read and Write methods</span>
    fdmu fdMutex

    <span class="token comment" spellcheck="true">// immutable until Close</span>
    sysfd       <span class="token builtin">int</span>
    family      <span class="token builtin">int</span>
    sotype      <span class="token builtin">int</span>
    isConnected <span class="token builtin">bool</span>
    net         <span class="token builtin">string</span>
    laddr       Addr
    raddr       Addr

    <span class="token comment" spellcheck="true">// wait server</span>
    pd pollDesc
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬çœ‹åˆ°netFDä¸­åŒ…å«äº†ä¸€ä¸ªruntimeå®ç°çš„fdMutexç±»å‹å­—æ®µï¼Œä»æ³¨é‡Šä¸Šæ¥çœ‹ï¼Œè¯¥fdMutexç”¨æ¥ä¸²è¡ŒåŒ–å¯¹è¯¥netFDå¯¹åº”çš„sysfdçš„Writeå’ŒReadæ“ä½œã€‚ä»è¿™ä¸ªæ³¨é‡Šä¸Šæ¥çœ‹ï¼Œæ‰€æœ‰å¯¹connçš„Readå’ŒWriteæ“ä½œéƒ½æ˜¯æœ‰fdMutexäº’æ–¥çš„ï¼Œä»netFDçš„Readå’ŒWriteæ–¹æ³•çš„å®ç°ä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>fd <span class="token operator">*</span>netFD<span class="token punctuation">)</span> <span class="token function">Read</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> fd<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> fd<span class="token punctuation">.</span><span class="token function">readUnlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> fd<span class="token punctuation">.</span>pd<span class="token punctuation">.</span><span class="token function">PrepareRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        n<span class="token punctuation">,</span> err <span class="token operator">=</span> syscall<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>fd<span class="token punctuation">.</span>sysfd<span class="token punctuation">,</span> p<span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            n <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">if</span> err <span class="token operator">==</span> syscall<span class="token punctuation">.</span>EAGAIN <span class="token punctuation">{</span>
                <span class="token keyword">if</span> err <span class="token operator">=</span> fd<span class="token punctuation">.</span>pd<span class="token punctuation">.</span><span class="token function">WaitRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                    <span class="token keyword">continue</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        err <span class="token operator">=</span> fd<span class="token punctuation">.</span><span class="token function">eofError</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token punctuation">(</span>syscall<span class="token punctuation">.</span>Errno<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
        err <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">NewSyscallError</span><span class="token punctuation">(</span><span class="token string">"read"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>fd <span class="token operator">*</span>netFD<span class="token punctuation">)</span> <span class="token function">Write</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>nn <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> fd<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> fd<span class="token punctuation">.</span><span class="token function">writeUnlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> fd<span class="token punctuation">.</span>pd<span class="token punctuation">.</span><span class="token function">PrepareWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> err
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> n <span class="token builtin">int</span>
        n<span class="token punctuation">,</span> err <span class="token operator">=</span> syscall<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>fd<span class="token punctuation">.</span>sysfd<span class="token punctuation">,</span> p<span class="token punctuation">[</span>nn<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> n <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">{</span>
            nn <span class="token operator">+=</span> n
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> nn <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> err <span class="token operator">==</span> syscall<span class="token punctuation">.</span>EAGAIN <span class="token punctuation">{</span>
            <span class="token keyword">if</span> err <span class="token operator">=</span> fd<span class="token punctuation">.</span>pd<span class="token punctuation">.</span><span class="token function">WaitWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
            err <span class="token operator">=</span> io<span class="token punctuation">.</span>ErrUnexpectedEOF
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token punctuation">(</span>syscall<span class="token punctuation">.</span>Errno<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
        err <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">NewSyscallError</span><span class="token punctuation">(</span><span class="token string">"write"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nn<span class="token punctuation">,</span> err
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¯æ¬¡Writeæ“ä½œéƒ½æ˜¯å—lockä¿æŠ¤ï¼Œç›´åˆ°æ­¤æ¬¡æ•°æ®å…¨éƒ¨writeå®Œã€‚å› æ­¤åœ¨åº”ç”¨å±‚é¢ï¼Œè¦æƒ³ä¿è¯å¤šä¸ªgoroutineåœ¨ä¸€ä¸ªconnä¸Šwriteæ“ä½œçš„Safeï¼Œéœ€è¦ä¸€æ¬¡writeå®Œæ•´å†™å…¥ä¸€ä¸ªâ€œä¸šåŠ¡åŒ…â€ï¼›ä¸€æ—¦å°†ä¸šåŠ¡åŒ…çš„å†™å…¥æ‹†åˆ†ä¸ºå¤šæ¬¡writeï¼Œé‚£å°±æ— æ³•ä¿è¯æŸä¸ªGoroutineçš„æŸâ€œä¸šåŠ¡åŒ…â€æ•°æ®åœ¨connå‘é€çš„è¿ç»­æ€§ã€‚</p>
<p>åŒæ—¶ä¹Ÿå¯ä»¥çœ‹å‡ºå³ä¾¿æ˜¯Readæ“ä½œï¼Œä¹Ÿæ˜¯lockä¿æŠ¤çš„ã€‚å¤šä¸ªGoroutineå¯¹åŒä¸€connçš„å¹¶å‘è¯»ä¸ä¼šå‡ºç°è¯»å‡ºå†…å®¹é‡å çš„æƒ…å†µï¼Œä½†å†…å®¹æ–­ç‚¹æ˜¯ä¾ runtimeè°ƒåº¦æ¥éšæœºç¡®å®šçš„ã€‚å­˜åœ¨ä¸€ä¸ªä¸šåŠ¡åŒ…æ•°æ®ï¼Œ1/3å†…å®¹è¢«goroutine-1è¯»èµ°ï¼Œå¦å¤–2/3è¢«å¦å¤–ä¸€ä¸ªgoroutine-2è¯» èµ°çš„æƒ…å†µã€‚æ¯”å¦‚ä¸€ä¸ªå®Œæ•´åŒ…ï¼šworldï¼Œå½“goroutineçš„read slice size &lt; 5æ—¶ï¼Œå­˜åœ¨å¯èƒ½ï¼šä¸€ä¸ªgoroutineè¯»åˆ° â€œworlâ€,å¦å¤–ä¸€ä¸ªgoroutineè¯»å‡ºâ€dâ€ã€‚</p>
<h2 id="å››ã€Socketå±æ€§"><a href="#å››ã€Socketå±æ€§" class="headerlink" title="å››ã€Socketå±æ€§"></a>å››ã€Socketå±æ€§</h2><p>åŸç”ŸSocket APIæä¾›äº†ä¸°å¯Œçš„sockoptè®¾ç½®æ¥å£ï¼Œä½†Golangæœ‰è‡ªå·±çš„ç½‘ç»œæ¶æ„æ¨¡å‹ï¼Œgolangæä¾›çš„socket optionsæ¥å£ä¹Ÿæ˜¯åŸºäºä¸Šè¿°æ¨¡å‹çš„å¿…è¦çš„å±æ€§è®¾ç½®ã€‚åŒ…æ‹¬</p>
<ul>
<li>SetKeepAlive</li>
<li>SetKeepAlivePeriod</li>
<li>SetLinger</li>
<li>SetNoDelay ï¼ˆé»˜è®¤no delayï¼‰</li>
<li>SetWriteBuffer</li>
<li>SetReadBuffer</li>
</ul>
<p>ä¸è¿‡ä¸Šé¢çš„Methodæ˜¯TCPConnçš„ï¼Œè€Œä¸æ˜¯Connçš„ï¼Œè¦ä½¿ç”¨ä¸Šé¢çš„Methodçš„ï¼Œéœ€è¦type assertionï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">tcpConn<span class="token punctuation">,</span> ok <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>TCPConn<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//error handle</span>
<span class="token punctuation">}</span>

tcpConn<span class="token punctuation">.</span><span class="token function">SetNoDelay</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹äºlistener socket, golangé»˜è®¤é‡‡ç”¨äº† SO_REUSEADDRï¼Œè¿™æ ·å½“ä½ é‡å¯ listenerç¨‹åºæ—¶ï¼Œä¸ä¼šå› ä¸ºaddress in useçš„é”™è¯¯è€Œå¯åŠ¨å¤±è´¥ã€‚è€Œlisten backlogçš„é»˜è®¤å€¼æ˜¯é€šè¿‡è·å–ç³»ç»Ÿçš„è®¾ç½®å€¼å¾—åˆ°çš„ã€‚ä¸åŒç³»ç»Ÿä¸åŒï¼šmac 128, linux 512ç­‰ã€‚</p>
<h2 id="äº”ã€å…³é—­è¿æ¥"><a href="#äº”ã€å…³é—­è¿æ¥" class="headerlink" title="äº”ã€å…³é—­è¿æ¥"></a>äº”ã€å…³é—­è¿æ¥</h2><p>å’Œå‰é¢çš„æ–¹æ³•ç›¸æ¯”ï¼Œå…³é—­è¿æ¥ç®—æ˜¯æœ€ç®€å•çš„æ“ä½œäº†ã€‚ç”±äºsocketæ˜¯å…¨åŒå·¥çš„ï¼Œclientå’Œserverç«¯åœ¨å·±æ–¹å·²å…³é—­çš„socketå’Œå¯¹æ–¹å…³é—­çš„socketä¸Šæ“ä½œçš„ç»“æœæœ‰ä¸åŒã€‚çœ‹ä¸‹é¢ä¾‹å­ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">//go-tcpsock/conn_close/client1.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"begin dial..."</span><span class="token punctuation">)</span>
    conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">":8888"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"close ok"</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> buf <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>
    n<span class="token punctuation">,</span> err <span class="token operator">:=</span> conn<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"read % bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    n<span class="token punctuation">,</span> err <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"write error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"write % bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//go-tcpsock/conn_close/server1.go</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function">handleConn</span><span class="token punctuation">(</span>c net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">// read from the connection</span>
    <span class="token keyword">var</span> buf <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"start to read from conn"</span><span class="token punctuation">)</span>
    n<span class="token punctuation">,</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"conn read error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"read %d bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    n<span class="token punctuation">,</span> err <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"conn write error:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"write %d bytes, content is %s\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span> <span class="token operator">...</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šè¿°ä¾‹å­çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$go run server1.go
2015/11/17 17:00:51 accept a new connection
2015/11/17 17:00:51 start to read from conn
2015/11/17 17:00:51 conn read error: EOF
2015/11/17 17:00:51 write 10 bytes, content is

$go run client1.go
2015/11/17 17:00:51 begin dial...
2015/11/17 17:00:51 close ok
2015/11/17 17:00:51 read error: read tcp 127.0.0.1:64195->127.0.0.1:8888: use of closed network connection
2015/11/17 17:00:51 write error: write tcp 127.0.0.1:64195->127.0.0.1:8888: use of closed network connection
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»client1çš„ç»“æœæ¥çœ‹ï¼Œåœ¨å·±æ–¹å·²ç»å…³é—­çš„socketä¸Šå†è¿›è¡Œreadå’Œwriteæ“ä½œï¼Œä¼šå¾—åˆ°â€use of closed network connectionâ€ errorï¼›<br>ä»server1çš„æ‰§è¡Œç»“æœæ¥çœ‹ï¼Œåœ¨å¯¹æ–¹å…³é—­çš„socketä¸Šæ‰§è¡Œreadæ“ä½œä¼šå¾—åˆ°EOF errorï¼Œä½†writeæ“ä½œä¼šæˆåŠŸï¼Œå› ä¸ºæ•°æ®ä¼šæˆåŠŸå†™å…¥å·±æ–¹çš„å†…æ ¸socketç¼“å†²åŒºä¸­ï¼Œå³ä¾¿æœ€ç»ˆå‘ä¸åˆ°å¯¹æ–¹socketç¼“å†²åŒºäº†ï¼Œå› ä¸ºå·±æ–¹socketå¹¶æœªå…³é—­ã€‚å› æ­¤å½“å‘ç°å¯¹æ–¹socketå…³é—­åï¼Œå·±æ–¹åº”è¯¥æ­£ç¡®åˆç†å¤„ç†è‡ªå·±çš„socketï¼Œå†ç»§ç»­writeå·²ç»æ— ä»»ä½•æ„ä¹‰äº†ã€‚</p>
<h2 id="å…­ã€å°ç»“"><a href="#å…­ã€å°ç»“" class="headerlink" title="å…­ã€å°ç»“"></a>å…­ã€å°ç»“</h2><p>æœ¬æ–‡æ¯”è¾ƒåŸºç¡€ï¼Œä½†å´å¾ˆé‡è¦ï¼Œæ¯•ç«Ÿgolangæ˜¯é¢å‘å¤§è§„æ¨¡æœåŠ¡åç«¯çš„ï¼Œå¯¹é€šä¿¡ç¯èŠ‚çš„ç»†èŠ‚çš„æ·±å…¥ç†è§£ä¼šå¤§æœ‰è£¨ç›Šã€‚å¦å¤–Goçš„goroutine+é˜»å¡é€šä¿¡çš„ç½‘ç»œé€šä¿¡æ¨¡å‹é™ä½äº†å¼€å‘è€…å¿ƒæ™ºè´Ÿæ‹…ï¼Œç®€åŒ–äº†é€šä¿¡çš„å¤æ‚æ€§ï¼Œè¿™ç‚¹å°¤ä¸ºé‡è¦ã€‚</p>
<p>æœ¬æ–‡ä»£ç å®éªŒç¯å¢ƒï¼šgo 1.5.1 on Darwin amd64ä»¥åŠéƒ¨åˆ†åœ¨ubuntu 14.04 amd64ã€‚</p>
<p>æœ¬æ–‡demoä»£ç åœ¨<a href="https://github.com/bigwhite/experiments/tree/master/go-tcpsock" target="_blank" rel="external">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°ã€‚</p>
<p>Â© 2015, <a href="http://tonybai.com/" target="_blank" rel="external">bigwhite</a>. ç‰ˆæƒæ‰€æœ‰.</p>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;è½¬è½½æ–‡ç« &lt;/p&gt;
&lt;h1 id=&quot;Goè¯­è¨€TCP-Socketç¼–ç¨‹&quot;&gt;&lt;a
    
    </summary>
    
      <category term="GO" scheme="http://yusank.github.io/categories/GO/"/>
    
    
  </entry>
  
  <entry>
    <title>GO interface</title>
    <link href="http://yusank.github.io/Go_interface.html/"/>
    <id>http://yusank.github.io/Go_interface.html/</id>
    <published>2017-06-08T07:07:00.000Z</published>
    <updated>2017-06-08T07:07:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Go-interface"><a href="#Go-interface" class="headerlink" title="Go interface"></a>Go interface</h1><h2 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h2><p>åœ¨ Golang ä¸­ interface æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µå’Œç‰¹æ€§ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯-interfaceï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-interfaceï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ interfaceï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ interfaceï¼Ÿ</h3><blockquote>
<p>In <a href="https://en.wikipedia.org/wiki/Object-oriented_programming" target="_blank" rel="external">object-oriented programming</a>, a <strong>protocol</strong> or <strong>interface</strong> is a common means for unrelated <a href="https://en.wikipedia.org/wiki/Object_(computer_science" target="_blank" rel="external">objects</a>) to communicate with each other. These are definitions of <a href="https://en.wikipedia.org/wiki/Method_(computer_science" target="_blank" rel="external">methods</a>) and values which the objects agree upon in order to co-operate. â€” wikipedia</p>
</blockquote>
<p>è¿™æ˜¯ wikipedia å…³äº protocal çš„å®šä¹‰ï¼Œå°† interface ç±»æ¯”å¦‚ protocal æ˜¯ä¸€ç§éå¸¸åŠ©äºç†è§£çš„æ–¹å¼ã€‚protocolï¼Œä¸­æ–‡ä¸€èˆ¬å«åšåè®®ï¼Œæ¯”å¦‚ç½‘ç»œä¼ è¾“ä¸­çš„ TCP åè®®ã€‚protocol å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§åŒæ–¹ä¸ºäº†äº¤æµè€Œåšå‡ºçš„çº¦å®šï¼Œinterface å¯ä»¥ç±»æ¯”å¦‚æ­¤ã€‚</p>
<p>åœ¨ Golang ä¸­ï¼Œinterface æ˜¯ä¸€ç§æŠ½è±¡ç±»å‹ï¼Œç›¸å¯¹äºæŠ½è±¡ç±»å‹çš„æ˜¯å…·ä½“ç±»å‹ï¼ˆconcrete typeï¼‰ï¼šintï¼Œstringã€‚å¦‚ä¸‹æ˜¯ io åŒ…é‡Œé¢çš„ä¾‹å­ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">// Writer is the interface that wraps the basic Write method.</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// Write writes len(p) bytes from p to the underlying data stream.</span>
<span class="token comment" spellcheck="true">// It returns the number of bytes written from p (0 &lt;= n &lt;= len(p))</span>
<span class="token comment" spellcheck="true">// and any error encountered that caused the write to stop early.</span>
<span class="token comment" spellcheck="true">// Write must return a non-nil error if it returns n &lt; len(p).</span>
<span class="token comment" spellcheck="true">// Write must not modify the slice data, even temporarily.</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// Implementations must not retain p.</span>
<span class="token keyword">type</span> Writer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Write</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Closer is the interface that wraps the basic Close method.</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// The behavior of Close after the first call is undefined.</span>
<span class="token comment" spellcheck="true">// Specific implementations may document their own behavior.</span>
<span class="token keyword">type</span> Closer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨ Golang ä¸­ï¼Œinterface æ˜¯ä¸€ç»„ method çš„é›†åˆï¼Œæ˜¯ <a href="https://zh.wikipedia.org/wiki/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B" target="_blank" rel="external">duck-type programming</a> (é¸­å­ç±»å‹)çš„ä¸€ç§ä½“ç°ã€‚ä¸å…³å¿ƒå±æ€§ï¼ˆæ•°æ®ï¼‰ï¼Œåªå…³å¿ƒè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ã€‚å…·ä½“ä½¿ç”¨ä¸­ä½ å¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„ structï¼Œå¹¶æä¾›ç‰¹å®šçš„ interface é‡Œé¢çš„ method å°±å¯ä»¥æŠŠå®ƒå½“æˆ interface æ¥ä½¿ç”¨ã€‚ä¸‹é¢æ˜¯ä¸€ç§ interface çš„å…¸å‹ç”¨æ³•ï¼Œå®šä¹‰å‡½æ•°çš„æ—¶å€™å‚æ•°å®šä¹‰æˆ interfaceï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™å°±å¯ä»¥åšåˆ°éå¸¸çš„çµæ´»ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">type</span> MyInterface <span class="token keyword">interface</span><span class="token punctuation">{</span>
    <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TestFunc</span><span class="token punctuation">(</span>x MyInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> MyStruct <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>me MyStruct<span class="token punctuation">)</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> me MyStruct
    <span class="token function">TestFunc</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ä¸ºä»€ä¹ˆ-interface"><a href="#ä¸ºä»€ä¹ˆ-interface" class="headerlink" title="ä¸ºä»€ä¹ˆ interface"></a>ä¸ºä»€ä¹ˆ interface</h3><p>Gopher China ä¸Šç»™å‡ºäº†ä¸‹é¢çš„ä¸‰ä¸ªç†ç”±ï¼š</p>
<ul>
<li>writing generic algorithm ï¼ˆæ³›å‹ç¼–ç¨‹ï¼‰</li>
<li>hiding implementation detail ï¼ˆéšè—å…·ä½“å®ç°ï¼‰</li>
<li>providing interception points ï¼ˆæä¾›ç›‘å¬ç‚¹/æ‹¦æˆªç‚¹ï¼Ÿï¼‰</li>
</ul>
<h4 id="write-generic-algorithm"><a href="#write-generic-algorithm" class="headerlink" title="write generic algorithm"></a>write generic algorithm</h4><p>ä¸¥æ ¼æ¥è¯´ï¼Œåœ¨ Golang ä¸­å¹¶ä¸æ”¯æŒæ³›å‹ç¼–ç¨‹ã€‚åœ¨ C++ ç­‰é«˜çº§è¯­è¨€ä¸­ä½¿ç”¨æ³›å‹ç¼–ç¨‹éå¸¸çš„ç®€å•ï¼Œæ‰€ä»¥æ³›å‹ç¼–ç¨‹ä¸€ç›´æ˜¯ Golang è¯Ÿç—…æœ€å¤šçš„åœ°æ–¹ã€‚ä½†æ˜¯ä½¿ç”¨ interface æˆ‘ä»¬å¯ä»¥å®ç°æ³›å‹ç¼–ç¨‹ï¼Œæˆ‘è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘å‰é¢ç»™å‡ºæ¥çš„é‚£ç¯‡æ–‡ç« ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦å†™ä¸€ä¸ªæ³›å‹ç®—æ³•ï¼Œå½¢å‚å®šä¹‰é‡‡ç”¨ interface å°±å¯ä»¥äº†ï¼Œä»¥æ ‡å‡†åº“çš„ sort ä¸ºä¾‹ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> sort

<span class="token comment" spellcheck="true">// A type, typically a collection, that satisfies sort.Interface can be</span>
<span class="token comment" spellcheck="true">// sorted by the routines in this package.  The methods require that the</span>
<span class="token comment" spellcheck="true">// elements of the collection be enumerated by an integer index.</span>
<span class="token keyword">type</span> Interface <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Len is the number of elements in the collection.</span>
    <span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span>
    <span class="token comment" spellcheck="true">// Less reports whether the element with</span>
    <span class="token comment" spellcheck="true">// index i should sort before the element with index j.</span>
    <span class="token function">Less</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>
    <span class="token comment" spellcheck="true">// Swap swaps the elements with indexes i and j.</span>
    <span class="token function">Swap</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span>

<span class="token comment" spellcheck="true">// Sort sorts data.</span>
<span class="token comment" spellcheck="true">// It makes one call to data.Len to determine n, and O(n*log(n)) calls to</span>
<span class="token comment" spellcheck="true">// data.Less and data.Swap. The sort is not guaranteed to be stable.</span>
<span class="token keyword">func</span> <span class="token function">Sort</span><span class="token punctuation">(</span>data Interface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Switch to heapsort if depth of 2*ceil(lg(n+1)) is reached.</span>
    n <span class="token operator">:=</span> data<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    maxDepth <span class="token operator">:=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> n<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">>>=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
        maxDepth<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    maxDepth <span class="token operator">*=</span> <span class="token number">2</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> maxDepth<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Sort å‡½æ•°çš„å½¢å‚æ˜¯ä¸€ä¸ª interfaceï¼ŒåŒ…å«äº†ä¸‰ä¸ªæ–¹æ³•ï¼š<code>Len()</code>ï¼Œ<code>Less(i,j int)</code>ï¼Œ<code>Swap(i, j int)</code>ã€‚ä½¿ç”¨çš„æ—¶å€™ä¸ç®¡æ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆint, float, stringâ€¦ï¼‰ï¼Œåªè¦æˆ‘ä»¬å®ç°äº†è¿™ä¸‰ä¸ªæ–¹æ³•å°±å¯ä»¥ä½¿ç”¨ Sort å‡½æ•°ï¼Œè¿™æ ·å°±å®ç°äº†â€œæ³›å‹ç¼–ç¨‹â€ã€‚æœ‰ä¸€ç‚¹æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°ç»„è‡ªå®šä¹‰ä¸€ä¸‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">type</span> Person <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Name <span class="token builtin">string</span>
    Age  <span class="token builtin">int</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>p Person<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%s: %d"</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> p<span class="token punctuation">.</span>Age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// ByAge implements sort.Interface for []Person based on</span>
<span class="token comment" spellcheck="true">// the Age field.</span>
<span class="token keyword">type</span> ByAge <span class="token punctuation">[</span><span class="token punctuation">]</span>Person <span class="token comment" spellcheck="true">//è‡ªå®šä¹‰</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a ByAge<span class="token punctuation">)</span> <span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span>           <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a ByAge<span class="token punctuation">)</span> <span class="token function">Swap</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a ByAge<span class="token punctuation">)</span> <span class="token function">Less</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    people <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Person<span class="token punctuation">{</span>
        <span class="token punctuation">{</span><span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">"Michael"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">"Jenny"</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span>
    sort<span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token function">ByAge</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦å¤– Gopher China ä¸Šè¿˜æåˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„ä¸œè¥¿å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚åœ¨æˆ‘ä»¬è®¾è®¡å‡½æ•°çš„æ—¶å€™ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å‡†åˆ™ã€‚</p>
<blockquote>
<p>Be <strong>conservative</strong> in what you send, be <strong>liberal</strong> in what you accept. â€” Robustness Principle</p>
</blockquote>
<p>å¯¹åº”åˆ° Golang å°±æ˜¯ï¼š</p>
<blockquote>
<p>Return <strong>concrete types</strong>, receive <strong>interfaces</strong> as parameter. â€” Robustness Principle applied to Go</p>
</blockquote>
<p>è¯è¯´è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç¿»é˜… Golang æºç çš„æ—¶å€™ï¼Œæœ‰äº›å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯ interfaceã€‚</p>
<h4 id="hiding-implement-detail"><a href="#hiding-implement-detail" class="headerlink" title="hiding implement detail"></a>hiding implement detail</h4><p>éšè—å…·ä½“å®ç°ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚æ¯”å¦‚æˆ‘è®¾è®¡ä¸€ä¸ªå‡½æ•°ç»™ä½ è¿”å›ä¸€ä¸ª interfaceï¼Œé‚£ä¹ˆä½ åªèƒ½é€šè¿‡ interface é‡Œé¢çš„æ–¹æ³•æ¥åšä¸€äº›æ“ä½œï¼Œä½†æ˜¯å†…éƒ¨çš„å…·ä½“å®ç°æ˜¯å®Œå…¨ä¸çŸ¥é“çš„ã€‚Francesc ä¸¾äº†ä¸ª context çš„ä¾‹å­ã€‚ context æœ€å…ˆç”± google æä¾›ï¼Œç°åœ¨å·²ç»çº³å…¥äº†æ ‡å‡†åº“ï¼Œè€Œä¸”åœ¨åŸæœ‰ context çš„åŸºç¡€ä¸Šå¢åŠ äº†ï¼šcancelCtxï¼ŒtimerCtxï¼ŒvalueCtxã€‚è¯­è¨€çš„è¡¨è¾¾æœ‰æ—¶å€™ç•¥æ˜¾è‹ç™½æ— åŠ›ï¼Œçœ‹ä¸€ä¸‹ context åŒ…çš„ä»£ç å§ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> cancel CancelFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">:=</span> <span class="token function">newCancelCtx</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¡¨æ˜ä¸Š WithCancel å‡½æ•°è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ª Context interfaceï¼Œä½†æ˜¯è¿™ä¸ª interface çš„å…·ä½“å®ç°æ˜¯ cancelCtx structã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">// newCancelCtx returns an initialized cancelCtx.</span>
<span class="token keyword">func</span> <span class="token function">newCancelCtx</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> cancelCtx <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cancelCtx<span class="token punctuation">{</span>
        Context<span class="token punctuation">:</span> parent<span class="token punctuation">,</span>
        done<span class="token punctuation">:</span>    <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// A cancelCtx can be canceled. When canceled, it also cancels any children</span>
<span class="token comment" spellcheck="true">// that implement canceler.</span>
<span class="token keyword">type</span> cancelCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Context     <span class="token comment" spellcheck="true">//æ³¨æ„ä¸€ä¸‹è¿™ä¸ªåœ°æ–¹</span>

    done <span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// closed by the first cancel call.</span>
    mu       sync<span class="token punctuation">.</span>Mutex
    children <span class="token keyword">map</span><span class="token punctuation">[</span>canceler<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// set to nil by the first cancel call</span>
    err      <span class="token builtin">error</span>                 <span class="token comment" spellcheck="true">// set to non-nil by the first cancel call</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> c<span class="token punctuation">.</span>done
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">defer</span> c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> c<span class="token punctuation">.</span>err
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%v.WithCancel"</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>Context<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å°½ç®¡å†…éƒ¨å®ç°ä¸Šä¸‹é¢ä¸‰ä¸ªå‡½æ•°è¿”å›çš„å…·ä½“ struct ï¼ˆéƒ½å®ç°äº† Context interfaceï¼‰ä¸åŒï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è€…æ¥è¯´æ˜¯å®Œå…¨æ— æ„ŸçŸ¥çš„ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> cancel CancelFunc<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//è¿”å› cancelCtx</span>
<span class="token keyword">func</span> <span class="token function">WithDeadline</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">(</span>Context<span class="token punctuation">,</span> CancelFunc<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è¿”å› timerCtx</span>
<span class="token keyword">func</span> <span class="token function">WithValue</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> Context    <span class="token comment" spellcheck="true">//è¿”å› valueCtx</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="providing-interception-points"><a href="#providing-interception-points" class="headerlink" title="providing interception points"></a>providing interception points</h4><p>è¿™é‡Œçš„ interception æƒ³è¡¨è¾¾çš„æ„æ€åº”è¯¥æ˜¯ wrapper æˆ–è€…è£…é¥°å™¨ï¼Œä»–ç»™å‡ºäº†ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">type</span> header <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    rt  http<span class="token punctuation">.</span>RoundTripper
    v   <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>h header<span class="token punctuation">)</span> <span class="token function">RoundTrip</span><span class="token punctuation">(</span>r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token operator">*</span>http<span class="token punctuation">.</span>Response <span class="token punctuation">{</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> h<span class="token punctuation">.</span>v <span class="token punctuation">{</span>
        r<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> h<span class="token punctuation">.</span>rt<span class="token punctuation">.</span><span class="token function">RoundTrip</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é€šè¿‡ interfaceï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»ä¼¼è¿™ç§æ–¹å¼å®ç°åŠ¨æ€åˆ†é… (dynamic dispatch)ã€‚</p>
<h3 id="éä¾µå…¥å¼"><a href="#éä¾µå…¥å¼" class="headerlink" title="éä¾µå…¥å¼"></a>éä¾µå…¥å¼</h3><p>ä»€ä¹ˆæ˜¯ä¾µå…¥å¼å‘¢ï¼Ÿæ¯”å¦‚ Java çš„ interface å®ç°éœ€è¦æ˜¾ç¤ºçš„å£°æ˜ã€‚</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyWriter</span> <span class="token keyword">implements</span> <span class="token class-name">io<span class="token punctuation">.</span>Writer</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™æ ·å°±æ„å‘³ç€å¦‚æœè¦å®ç°å¤šä¸ª interface éœ€è¦æ˜¾ç¤ºåœ°å†™å¾ˆå¤šéï¼ŒåŒæ—¶ package çš„ä¾èµ–è¿˜éœ€è¦è¿›è¡Œç®¡ç†ã€‚Dependency is evilã€‚æ¯”å¦‚æˆ‘è¦å®ç° io åŒ…é‡Œé¢çš„ Readerï¼ŒWriterï¼ŒReadWriter æ¥å£ï¼Œä»£ç å¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">type</span> MyIO <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>io <span class="token operator">*</span>MyIO<span class="token punctuation">)</span> <span class="token function">Read</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>io <span class="token operator">*</span>MyIO<span class="token punctuation">)</span> <span class="token function">Write</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// io package</span>
<span class="token keyword">type</span> Reader <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Read</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Writer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Write</span><span class="token punctuation">(</span>p <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> ReadWriter <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    Reader
    Writer
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™ç§å†™æ³•çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”ä¸ç”¨å»æ˜¾ç¤ºçš„ import io packageï¼Œinterface åº•å±‚å®ç°çš„æ—¶å€™ä¼šåŠ¨æ€çš„æ£€æµ‹ã€‚è¿™æ ·ä¹Ÿä¼šå¼•å…¥ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>æ€§èƒ½ä¸‹é™ã€‚ä½¿ç”¨ interface ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œruntime çš„æ—¶å€™ä¼šåŠ¨æ€çš„ç¡®å®šè¡Œä¸ºã€‚è€Œä½¿ç”¨ struct ä½œä¸ºå‚æ•°ï¼Œç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®šäº†ã€‚</li>
<li>ä¸çŸ¥é“ struct å®ç°å“ªäº› interfaceã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨ guru å·¥å…·æ¥è§£å†³ã€‚</li>
</ol>
<p>ç»¼ä¸Šï¼ŒGolang interface çš„è¿™ç§éä¾µå…¥å®ç°çœŸçš„å¾ˆéš¾è¯´å®ƒæ˜¯å¥½ï¼Œè¿˜æ˜¯åã€‚ä½†æ˜¯å¯ä»¥è‚¯å®šçš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹å¼€å‘äººå‘˜æ¥è¯´ä»£ç å†™èµ·æ¥æ›´ç®€å•äº†ã€‚</p>
<h3 id="interface-type-assertion"><a href="#interface-type-assertion" class="headerlink" title="interface type assertion"></a>interface type assertion</h3><p>interface åƒå…¶ä»–ç±»å‹è½¬æ¢çš„æ—¶å€™ä¸€èˆ¬æˆ‘ä»¬ç§°ä½œæ–­è¨€ï¼Œä¸¾ä¸ªä¾‹å­ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">do</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    n <span class="token operator">:=</span> v<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// might panic</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è¿™æ ·å†™çš„åå¤„åœ¨äºï¼šä¸€æ—¦æ–­è¨€å¤±è´¥ï¼Œç¨‹åºå°†ä¼š panicã€‚ä¸€ç§é¿å… panic çš„å†™æ³•æ˜¯ä½¿ç”¨ type assertionã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">do</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    n<span class="token punctuation">,</span> ok <span class="token operator">:=</span> v<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// æ–­è¨€å¤±è´¥å¤„ç†</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹äº interface çš„æ“ä½œå¯ä»¥ä½¿ç”¨ reflect åŒ…æ¥å¤„ç†ï¼Œå…³äº reflect åŒ…çš„åŸç†å’Œä½¿ç”¨å¯ä»¥å‚è€ƒæˆ‘çš„æ–‡ç« ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>interface æ˜¯ Golang çš„ä¸€ç§é‡è¦çš„ç‰¹æ€§ï¼Œä½†æ˜¯è¿™æ˜¯ä»¥ runtime ä¸ºä»£ä»·çš„ï¼Œä¹Ÿå°±æ„å‘³ç€æ€§èƒ½çš„æŸå¤±ï¼ˆå…³äº interface çš„åº•å±‚å®ç°ä¹‹åæœ‰æ—¶é—´å†å†™ï¼‰ã€‚æŠ›å¼€æ€§èƒ½ä¸è°ˆï¼Œinterface å¯¹äºå¦‚ä½•è®¾è®¡æˆ‘ä»¬çš„ä»£ç ç¡®å®ç»™äº†ä¸€ä¸ªå¾ˆå¥½çš„æ€è€ƒã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol>
<li><a href="http://legendtkl.com/2015/11/25/go-generic-programming/" target="_blank" rel="external">Golang â€œæ³›å‹ç¼–ç¨‹â€</a></li>
<li><a href="http://legendtkl.com/2015/11/28/go-interface-reflect/" target="_blank" rel="external">è°ˆä¸€è°ˆ Golang çš„ interface å’Œ reflect</a></li>
<li><a href="https://www.youtube.com/watch?v=F4wUrj6pmSI&amp;t=2319s" target="_blank" rel="external">understanding golang interface(Gopher China) â€” youtube</a></li>
<li><a href="https://github.com/gopherchina/conference/blob/master/2017/1.4%20interface.presented.pdf" target="_blank" rel="external">understanding golang interface(Gopher China) â€” slide</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;Go-interface&quot;&gt;&lt;a href=&quot;#Go-inter
    
    </summary>
    
      <category term="GO" scheme="http://yusank.github.io/categories/GO/"/>
    
    
  </entry>
  
  <entry>
    <title>GO test</title>
    <link href="http://yusank.github.io/go-test.html/"/>
    <id>http://yusank.github.io/go-test.html/</id>
    <published>2017-06-01T07:07:00.000Z</published>
    <updated>2017-06-01T07:07:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Go-æµ‹è¯•ç”¨ä¾‹"><a href="#Go-æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="Go æµ‹è¯•ç”¨ä¾‹"></a>Go æµ‹è¯•ç”¨ä¾‹</h1><p>å¼€å‘ç¨‹åºå…¶ä¸­å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬å¦‚ä½•ä¿è¯ä»£ç çš„è´¨é‡ï¼Œå¦‚ä½•ä¿è¯æ¯ä¸ªå‡½æ•°æ˜¯å¯è¿è¡Œï¼Œè¿è¡Œç»“æœæ˜¯æ­£ç¡®çš„ï¼Œåˆå¦‚ä½•ä¿è¯å†™å‡ºæ¥çš„ä»£ç æ€§èƒ½æ˜¯å¥½çš„ï¼Œæˆ‘ä»¬çŸ¥é“å•å…ƒæµ‹è¯•çš„é‡ç‚¹åœ¨äºå‘ç°ç¨‹åºè®¾è®¡æˆ–å®ç°çš„é€»è¾‘é”™è¯¯ï¼Œä½¿é—®é¢˜åŠæ—©æš´éœ²ï¼Œä¾¿äºé—®é¢˜çš„å®šä½è§£å†³ï¼Œè€Œæ€§èƒ½æµ‹è¯•çš„é‡ç‚¹åœ¨äºå‘ç°ç¨‹åºè®¾è®¡ä¸Šçš„ä¸€äº›é—®é¢˜ï¼Œè®©çº¿ä¸Šçš„ç¨‹åºèƒ½å¤Ÿåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹è¿˜èƒ½ä¿æŒç¨³å®šã€‚æœ¬å°èŠ‚å°†å¸¦ç€è¿™ä¸€è¿ä¸²çš„é—®é¢˜æ¥è®²è§£Goè¯­è¨€ä¸­å¦‚ä½•æ¥å®ç°å•å…ƒæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ã€‚</p>
<p>Goè¯­è¨€ä¸­è‡ªå¸¦æœ‰ä¸€ä¸ªè½»é‡çº§çš„æµ‹è¯•æ¡†æ¶<code>testing</code>å’Œè‡ªå¸¦çš„<code>go test</code>å‘½ä»¤æ¥å®ç°å•å…ƒæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼Œ<code>testing</code>æ¡†æ¶å’Œå…¶ä»–è¯­è¨€ä¸­çš„æµ‹è¯•æ¡†æ¶ç±»ä¼¼ï¼Œä½ å¯ä»¥åŸºäºè¿™ä¸ªæ¡†æ¶å†™é’ˆå¯¹ç›¸åº”å‡½æ•°çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿå¯ä»¥åŸºäºè¯¥æ¡†æ¶å†™ç›¸åº”çš„å‹åŠ›æµ‹è¯•ç”¨ä¾‹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€ä¸€æ¥çœ‹ä¸€ä¸‹æ€ä¹ˆå†™ã€‚</p>
<p>å¦å¤–å»ºè®®å®‰è£…<a href="https://github.com/cweill/gotests" target="_blank" rel="external">gotests</a>æ’ä»¶è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ä»£ç :</p>
<pre class="line-numbers language-shell"><code class="language-shell">go get -u -v github.com/cweill/gotests/...
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="å¦‚ä½•ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a href="#å¦‚ä½•ç¼–å†™æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="å¦‚ä½•ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a>å¦‚ä½•ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h2><p>ç”±äº<code>go test</code>å‘½ä»¤åªèƒ½åœ¨ä¸€ä¸ªç›¸åº”çš„ç›®å½•ä¸‹æ‰§è¡Œæ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä¸‹æ¥æ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•<code>gotest</code>,è¿™æ ·æˆ‘ä»¬æ‰€æœ‰çš„ä»£ç å’Œæµ‹è¯•ä»£ç éƒ½åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨è¯¥ç›®å½•ä¸‹é¢åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼šgotest.goå’Œgotest_test.go</p>
<ol>
<li>gotest.go:è¿™ä¸ªæ–‡ä»¶é‡Œé¢æˆ‘ä»¬æ˜¯åˆ›å»ºäº†ä¸€ä¸ªåŒ…ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªå‡½æ•°å®ç°äº†é™¤æ³•è¿ç®—:</li>
</ol>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> gotest

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"errors"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">Division</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> b <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"é™¤æ•°ä¸èƒ½ä¸º0"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> a <span class="token operator">/</span> b<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>gotest_test.go:è¿™æ˜¯æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•æ–‡ä»¶ï¼Œä½†æ˜¯è®°ä½ä¸‹é¢çš„è¿™äº›åŸåˆ™ï¼š</li>
</ol>
<ul>
<li>æ–‡ä»¶åå¿…é¡»æ˜¯<code>_test.go</code>ç»“å°¾çš„ï¼Œè¿™æ ·åœ¨æ‰§è¡Œ<code>go test</code>çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œåˆ°ç›¸åº”çš„ä»£ç </li>
<li>ä½ å¿…é¡»import <code>testing</code>è¿™ä¸ªåŒ…</li>
<li>æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹å‡½æ•°å¿…é¡»æ˜¯<code>Test</code>å¼€å¤´</li>
<li>æµ‹è¯•ç”¨ä¾‹ä¼šæŒ‰ç…§æºä»£ç ä¸­å†™çš„é¡ºåºä¾æ¬¡æ‰§è¡Œ</li>
<li>æµ‹è¯•å‡½æ•°<code>TestXxx()</code>çš„å‚æ•°æ˜¯<code>testing.T</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥ç±»å‹æ¥è®°å½•é”™è¯¯æˆ–è€…æ˜¯æµ‹è¯•çŠ¶æ€</li>
<li>æµ‹è¯•æ ¼å¼ï¼š<code>func TestXxx (t *testing.T)</code>,<code>Xxx</code>éƒ¨åˆ†å¯ä»¥ä¸ºä»»æ„çš„å­—æ¯æ•°å­—çš„ç»„åˆï¼Œä½†æ˜¯é¦–å­—æ¯ä¸èƒ½æ˜¯å°å†™å­—æ¯[a-z]ï¼Œä¾‹å¦‚<code>Testintdiv</code>æ˜¯é”™è¯¯çš„å‡½æ•°åã€‚</li>
<li><p>å‡½æ•°ä¸­é€šè¿‡è°ƒç”¨<code>testing.T</code>çš„<code>Error</code>, <code>Errorf</code>, <code>FailNow</code>, <code>Fatal</code>, <code>FatalIf</code>æ–¹æ³•ï¼Œè¯´æ˜æµ‹è¯•ä¸é€šè¿‡ï¼Œè°ƒç”¨<code>Log</code>æ–¹æ³•ç”¨æ¥è®°å½•æµ‹è¯•çš„ä¿¡æ¯ã€‚</p>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹çš„ä»£ç ï¼š</p>
</li>
</ul>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> gotest

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"testing"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">Test_Division_1</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> i<span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token function">Division</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token number">3</span> <span class="token operator">||</span> e <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//try a unit test on function</span>
        t<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">"é™¤æ³•å‡½æ•°æµ‹è¯•æ²¡é€šè¿‡"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¦‚æœä¸æ˜¯å¦‚é¢„æœŸçš„é‚£ä¹ˆå°±æŠ¥é”™</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"ç¬¬ä¸€ä¸ªæµ‹è¯•é€šè¿‡äº†"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è®°å½•ä¸€äº›ä½ æœŸæœ›è®°å½•çš„ä¿¡æ¯</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Test_Division_2</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">"å°±æ˜¯ä¸é€šè¿‡"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹é¢æ‰§è¡Œ<code>go test</code>,å°±ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">--- FAIL: Test_Division_2 (0.00 seconds)
    gotest_test.go:16: å°±æ˜¯ä¸é€šè¿‡
    FAIL
    exit status 1
    FAIL    gotest    0.013s
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»è¿™ä¸ªç»“æœæ˜¾ç¤ºæµ‹è¯•æ²¡æœ‰é€šè¿‡ï¼Œå› ä¸ºåœ¨ç¬¬äºŒä¸ªæµ‹è¯•å‡½æ•°ä¸­æˆ‘ä»¬å†™æ­»äº†æµ‹è¯•ä¸é€šè¿‡çš„ä»£ç <code>t.Error</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå‡½æ•°æ‰§è¡Œçš„æƒ…å†µæ€ä¹ˆæ ·å‘¢ï¼Ÿé»˜è®¤æƒ…å†µä¸‹æ‰§è¡Œ<code>go test</code>æ˜¯ä¸ä¼šæ˜¾ç¤ºæµ‹è¯•é€šè¿‡çš„ä¿¡æ¯çš„ï¼Œæˆ‘ä»¬éœ€è¦å¸¦ä¸Šå‚æ•°<code>go test -v</code>ï¼Œè¿™æ ·å°±ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">=== RUN Test_Division_1
--- PASS: Test_Division_1 (0.00 seconds)
    gotest_test.go:11: ç¬¬ä¸€ä¸ªæµ‹è¯•é€šè¿‡äº†
=== RUN Test_Division_2
--- FAIL: Test_Division_2 (0.00 seconds)
    gotest_test.go:16: å°±æ˜¯ä¸é€šè¿‡
FAIL
exit status 1
FAIL    gotest    0.012s
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢çš„è¾“å‡ºè¯¦ç»†çš„å±•ç¤ºäº†è¿™ä¸ªæµ‹è¯•çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬çœ‹åˆ°æµ‹è¯•å‡½æ•°1<code>Test_Division_1</code>æµ‹è¯•é€šè¿‡ï¼Œè€Œæµ‹è¯•å‡½æ•°2<code>Test_Division_2</code>æµ‹è¯•å¤±è´¥äº†ï¼Œæœ€åå¾—å‡ºç»“è®ºæµ‹è¯•ä¸é€šè¿‡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠæµ‹è¯•å‡½æ•°2ä¿®æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">Test_Division_2</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token function">Division</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> e <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//try a unit test on function</span>
        t<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">"Division did not work as expected."</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¦‚æœä¸æ˜¯å¦‚é¢„æœŸçš„é‚£ä¹ˆå°±æŠ¥é”™</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">"one test passed."</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è®°å½•ä¸€äº›ä½ æœŸæœ›è®°å½•çš„ä¿¡æ¯</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç„¶åæˆ‘ä»¬æ‰§è¡Œ<code>go test -v</code>ï¼Œå°±æ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œæµ‹è¯•é€šè¿‡äº†ï¼š</p>
<pre><code>=== RUN Test_Division_1
--- PASS: Test_Division_1 (0.00 seconds)
    gotest_test.go:11: ç¬¬ä¸€ä¸ªæµ‹è¯•é€šè¿‡äº†
=== RUN Test_Division_2
--- PASS: Test_Division_2 (0.00 seconds)
    gotest_test.go:20: one test passed. é™¤æ•°ä¸èƒ½ä¸º0
PASS
ok  gotest    0.013s
</code></pre><h2 id="å¦‚ä½•ç¼–å†™å‹åŠ›æµ‹è¯•"><a href="#å¦‚ä½•ç¼–å†™å‹åŠ›æµ‹è¯•" class="headerlink" title="å¦‚ä½•ç¼–å†™å‹åŠ›æµ‹è¯•"></a>å¦‚ä½•ç¼–å†™å‹åŠ›æµ‹è¯•</h2><p>å‹åŠ›æµ‹è¯•ç”¨æ¥æ£€æµ‹å‡½æ•°(æ–¹æ³•ï¼‰çš„æ€§èƒ½ï¼Œå’Œç¼–å†™å•å…ƒåŠŸèƒ½æµ‹è¯•çš„æ–¹æ³•ç±»ä¼¼,æ­¤å¤„ä¸å†èµ˜è¿°ï¼Œä½†éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å‹åŠ›æµ‹è¯•ç”¨ä¾‹å¿…é¡»éµå¾ªå¦‚ä¸‹æ ¼å¼ï¼Œå…¶ä¸­XXXå¯ä»¥æ˜¯ä»»æ„å­—æ¯æ•°å­—çš„ç»„åˆï¼Œä½†æ˜¯é¦–å­—æ¯ä¸èƒ½æ˜¯å°å†™å­—æ¯</li>
</ul>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">BenchmarkXXX</span><span class="token punctuation">(</span>b <span class="token operator">*</span>testing<span class="token punctuation">.</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><code>go test</code>ä¸ä¼šé»˜è®¤æ‰§è¡Œå‹åŠ›æµ‹è¯•çš„å‡½æ•°ï¼Œå¦‚æœè¦æ‰§è¡Œå‹åŠ›æµ‹è¯•éœ€è¦å¸¦ä¸Šå‚æ•°<code>-test.bench</code>ï¼Œè¯­æ³•:<code>-test.bench=&quot;test_name_regex&quot;</code>,ä¾‹å¦‚<code>go test -test.bench=&quot;.*&quot;</code>è¡¨ç¤ºæµ‹è¯•å…¨éƒ¨çš„å‹åŠ›æµ‹è¯•å‡½æ•°</li>
<li>åœ¨å‹åŠ›æµ‹è¯•ç”¨ä¾‹ä¸­,è¯·è®°å¾—åœ¨å¾ªç¯ä½“å†…ä½¿ç”¨<code>testing.B.N</code>,ä»¥ä½¿æµ‹è¯•å¯ä»¥æ­£å¸¸çš„è¿è¡Œ</li>
<li>æ–‡ä»¶åä¹Ÿå¿…é¡»ä»¥<code>_test.go</code>ç»“å°¾</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå‹åŠ›æµ‹è¯•æ–‡ä»¶webbench_test.goï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">package</span> gotest

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"testing"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">Benchmark_Division</span><span class="token punctuation">(</span>b <span class="token operator">*</span>testing<span class="token punctuation">.</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>N<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//use b.N for looping </span>
        <span class="token function">Division</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Benchmark_TimeConsumingFunction</span><span class="token punctuation">(</span>b <span class="token operator">*</span>testing<span class="token punctuation">.</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b<span class="token punctuation">.</span><span class="token function">StopTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//è°ƒç”¨è¯¥å‡½æ•°åœæ­¢å‹åŠ›æµ‹è¯•çš„æ—¶é—´è®¡æ•°</span>

    <span class="token comment" spellcheck="true">//åšä¸€äº›åˆå§‹åŒ–çš„å·¥ä½œ,ä¾‹å¦‚è¯»å–æ–‡ä»¶æ•°æ®,æ•°æ®åº“è¿æ¥ä¹‹ç±»çš„,</span>
    <span class="token comment" spellcheck="true">//è¿™æ ·è¿™äº›æ—¶é—´ä¸å½±å“æˆ‘ä»¬æµ‹è¯•å‡½æ•°æœ¬èº«çš„æ€§èƒ½</span>

    b<span class="token punctuation">.</span><span class="token function">StartTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//é‡æ–°å¼€å§‹æ—¶é—´</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>N<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token function">Division</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘ä»¬æ‰§è¡Œå‘½ä»¤<code>go test -file webbench_test.go -test.bench=&quot;.*&quot;</code>ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<pre><code>PASS
Benchmark_Division    500000000             7.76 ns/op
Benchmark_TimeConsumingFunction    500000000             7.80 ns/op
ok      gotest    9.364s
</code></pre><p>ä¸Šé¢çš„ç»“æœæ˜¾ç¤ºæˆ‘ä»¬æ²¡æœ‰æ‰§è¡Œä»»ä½•<code>TestXXX</code>çš„å•å…ƒæµ‹è¯•å‡½æ•°ï¼Œæ˜¾ç¤ºçš„ç»“æœåªæ‰§è¡Œäº†å‹åŠ›æµ‹è¯•å‡½æ•°ï¼Œç¬¬ä¸€æ¡æ˜¾ç¤ºäº†<code>Benchmark_Division</code>æ‰§è¡Œäº†500000000æ¬¡ï¼Œæ¯æ¬¡çš„æ‰§è¡Œå¹³å‡æ—¶é—´æ˜¯7.76çº³ç§’ï¼Œç¬¬äºŒæ¡æ˜¾ç¤ºäº†<code>Benchmark_TimeConsumingFunction</code>æ‰§è¡Œäº†500000000ï¼Œæ¯æ¬¡çš„å¹³å‡æ‰§è¡Œæ—¶é—´æ˜¯7.80çº³ç§’ã€‚æœ€åä¸€æ¡æ˜¾ç¤ºæ€»å…±çš„æ‰§è¡Œæ—¶é—´ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>é€šè¿‡ä¸Šé¢å¯¹å•å…ƒæµ‹è¯•å’Œå‹åŠ›æµ‹è¯•çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>testing</code>åŒ…å¾ˆè½»é‡ï¼Œç¼–å†™å•å…ƒæµ‹è¯•å’Œå‹åŠ›æµ‹è¯•ç”¨ä¾‹éå¸¸ç®€å•ï¼Œé…åˆå†…ç½®çš„<code>go test</code>å‘½ä»¤å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„è¿›è¡Œæµ‹è¯•ï¼Œè¿™æ ·åœ¨æˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å®Œä»£ç ,æ‰§è¡Œä¸€ä¸‹go testå°±å¯ä»¥ç®€å•çš„å®Œæˆå›å½’æµ‹è¯•äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;Go-æµ‹è¯•ç”¨ä¾‹&quot;&gt;&lt;a href=&quot;#Go-æµ‹è¯•ç”¨ä¾‹&quot; clas
    
    </summary>
    
      <category term="GO" scheme="http://yusank.github.io/categories/GO/"/>
    
    
  </entry>
  
  <entry>
    <title>Unix ç½‘ç»œç¼–ç¨‹</title>
    <link href="http://yusank.github.io/Unix-Network.html/"/>
    <id>http://yusank.github.io/Unix-Network.html/</id>
    <published>2017-04-22T08:52:00.000Z</published>
    <updated>2017-04-22T08:52:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Unix-ç½‘ç»œç¼–ç¨‹"><a href="#Unix-ç½‘ç»œç¼–ç¨‹" class="headerlink" title="Unix ç½‘ç»œç¼–ç¨‹"></a>Unix ç½‘ç»œç¼–ç¨‹</h1><p>â€‹                                                                        <strong>å·II - è¿›ç¨‹é—´é€šä¿¡</strong></p>
<p>IPCæ˜¯è¿›ç¨‹é—´é€šä¿¡ï¼ˆinterprocess communicationï¼‰çš„ç®€ç§°ã€‚ä¼ ç»Ÿä¸Šè¯¥æœ¯è¯­æè¿°çš„æ˜¯è¿è¡Œåœ¨æŸä¸ªæ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ä¸åŒè¿›ç¨‹é—´å„ç§æ¶ˆæ¯ä¼ é€’ï¼ˆ<em>message passing</em>ï¼‰çš„æ–¹å¼ã€‚</p>
<p>è¿›ç¨‹é—´çš„é€šä¿¡ä¸€èˆ¬æ˜¯ä¸€ä¸‹å››ç§å½¢å¼ï¼š</p>
<ul>
<li>æ¶ˆæ¯ä¼ é€’ï¼ˆç®¡é“ã€FIFOå’Œæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼›</li>
<li>åŒæ­¥ï¼ˆäº’æ–¥é‡ã€æ¡ä»¶å˜é‡ã€è¯»å†™é”ã€æ–‡ä»¶å’Œè®°å½•é”ã€ä¿¡å·é‡ï¼‰ï¼›</li>
<li>å…±äº«å†…å­˜ï¼ˆåŒ¿åçš„å’Œå…·åçš„ï¼‰ï¼›</li>
<li>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆSolaris é—¨å’Œ Sun RPCï¼‰ã€‚</li>
</ul>
<h1 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h1><p><strong>æ¶ˆæ¯ä¼ é€’ï¼š</strong></p>
<ul>
<li>ç®¡é“å’ŒFIFOï¼›</li>
<li>Posix æ¶ˆæ¯é˜Ÿåˆ—ï¼›</li>
<li>System Væ¶ˆæ¯é˜Ÿåˆ—ã€‚</li>
</ul>
<h2 id="ç®¡é“å’ŒFIFO"><a href="#ç®¡é“å’ŒFIFO" class="headerlink" title="ç®¡é“å’ŒFIFO"></a>ç®¡é“å’ŒFIFO</h2><p>ç®¡é“æ˜¯æœ€åˆçš„Unix IPC å½¢å¼ã€‚ç”±äºç®¡é“æ²¡æœ‰åå­—ï¼Œæ‰€ä»¥å®ƒåªèƒ½ç”¨äºæœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´çš„é€šä¿¡ã€‚</p>
<p><strong>å®ç°æœºåˆ¶ï¼š</strong></p>
<p>ç®¡é“æ˜¯ç”±å†…æ ¸ç®¡ç†çš„ä¸€ä¸ªç¼“å†²åŒºï¼Œç›¸å½“äºæˆ‘ä»¬æ”¾å…¥å†…å­˜ä¸­çš„ä¸€ä¸ªçº¸æ¡ã€‚ç®¡é“çš„ä¸€ç«¯è¿æ¥ä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºã€‚è¿™ä¸ªè¿›ç¨‹ä¼šå‘ç®¡é“ä¸­æ”¾å…¥ä¿¡æ¯ã€‚ç®¡é“çš„å¦ä¸€ç«¯è¿æ¥ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼Œè¿™ä¸ªè¿›ç¨‹å–å‡ºè¢«æ”¾å…¥ç®¡é“çš„ä¿¡æ¯ã€‚ä¸€ä¸ªç¼“å†²åŒºä¸éœ€è¦å¾ˆå¤§ï¼Œå®ƒ<strong>è¢«è®¾è®¡æˆä¸ºç¯å½¢çš„æ•°æ®ç»“æ„</strong>ï¼Œä»¥ä¾¿ç®¡é“å¯ä»¥è¢«å¾ªç¯åˆ©ç”¨ã€‚å½“ç®¡é“ä¸­æ²¡æœ‰ä¿¡æ¯çš„è¯ï¼Œä»ç®¡é“ä¸­è¯»å–çš„è¿›ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°å¦ä¸€ç«¯çš„è¿›ç¨‹æ”¾å…¥ä¿¡æ¯ã€‚å½“ç®¡é“è¢«æ”¾æ»¡ä¿¡æ¯çš„æ—¶å€™ï¼Œå°è¯•æ”¾å…¥ä¿¡æ¯çš„è¿›ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°å¦ä¸€ç«¯çš„è¿›ç¨‹å–å‡ºä¿¡æ¯ã€‚å½“ä¸¤ä¸ªè¿›ç¨‹éƒ½ç»ˆç»“çš„æ—¶å€™ï¼Œç®¡é“ä¹Ÿè‡ªåŠ¨æ¶ˆå¤±ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>

<span class="token keyword">int</span> <span class="token function">pipe</span> <span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment" spellcheck="true">//è¿”å›ï¼šè‹¥æˆåŠŸè¿”å›0ï¼Œè‹¥å‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è¯¥å‡½æ•°è¿”å›ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼šfd[0] å’Œ fd[1]ã€‚å‰è€…æ‰“å¼€æ¥è¯»ï¼Œåè€…æ‰“å¼€æ¥å†™ã€‚</p>
<p>ç®¡é“å°½ç®¡æ˜¯å•ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†æ˜¯ç®¡é“çš„å…¸å‹ç”¨é€”æ˜¯ä¸ºä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼ˆä¸€ä¸ªçˆ¶è¿›ç¨‹ï¼Œä¸€ä¸ªå­è¿›ç¨‹ï¼‰æä¾›è¿›ç¨‹é—´çš„é€šä¿¡æ‰‹æ®µã€‚</p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-02-22%20at%2011.49.01%20AM.png" alt="Screen Shot 2017-02-22 at 11.49.01 AM"></p>
<p>â€‹                                             æ•°æ®æµ &gt;&gt;&gt;&gt;&gt;&gt;</p>
<p>é¦–å…ˆæ˜¯ï¼Œç”±ä¸€ä¸ªè¿›ç¨‹ï¼ˆå®ƒå°†æˆä¸ºçˆ¶è¿›ç¨‹ï¼‰åˆ›å»ºä¸€ä¸ª pipe åè°ƒç”¨ fork æ´¾ç”Ÿä¸€ä¸ªè‡ªèº«çš„å‰¯æœ¬ï¼Œæ¥ç€å…³é—­ç€ä¸ª pipe çš„è¯»æˆç«¯ï¼Œå­è¿›ç¨‹å…³é—­åŒä¸€ä¸ª pipe çš„å†™å…¥ç«¯ã€‚è¿™å°±æ˜¯è¿›ç¨‹é—´æä¾›äº†ä¸€ä¸ªå•å‘æ•°æ®æµï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/Screen%20Shot%202017-02-22%20at%2011.56.11%20AM.png" alt="Screen Shot 2017-02-22 at 11.56.11 AM"></p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    <span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    pid_t pid<span class="token punctuation">;</span>
    <span class="token keyword">char</span> line<span class="token punctuation">[</span>MAXLINE<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pipe</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span> <span class="token operator">==</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                 <span class="token comment" spellcheck="true">// å…ˆå»ºç«‹ç®¡é“å¾—åˆ°ä¸€å¯¹æ–‡ä»¶æè¿°ç¬¦</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">// çˆ¶è¿›ç¨‹æŠŠæ–‡ä»¶æè¿°ç¬¦å¤åˆ¶ç»™å­è¿›ç¨‹</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// çˆ¶è¿›ç¨‹å†™ </span>
        <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// å…³é—­è¯»æè¿°ç¬¦</span>
        <span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"\nhello world\n"</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">{</span>                            <span class="token comment" spellcheck="true">// å­è¿›ç¨‹è¯»</span>
        <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// å…³é—­å†™ç«¯</span>
        n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> line<span class="token punctuation">,</span> MAXLINE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">write</span><span class="token punctuation">(</span>STDOUT_FILENO<span class="token punctuation">,</span> line<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>technicallyï¼Œè‡ªä»å¯ä»¥åœ¨è¿›ç¨‹é—´ä¼ é€’æè¿°ç¬¦åï¼Œç®¡é“ä¹Ÿèƒ½ç”¨äºæ— äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´ï¼Œè€Œç°å®ä¸­ç®¡é“é€šå¸¸ç”¨äºå…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ã€‚</em></p>
<p><strong>FIFOï¼šå‘½åç®¡é“(named PIPE)</strong></p>
<p>ç®¡é“å°½ç®¡å¯¹å¾ˆå¤šæ“ä½œæ¥è¯´æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œä½†æ˜¯å®ƒçš„æ ¹æœ¬å±€é™æ€§åœ¨äºæ²¡æœ‰åå­—ï¼Œä»è€Œåªèƒ½ç”±äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ï¼ˆçˆ¶å­è¿›ç¨‹ï¼‰ä½¿ç”¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒLinuxæä¾›äº†FIFOæ–¹å¼è¿æ¥è¿›ç¨‹ã€‚æœ‰äº†FIFOä¹‹åè¿™ä¸€ç¼ºç‚¹å¾—ä»¥æ”¹æ­£ã€‚FIFOæœ‰æ—¶ä¹Ÿç§°ä¹‹ä¸ºæœ‰åç®¡é“ï¼ˆnamed pipeï¼‰ã€‚FIFOé™¤äº†æœ‰ç®¡é“çš„åŠŸèƒ½å¤–ï¼Œå®ƒè¿˜å…è®¸æ— äº²ç¼˜å…³ç³»çš„è¿›ç¨‹çš„é€šä¿¡ã€‚pipe å’Œ FIFO éƒ½æ˜¯ä½¿ç”¨é€šå¸¸çš„ read å’Œ write å‡½æ•°è®¿é—®çš„ã€‚</p>
<p>FIFO (First in, First out)ä¸ºä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ç±»å‹ï¼Œå®ƒåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰å¯¹åº”çš„è·¯å¾„ã€‚å½“ä¸€ä¸ªè¿›ç¨‹ä»¥è¯»(r)çš„æ–¹å¼æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œè€Œå¦ä¸€ä¸ªè¿›ç¨‹ä»¥å†™(w)çš„æ–¹å¼æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œé‚£ä¹ˆå†…æ ¸å°±ä¼šåœ¨è¿™ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å»ºç«‹ç®¡é“ï¼Œæ‰€ä»¥FIFOå®é™…ä¸Šä¹Ÿç”±å†…æ ¸ç®¡ç†ï¼Œä¸ä¸ç¡¬ç›˜æ‰“äº¤é“ã€‚ä¹‹æ‰€ä»¥å«FIFOï¼Œæ˜¯å› ä¸ºç®¡é“æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—æ•°æ®ç»“æ„ï¼Œæœ€æ—©æ”¾å…¥çš„æ•°æ®è¢«æœ€å…ˆè¯»å‡ºæ¥ï¼Œä»è€Œä¿è¯ä¿¡æ¯äº¤æµçš„é¡ºåºã€‚FIFOåªæ˜¯å€Ÿç”¨äº†æ–‡ä»¶ç³»ç»Ÿ(file system,å‘½åç®¡é“æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ–‡ä»¶ï¼Œå› ä¸ºLinuxä¸­æ‰€æœ‰äº‹ç‰©éƒ½æ˜¯æ–‡ä»¶ï¼Œå®ƒåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä»¥æ–‡ä»¶åçš„å½¢å¼å­˜åœ¨ã€‚)æ¥ä¸ºç®¡é“å‘½åã€‚å†™æ¨¡å¼çš„è¿›ç¨‹å‘FIFOæ–‡ä»¶ä¸­å†™å…¥ï¼Œè€Œè¯»æ¨¡å¼çš„è¿›ç¨‹ä»FIFOæ–‡ä»¶ä¸­è¯»å‡ºã€‚å½“åˆ é™¤FIFOæ–‡ä»¶æ—¶ï¼Œç®¡é“è¿æ¥ä¹Ÿéšä¹‹æ¶ˆå¤±ã€‚<strong>FIFOçš„å¥½å¤„åœ¨äºæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡ä»¶çš„è·¯å¾„æ¥è¯†åˆ«ç®¡é“ï¼Œä»è€Œè®©æ²¡æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´å»ºç«‹è¿æ¥</strong></p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span>

<span class="token keyword">int</span> <span class="token function">mkfifo</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>pathname<span class="token punctuation">,</span> mode_t mode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// è¿”å›ï¼š æˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å› -1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­ <em>pathname</em> æ˜¯ä¸€ä¸ªæ™®é€šçš„ Unix è·¯å¾„åï¼Œå®ƒæ˜¯è¯¥ FIFO çš„åå­—ã€‚</p>
<p>mkfifo å‡½æ•°ä¸­å‚æ•° <em>mode</em> æŒ‡å®š FIFO çš„è¯»å†™æƒé™ã€‚</p>
<p>mkfifo å‡½æ•°æ˜¯è¦ä¹ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ FIFO ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ª EEXIST é”™è¯¯ï¼ˆå¦‚æœè¯¥ FIFO å·²å­˜åœ¨ï¼‰ï¼Œå¦‚æœä¸å¸Œæœ›åˆ›å»ºä¸€ä¸ªæ–°çš„ FIFO é‚£å°±ç”¨ open å‡½æ•°å°±å¯ä»¥ã€‚</p>
<p>FIFO ä¸èƒ½æ‰“å¼€æ—¢å†™åˆè¯»ã€‚</p>
<p>å¦‚æœä¸€ä¸ª FIFO åªè¯»ä¸å†™ï¼Œåªå†™ä¸è¯»éƒ½ä¼šå½¢æˆé˜»å¡ã€‚</p>
<p>ä¸‹è¾¹æ˜¯ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼š</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span>  </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span>  </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span>  </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span>  </span>

<span class="token macro property"># <span class="token directive keyword">define</span> FIFO1  "/tmp/my_fifo"</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">mkfifo</span><span class="token punctuation">(</span><span class="token string">"/tmp/my_fifo"</span><span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>  
    <span class="token punctuation">{</span>  
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"FIFO created/n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  <span class="token comment" spellcheck="true">// æ‰“å¼€FIFO</span>
  <span class="token comment" spellcheck="true">//writefd = Open(FIFO1, O_WRONLY | O_NONBLOCK, 0)    </span>
  <span class="token comment" spellcheck="true">//readfd = Open(FIFO1, O_RDONLY, 0)</span>
     <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_SUCCESS<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>open</em> ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„é€‰é¡¹O_NONBLOCKï¼Œé€‰é¡¹O_NONBLOCKè¡¨ç¤ºéé˜»å¡ï¼ŒåŠ ä¸Šè¿™ä¸ªé€‰é¡¹åï¼Œè¡¨ç¤ºopenè°ƒç”¨æ˜¯éé˜»å¡çš„ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªé€‰é¡¹ï¼Œåˆ™è¡¨ç¤ºopenè°ƒç”¨æ˜¯é˜»å¡çš„ã€‚</p>
<ul>
<li>å¯¹äºä»¥åªè¯»æ–¹å¼ï¼ˆO_RDONLYï¼‰æ‰“å¼€çš„FIFOæ–‡ä»¶ï¼Œå¦‚æœopenè°ƒç”¨æ˜¯é˜»å¡çš„ï¼ˆå³ç¬¬äºŒä¸ªå‚æ•°ä¸ºO_RDONLYï¼‰ï¼Œé™¤éæœ‰ä¸€ä¸ªè¿›ç¨‹ä»¥å†™æ–¹å¼æ‰“å¼€åŒä¸€ä¸ªFIFOï¼Œå¦åˆ™å®ƒä¸ä¼šè¿”å›ï¼›å¦‚æœopenè°ƒç”¨æ˜¯éé˜»å¡çš„çš„ï¼ˆå³ç¬¬äºŒä¸ªå‚æ•°ä¸ºO_RDONLY|O_NONBLOCKï¼‰ï¼Œåˆ™å³ä½¿æ²¡æœ‰å…¶ä»–è¿›ç¨‹ä»¥å†™æ–¹å¼æ‰“å¼€åŒä¸€ä¸ªFIFOæ–‡ä»¶ï¼Œopenè°ƒç”¨å°†æˆåŠŸå¹¶ç«‹å³è¿”å›ã€‚</li>
<li>å¯¹äºä»¥åªå†™æ–¹å¼ï¼ˆO_WRONLYï¼‰æ‰“å¼€çš„FIFOæ–‡ä»¶ï¼Œå¦‚æœopenè°ƒç”¨æ˜¯é˜»å¡çš„ï¼ˆå³ç¬¬äºŒä¸ªå‚æ•°ä¸ºO_WRONLYï¼‰ï¼Œopenè°ƒç”¨å°†è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªè¿›ç¨‹ä»¥åªè¯»æ–¹å¼æ‰“å¼€åŒä¸€ä¸ªFIFOæ–‡ä»¶ä¸ºæ­¢ï¼›å¦‚æœopenè°ƒç”¨æ˜¯éé˜»å¡çš„ï¼ˆå³ç¬¬äºŒä¸ªå‚æ•°ä¸ºO_WRONLY|O_NONBLOCKï¼‰ï¼Œopenæ€»ä¼šç«‹å³è¿”å›ï¼Œä½†å¦‚æœæ²¡æœ‰å…¶ä»–è¿›ç¨‹ä»¥åªè¯»æ–¹å¼æ‰“å¼€åŒä¸€ä¸ªFIFOæ–‡ä»¶ï¼Œopenè°ƒç”¨å°†è¿”å›-1ï¼Œå¹¶ä¸”FIFOä¹Ÿä¸ä¼šè¢«æ‰“å¼€ã€‚</li>
</ul>
<p>å…³äºç®¡é“æˆ– FIFO çš„è¯»å†™çš„è‹¥å¹²è§„åˆ™ï¼š</p>
<ul>
<li>å¦‚æœè¯·æ±‚è¯»å‡ºçš„æ•°æ®é‡å¤šäºç®¡é“æˆ– FIFO ä¸­å½“å‰çš„å¯ç”¨æ•°æ®é‡ï¼Œé‚£ä¹ˆåªä¼šè¿”å›è¿™äº›å¯ç”¨çš„æ•°æ®ã€‚</li>
<li>å¦‚æœè¯·æ±‚ä½ å†™å…¥çš„æ•°æ®çš„å­—èŠ‚æ•°å°äºæˆ–ç­‰äº PIPE_BUF (å¯åŸå­åœ°å†™å…¥å¾€ä¸€ä¸ªç®¡é“æˆ– FIFO çš„æœ€å¤§æ•°æ®é‡ï¼Œ Posix è¦æ±‚è‡³å°‘ä¸º512)ï¼Œé‚£ä¹ˆ write æ“ä½œä¿è¯æ˜¯åŸå­çš„ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸¤ä¸ªè¿›ç¨‹å·®ä¸å¤šåŒæ—¶å¾€åŒä¸€ä¸ªç®¡é“æˆ– FIFO å†™ï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯å…ˆå†™å…¥æ¥è‡ªç¬¬ä¸€ä¸ªè¿›ç¨‹çš„æ‰€æœ‰æ•°æ®å†å†™ç¬¬äºŒä¸ªï¼Œè¿˜æ˜¯é¡ºåºé¢ å€’è¿‡æ¥ã€‚ç³»ç»Ÿéƒ½ä¸ä¼šç›¸äº’æ··æ‚æ¥è‡ªä¸¤ä¸ªè¿›ç¨‹çš„æ•°æ®ã€‚ç„¶è€Œå¦‚æœæ•°æ®çš„å­—èŠ‚æ•°å¤§äº PIPE_BUF ï¼Œé‚£ä¹ˆ write æ“ä½œä¸èƒ½ä¿è¯æ˜¯åŸå­çš„ã€‚</li>
<li>ä¸æ­¢ä»¥ä¸Šè¿™äº›ã€‚ã€‚ã€‚</li>
</ul>
<p><strong>å°ç»“</strong>ï¼š FIFO ä¸ç®¡é“ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒç”¨ mkfifo åˆ›å»ºï¼Œä¹‹åéœ€è¦open æ‰“å¼€ã€‚æ‰“å¼€ç®¡é“å¿…é¡»å°å¿ƒï¼Œå› ä¸ºè®¸å¤šè§„åˆ™ï¼ˆread åªå†™ç®¡é“ã€write åªè¯»ç®¡é“ã€ä»ç©ºçš„ç®¡é“æˆ–FIFO read ç­‰çš„æƒ…å†µçš„è¿”å›ç»“æœã€‚ï¼‰åˆ¶çº¦ç€ open çš„é˜»å¡ä¸å¦ã€‚</p>
<h2 id="Posix-IPC"><a href="#Posix-IPC" class="headerlink" title="Posix IPC"></a>Posix IPC</h2><p>Posixâ€“å¯ç§»æ¤æ€§æ“ä½œç³»ç»Ÿæ¥å£ï¼ˆProtable operating system interfaceï¼‰</p>
<p>æœ‰å…³Unixæ ‡å‡†åŒ–çš„å¤§å¤šæ•°æ´»åŠ¨æ˜¯ç”± Posix å’Œ Open Group åšçš„ã€‚</p>
<p>Posix ä¸æ˜¯å•ä¸€çš„æ ‡å‡†ï¼Œæ˜¯ä¸€ç³»åˆ—çš„æ ‡å‡†ã€‚</p>
<p>ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„IPCåˆæˆä¸ºâ€œPosix IPCâ€</p>
<ul>
<li>Posix æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>Posix ä¿¡å·é‡</li>
<li>Posix å…±äº«å†…å­˜åŒº</li>
</ul>
<h2 id="Posix-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#Posix-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="Posix æ¶ˆæ¯é˜Ÿåˆ—"></a>Posix æ¶ˆæ¯é˜Ÿåˆ—</h2><p>æ¶ˆæ¯é˜Ÿåˆ—å¯è®¤ä¸ºæ˜¯ä¸ªæ¶ˆæ¯é“¾è¡¨ã€‚æœ‰è¶³å¤Ÿå†™æƒé™çš„è¿›ç¨‹å¯å¾€é˜Ÿåˆ—æ”¾ç½®ä¿¡æ¯ï¼Œæœ‰è¶³å¤Ÿè¯»æƒé™çš„è¿›ç¨‹å¯ä»é˜Ÿåˆ—è¯»å–ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªä¿¡æ¯éƒ½æ˜¯ä¸€æ¡è®°å½•ï¼Œå®ƒæ˜¯ç”±å‘é€è€…èµ‹äºˆä¸€ä¸ªä¼˜å…ˆçº§ã€‚åœ¨æŸä¸ªè¿›ç¨‹å¾€ä¸€ä¸ªé˜Ÿåˆ—å†™å…¥æ¶ˆæ¯ä¹‹å‰ï¼Œå¹¶ä¸éœ€è¦å¦ä¸€ä¸ªè¿›ç¨‹åœ¨è¯¥é˜Ÿåˆ—ä¸Šç­‰å¾…æ¶ˆæ¯çš„åˆ°è¾¾ã€‚è¿™æ ¹ç®¡é“å’Œ FIFO æ˜¯ç›¸åçš„ã€‚</p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å¾€æŸäº›é˜Ÿåˆ—å†™å…¥ä¸€äº›ä¿¡æ¯ï¼Œç„¶åç»ˆæ­¢ï¼Œå†è®©å¦å¤–ä¸€ä¸ªè¿›ç¨‹åœ¨ä»¥åçš„æŸä¸ªæ—¶åˆ»è¯»å–è¿™äº›ä¿¡æ¯ã€‚</p>
<p>Posix æ¶ˆæ¯é˜Ÿåˆ—å’Œä¸‹é¢è®²çš„System V æ¶ˆæ¯é˜Ÿåˆ—æœ‰è®¸å¤šçš„ç›¸ä¼¼æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸»è¦çš„å·®åˆ«ï¼š</p>
<ul>
<li>å¯¹ Posix æ¶ˆæ¯é˜Ÿåˆ—çš„è¯»æ€»æ˜¯è¿”å›æœ€é«˜ä¼˜å…ˆçº§çš„æœ€æ—©æ¶ˆæ¯ï¼Œå¯¹ System V æ¶ˆæ¯é˜Ÿåˆ—çš„è¯»åˆ™å¯ä»¥è¿”å›ä»»æ„æŒ‡å®šä¼˜å…ˆçº§çš„æ¶ˆæ¯ï¼›</li>
<li>å½“å¾€ä¸€ä¸ªç©ºé˜Ÿåˆ—æ”¾ç½®ä¸€ä¸ªä¿¡æ¯æ—¶ï¼ŒPosix æ¶ˆæ¯é˜Ÿåˆ—å…è®¸äº§ç”Ÿä¸€ä¸ªä¿¡å·æˆ–å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼ŒSystem Væ¶ˆæ¯é˜Ÿåˆ—åˆ™æ˜¯ä¸æä¾›ç±»ä¼¼çš„æœºåˆ¶ã€‚</li>
</ul>
<p>é˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ¶ˆæ¯éƒ½æœ‰å¦‚ä¸‹å±æ€§ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ä¼˜å…ˆçº§ï¼ˆPosixï¼‰æˆ– ä¸€ä¸ªé•¿æ•´æ•°ç±»å‹ï¼ˆsystem Vï¼‰ï¼›</li>
<li>æ¶ˆæ¯çš„æ•°æ®éƒ¨åˆ†é•¿åº¦ï¼ˆå¯ä»¥ä¸º0ï¼‰ï¼›</li>
<li>æ•°æ®æœ¬èº«ï¼ˆå¦‚æœé•¿åº¦å¤§äº0ï¼‰ã€‚</li>
</ul>
<p>ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„å¯èƒ½å¸ƒå±€ã€‚</p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/unix%20%E7%BD%91%E7%BB%9C.png" alt="unix ç½‘ç»œ"></p>
<p>æˆ‘ä»¬æ‰€è®¾æƒ³çš„æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œè¯¥é“¾è¡¨çš„æœ‰ä¸­å«æœ‰å½“å‰é˜Ÿåˆ—çš„ä¸¤ä¸ªå±æ€§ï¼šé˜Ÿåˆ—ä¸­å…è®¸çš„æœ€å¤§å¼€é”€æ•°ä»¥åŠæ¯ä¸€ä¸ªæ¶ˆæ¯çš„æœ€å¤§å¤§å°ã€‚</p>
<p><strong>mq_open ,mq_close å’Œ mq_unlink å‡½æ•° </strong>ï¼š</p>
<p>mq_open å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é˜Ÿåˆ—æˆ–æ‰“å¼€ä¸€ä¸ªå·²å­˜åœ¨çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property"># <span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>
mqd_t <span class="token function">mq_open</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span> <span class="token keyword">int</span> oflag<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
              <span class="token comment" spellcheck="true">/* mode_t mode, struct mq_attr *attr  */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›æ¶ˆæ¯å¯¹åˆ—æè¿°ç¬¦ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­ <em>name</em> æœ‰è‡ªå·±çš„ä¸€å¥—å‘½åè§„åˆ™ï¼Œå› ä¸º Posix IPC ä½¿ç”¨â€œPosix IPC åå­—â€è¿›è¡Œæ ‡è¯†ã€‚ä¸ºæ–¹ä¾¿äºç§»æ¤èµ·è§ï¼ŒPosix IPC åå­—å¿…é¡»ä»¥æ–œæ ç¬¦å¼€å¤´å¹¶ä¸”ä¸èƒ½å†åŒ…å«ä»»ä½•æ–œæ ç¬¦ã€‚</p>
<p><em>oflag</em> æ˜¯O_RDONLYã€O_WRONLY æˆ–     O_RDWR ä¹‹ä¸€ï¼Œ å¯èƒ½æŒ‰ä½æˆ–ä¸ŠO_CREATE(è‹¥ä¸å­˜åœ¨åˆ™åˆ›å»º)ã€O_EXCL(ä¸O_CREATEä¸€èµ·ï¼Œè‹¥å·²å­˜åœ¨è¿”å›EEXIST é”™è¯¯)æˆ– O_NONBLOCKï¼ˆéé˜»å¡æ ‡è¯†ç¬¦ï¼‰ã€‚</p>
<p>å½“å®é™…æ“ä½œåˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼ˆæŒ‡å®šO_CREATEæ ‡å¿—ï¼Œä¸”è¯·æ±‚çš„é˜Ÿåˆ—ä¸å­˜åœ¨ï¼‰ï¼Œ<em>mode</em> å’Œ <em>attr</em> å‚æ•°æ˜¯éœ€è¦çš„ã€‚modeä¸Šé¢ä»‹ç»è¿‡ã€‚attrå‚æ•°ç”¨äºç»™æ–°é˜Ÿåˆ—æŒ‡å®šæŸäº›å±æ€§ã€‚</p>
<p>mq_open è¿”å›å€¼ç§°ä¸º<strong>æ¶ˆæ¯é˜Ÿåˆ—æè¿°ç¬¦ï¼ˆmessage queue descriptorï¼‰</strong>ï¼Œè¿™ä¸ªå€¼ç”¨ä½œå…¶ä»–æ¶ˆæ¯é˜Ÿåˆ—å‡½æ•°çš„ç¬¬ä¸€å‚æ•°ã€‚</p>
<p>å·²æ‰“å¼€çš„æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ç”± mq_close å…³é—­çš„ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>

<span class="token keyword">int</span> <span class="token function">mq_close</span><span class="token punctuation">(</span>mqd_t mqdes<span class="token punctuation">)</span>                       <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å…³é—­ä¹‹åè°ƒç”¨è¿›ç¨‹ä¸å†ä½¿ç”¨è¯¥æè¿°ç¬¦ï¼Œä½†å…¶æ¶ˆæ¯é˜Ÿåˆ—å¹¶ä¸ä»ç³»ç»Ÿä¸­åˆ é™¤ã€‚ä¸€ä¸ªè¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œå®ƒæ‰“å¼€ç€çš„æ¶ˆæ¯é˜Ÿåˆ—éƒ½å…³é—­ï¼Œå°±åƒè°ƒç”¨mq_close ä¸€æ ·ã€‚</p>
<p>è¦ä»ç³»ç»Ÿä¸­åˆ é™¤æ¶ˆæ¯é˜Ÿåˆ—åˆ™ç”¨mq_unlink å‡½æ•°ï¼Œå…¶ç¬¬ä¸€å‚æ•°ä¸º mq_open çš„ç¬¬ä¸€å‚æ•° <em>name</em>ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property"># <span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>

<span class="token keyword">int</span> <span class="token function">mq_unlink</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>                    <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>mq_getattr å’Œ mq_setattr å‡½æ•°</strong></p>
<p>æ¶ˆæ¯é˜Ÿåˆ—æœ‰å››ä¸ªå±æ€§ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°æ˜¯è·å–å’Œä¿®æ”¹è¿™äº›å±æ€§ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c">mq_flags        <span class="token comment" spellcheck="true">//é˜Ÿåˆ—é˜»å¡æ ‡å¿—ä½</span>
mq_maxmsg        <span class="token comment" spellcheck="true">//é˜Ÿåˆ—æœ€å¤§å…è®¸æ¶ˆæ¯æ•°</span>
mq_msgsize        <span class="token comment" spellcheck="true">//é˜Ÿåˆ—æ¶ˆæ¯æœ€å¤§å­—èŠ‚æ•°</span>
mq_curmsgs        <span class="token comment" spellcheck="true">//é˜Ÿåˆ—å½“å‰æ¶ˆæ¯æ¡æ•°</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>

<span class="token keyword">int</span> <span class="token function">mq_getattr</span><span class="token punctuation">(</span>mqd_t mqdes<span class="token punctuation">,</span><span class="token keyword">struct</span> mq_attr <span class="token operator">*</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">mq_setattr</span><span class="token punctuation">(</span>mqd_t mqdes<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">struct</span> mq_attr <span class="token operator">*</span>attr<span class="token punctuation">,</span> <span class="token keyword">struct</span> mq_attr <span class="token operator">*</span>oattr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//è¿”å›ï¼šå‡æˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>mq_send å’Œ mq_receive å‡½æ•°</strong></p>
<p>â€‹    è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«å¾€ä¸€ä¸ªé˜Ÿåˆ—æ”¾ç½®ä¸€ä¸ªä¿¡æ¯å’Œä»ä¸€ä¸ªé˜Ÿåˆ—å–èµ°ä¸€ä¸ªæ¶ˆæ¯ã€‚æ¯ä¸€ä¸ªæ¶ˆæ¯éƒ½æœ‰ä¼˜å…ˆçº§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå°äºMQ_PRIO_MAX çš„æ— ç¬¦å·æ•´æ•°ã€‚Posixè¦æ±‚è¿™ä¸ªä¸Šé™è‡³å°‘ä¸º32.</p>
<p>â€‹    mq_receive æ€»æ˜¯è¿”å›æ‰€æŒ‡å®šé˜Ÿåˆ—ä¸­ä¼˜å…ˆçº§æœ€é«˜çš„çš„æœ€æ—©æ¶ˆæ¯ï¼Œè€Œä¸”è¯¥ä¼˜å…ˆçº§èƒ½éšè¯¥æ¶ˆæ¯çš„å†…å®¹åŠå…¶é•¿åº¦ä¸€åŒè¿”å›ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>

<span class="token keyword">int</span> <span class="token function">mq_send</span><span class="token punctuation">(</span>mqd_t mqdes<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span> size_t len<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> prio<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›-1</span>
ssize_t <span class="token function">mq_reccevie</span><span class="token punctuation">(</span>mqd_t mqdes<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span> size_t len<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token operator">*</span>priop<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›æ¶ˆæ¯ä¸­çš„å­—èŠ‚æ•°ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>mq_receive çš„ <em>len</em> å‚æ•°çš„å€¼ä¸èƒ½å°äºèƒ½åŠ åˆ°æ‰€æŒ‡å®šé˜Ÿåˆ—ä¸­çš„æœ€å¤§å¤§å°ï¼ˆè¯¥é˜Ÿåˆ— mq_attr ç»“æ„çš„ mq_msgsize ï¼‰ã€‚è¦æ˜¯ <em>len</em> å°äºè¯¥å€¼ï¼Œ mq_receiveç«‹å³è¿”å› EMSGSIZE é”™è¯¯ã€‚</p>
<p>mq_send çš„ <em>prio</em> å‚æ•°æ˜¯å¾…å‘ä¿¡æ¯çš„ä¼˜å…ˆçº§ï¼Œå…¶å€¼å¿…é¡»å°äº MQ_PRIO_MAX ã€‚å¦‚æœ mq_receive çš„ <em>priop</em> å‚æ•°æ˜¯ä¸€ä¸ªéç©ºæŒ‡é’ˆï¼Œæ‰€è¿”å›æ¶ˆæ¯çš„ä¼˜å…ˆçº§å°±é€šè¿‡è¯¥æŒ‡é’ˆå­˜æ”¾ã€‚å¦‚æœåº”ç”¨ä¸å¿…ä½¿ç”¨ä¼˜å…ˆçº§ä¸åŒçš„æ¶ˆæ¯ï¼Œé‚£å°±ç»™mq_send æŒ‡é’ˆå€¼ä¸º0çš„ä¼˜å…ˆçº§ï¼Œç»™ mq_receive æŒ‡å®šä¸€ä¸ªç©ºæŒ‡é’ˆä½œä¸ºå…¶æœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
<p>å¾€æŸä¸ªé˜Ÿåˆ—ä¸­å¢åŠ ä¸€ä¸ªæ¶ˆæ¯</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mqueue.h></span></span>

<span class="token keyword">int</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  mqd_t        mqd<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æè¿°ç¬¦</span>
  <span class="token keyword">void</span>        <span class="token operator">*</span>ptr<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æŒ‡å‘ç¼“å†²åŒºçš„æŒ‡é’ˆ</span>
  size_t    len<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//é•¿åº¦</span>
  uint_t    prio<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//ä¼˜å…ˆåº¦</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">!=</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token function">err_quit</span><span class="token punctuation">(</span><span class="token string">"usage: mqsend &lt;name> &lt;#bytes> &lt;priority>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  len <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  prio <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  mqd <span class="token operator">=</span> <span class="token function">Mq_open</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> O_WRONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—</span>

  ptr <span class="token operator">=</span> <span class="token function">Calloc</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ‰€ç”¨çš„ç¼“å†²åŒºç”¨collocåˆ†é…ï¼Œè¯¥å‡½æ•°ä¼šæŠŠè¯¥ç¼“å†²åŒºåˆå§‹åŒ–ä¸º0</span>
  <span class="token function">Mq_send</span><span class="token punctuation">(</span>mqd<span class="token punctuation">,</span> ptr<span class="token punctuation">,</span> len<span class="token punctuation">,</span> prio<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¾…å‘æ¶ˆæ¯çš„å¤§å°å’Œä¼˜å…ˆçº§å¿…é¡»ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°æŒ‡å®šã€‚</p>
<p>ä»æŸé˜Ÿåˆ—è¯»å‡ºä¸‹ä¸€ä¸ªä¿¡æ¯</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"unpipc.h"</span></span>

<span class="token keyword">int</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">int</span>         c<span class="token punctuation">,</span>flags<span class="token punctuation">;</span>
  mqd_t        maq<span class="token punctuation">;</span>
  ssize_t    n<span class="token punctuation">;</span>
  uint_t    prio<span class="token punctuation">;</span>
  <span class="token keyword">void</span>        <span class="token operator">*</span>buff<span class="token punctuation">;</span>
  <span class="token keyword">struct</span>    mq_attr    attr<span class="token punctuation">;</span>

  flags <span class="token operator">=</span> O_RDONLY<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">Getopt</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">,</span> <span class="token string">"n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'n'</span><span class="token punctuation">:</span>
        flags <span class="token operator">|</span><span class="token operator">=</span> O_NONBLOCK<span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>optind <span class="token operator">!=</span> argc <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">err_quit</span><span class="token punctuation">(</span><span class="token string">"usage: mqreceive [-n] &lt;name>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  mqd <span class="token operator">=</span><span class="token function">Mq_open</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span>optind<span class="token punctuation">]</span><span class="token punctuation">,</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">Mq_getattr</span><span class="token punctuation">(</span>mqd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>

  buff <span class="token operator">=</span> <span class="token function">Malloc</span><span class="token punctuation">(</span>attr<span class="token punctuation">.</span>mq_msgsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

  n <span class="token operator">=</span> <span class="token function">Mq_receive</span><span class="token punctuation">(</span>mqd<span class="token punctuation">,</span> buff<span class="token punctuation">,</span> attr<span class="token punctuation">.</span>mq_msgsize<span class="token punctuation">,</span> <span class="token operator">&amp;</span>prio<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"read %ld bytes, priority = %u\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> n<span class="token punctuation">,</span> prio<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘½ä»¤è¡Œé€‰é¡¹ -n æŒ‡å®šéé˜»å¡å±æ€§ï¼Œè¿™æ ·å¦‚æœæ‰€æŒ‡å®šçš„é˜Ÿåˆ—ä¸­æ²¡æœ‰æ¶ˆæ¯ï¼Œ åˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>è°ƒç”¨ mq_getattr æ‰“å¼€é˜Ÿåˆ—å¹¶å–å¾—å±æ€§ã€‚éœ€è¦ç¡®å®šæœ€å¤§æ¶ˆæ¯å¤§å°ï¼Œå› ä¸ºå¿…é¡»ä¸ºè°ƒç”¨çš„ mq_receive åˆ†é…ä¸€ä¸ªè¿™æ ·å¤§å°çš„ç¼“å†²åŒºã€‚æœ€åè¾“å‡ºæ‰€è¯»å‡ºæ¶ˆæ¯çš„å¤§å°åŠå…¶å±æ€§ã€‚</p>
<pre class="line-numbers language-shell"><code class="language-shell">solaris %mqcreate /test1                            åˆ›å»ºå¹¶è·å–å±æ€§
solaris %mqgetattr /test1
max

solaris % mqsend /test1 100 9999                    ä»¥æ— æ•ˆçš„ä¼˜å…ˆçº§å‘é€
mq_send error: Invalid argument

solaris % mqsend /test1 100 6                        100å­—èŠ‚ï¼Œä¼˜å…ˆçº§6 
solaris % mqsend /test1 50 18                         50å­—èŠ‚ï¼Œä¼˜å…ˆçº§18
solaris % mqsend /test1 33 18                         33å­—èŠ‚ï¼Œä¼˜å…ˆçº§18

solaris % mqreceive /test1
read 50 bytes, priority = 18                        è¿”å›ä¼˜å…ˆçº§æœ€é«˜çš„æœ€æ—©æ¶ˆæ¯
solaris % mqreceive /test1
read 33 bytes, priority = 18
solaris % mqreceive /test1
read 100 bytes, priority = 6
solaris % mqreceive /test1                            æŒ‡å®šéé˜»å¡å±æ€§ï¼Œé˜Ÿåˆ—ä¸ºç©º
mq_recevie error: Resource temporarily unavalibale
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¶ˆæ¯é˜Ÿåˆ—é™åˆ¶ï¼š</p>
<ul>
<li>mq_mqxmsg            é˜Ÿåˆ—çš„æœ€å¤§æ¶ˆæ¯æ•°</li>
<li>mq_msgsize                  ç»™å®šæ¶ˆæ¯çš„æœ€å¤§å­—èŠ‚æ•°</li>
<li>MQ_OPEN_MAX            ä¸€ä¸ªè¿›ç¨‹èƒ½å¤ŸåŒæ—¶æ‹¥æœ‰çš„æ‰“å¼€ç€æ¶ˆæ¯é˜Ÿåˆ—çš„ç»„å¤§æ•°ç›®ï¼ˆPosixè¦æ±‚è‡³å°‘ä¸º8ï¼‰</li>
<li>MQ_PRIO_MAX             ä»»æ„æ¶ˆæ¯çš„æœ€å¤§ä¼˜å…ˆçº§å€¼åŠ 1ï¼ˆPosixè¦æ±‚è‡³å°‘ä¸º32ï¼‰</li>
</ul>
<p><strong>mq_notify å‡½æ•°</strong></p>
<p>Posix æ¶ˆæ¯é˜Ÿåˆ—å…è®¸å¼‚æ­¥äº‹ä»¶é€šçŸ¥ï¼ˆ <em>asynchronous event notifiction</em>ï¼‰ï¼Œä»¥å‘ŠçŸ¥ä½•æ—¶æœ‰ä¸€ä¸ªæ¶ˆæ¯æ”¾ç½®åˆ°äº†æŸä¸ªç©ºæ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p>
<h2 id="System-V-æ¶ˆæ¯é˜Ÿåˆ—"><a href="#System-V-æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="System V æ¶ˆæ¯é˜Ÿåˆ—"></a>System V æ¶ˆæ¯é˜Ÿåˆ—</h2><p>ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„IPCç§°ä¸º System V IPCï¼š</p>
<ul>
<li>System V æ¶ˆæ¯é˜Ÿåˆ—ï¼›</li>
<li>System V ä¿¡å·é‡ï¼›</li>
<li>System V å…±äº«å†…å­˜åŒºã€‚</li>
</ul>
<p>è¿™ä¸ªç§°ä¸ºä½œä¸ºè¿™ä¸‰ä¸ªIPCæœºåˆ¶çš„é€šç§°æ˜¯å› ä¸ºå®ƒä»¬æºè‡ª System V Unix ã€‚è¿™ä¸‰ç§IPCæœ€å…ˆå‡ºç°åœ¨AT&amp;T System v UNIXä¸Šé¢ï¼Œå¹¶éµå¾ªXSIæ ‡å‡†ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºXSI IPCã€‚</p>
<p>System V æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨<em>æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦ï¼ˆmessage queue identifierï¼‰</em> æ ‡è¯†ã€‚æœ‰è¶³å¤Ÿæƒé™çš„ä»»ä½•è¿›ç¨‹å¯å¾€é˜Ÿåˆ—æ”¾ç½®ä¿¡æ¯ï¼Œæœ‰è¶³å¤Ÿæƒé™çš„ä»»ä½•è¿›ç¨‹å¯ä»é˜Ÿåˆ—è¯»å–ä¿¡æ¯ã€‚è·Ÿ Posix ä¸€æ ·ï¼Œåœ¨æŸä¸ªè¿›ç¨‹å¾€ä¸€ä¸ªé˜Ÿåˆ—å†™å…¥æ¶ˆæ¯ä¹‹å‰ï¼Œä¸æ±‚å¦å¤–æŸä¸ªè¿›ç¨‹æ­£åœ¨ç­‰å¾…è¯¥é˜Ÿåˆ—ä¸Šä¸€ä¸ªæ¶ˆæ¯çš„åˆ°è¾¾ã€‚</p>
<p>å¯¹äºç³»ç»Ÿçš„æ¯ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå†…æ ¸ç»´æŠ¤ä¸€ä¸ªå®šä¹‰åœ¨ <code>&lt;sys/msg.h&gt;</code>  å¤´æ–‡ä»¶ä¸­çš„ä¿¡æ¯ç»“æ„.</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">struct</span> msqid_ds <span class="token punctuation">{</span>
    <span class="token keyword">struct</span> ipc_perm     msg_perm   <span class="token comment" spellcheck="true">//operation permission structure</span>
    <span class="token keyword">struct</span> msg            <span class="token operator">*</span>msg_frist <span class="token comment" spellcheck="true">//ptr to frist message on queue</span>
    <span class="token keyword">struct</span> msg            <span class="token operator">*</span>msg_last  <span class="token comment" spellcheck="true">//ptr to last message on queue</span>
    msglen_t            msg_cbytes <span class="token comment" spellcheck="true">//current #bytes on queue</span>
    msgqnum_t           msg_qnum   <span class="token comment" spellcheck="true">//number of messages currently on queue</span>
    msglen_t            msg_qbytes <span class="token comment" spellcheck="true">//maximum number of bytes allowed on queue</span>
    pid_t               msg_lspid  <span class="token comment" spellcheck="true">//process ID of last msgsnd()</span>
    pid_t               msg_lrpid  <span class="token comment" spellcheck="true">//process ID of last msgrcv()</span>
    time_t              msg_stime  <span class="token comment" spellcheck="true">//time of last msgsnd()</span>
    time_t              msg_rtime  <span class="token comment" spellcheck="true">//time of last msgrcv()</span>
    time_t              msg_ctime  <span class="token comment" spellcheck="true">//time of last change</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>Unix 98 ä¸è¦æ±‚æœ‰ msg_fristã€msg_last å’Œ msg_cbytes æˆå‘˜ã€‚ç„¶è€Œæ™®é€šçš„æºè‡ª <a href="http://pubs.opengroup.org/onlinepubs/7908799/xsh/sysmsg.h.html" target="_blank" rel="external">System V</a> çš„å®ç°ä¸­å¯ä»¥æ‰¾åˆ°è¿™ä¸‰ä¸ªæˆå‘˜ã€‚å°±ç®—æä¾›äº†è¿™ä¸¤ä¸ªæŒ‡é’ˆï¼Œé‚£ä¹ˆå®ƒä»¬æŒ‡å‘çš„æ˜¯å†…æ ¸å†…å­˜ç©ºé—´ï¼Œå¯¹äºåº”ç”¨æ¥è¯´åŸºæœ¬æ²¡æœ‰ä½œç”¨çš„ã€‚</em></p>
<p><img src="http://oid1xlj7h.bkt.clouddn.com/unix%20%E7%BD%91%E7%BB%9C%20%281%29.png" alt="unix ç½‘ç»œ (1)"></p>
<p>æˆ‘ä»¬å¯ä»¥å°†å†…æ ¸ä¸­æŸä¸ªç‰¹å®šçš„æ¶ˆæ¯é˜Ÿåˆ—ç”»ä¸ºä¸€ä¸ªæ¶ˆæ¯é“¾è¡¨ï¼Œå¦‚å›¾ã€‚</p>
<p><strong>msgget å‡½æ•°</strong></p>
<p>msgget å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é˜Ÿåˆ—æˆ–è®¿é—®ä¸€ä¸ªå·²å­˜åœ¨çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span>
<span class="token keyword">int</span> <span class="token function">msgget</span> <span class="token punctuation">(</span>key_t key<span class="token punctuation">,</span> <span class="token keyword">int</span> oflag<span class="token punctuation">)</span>    
                                              <span class="token comment" spellcheck="true">//è¿”å›ï¼š æˆåŠŸè¿”å›éè´Ÿæ ‡è¯†ç¬¦ï¼Œå‡ºé”™è¿”å›-1</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°æ ‡è¯†ç¬¦ï¼Œå…¶ä»–ä¸‰ä¸ªmsgå‡½æ•°å°±ç”¨å®ƒæ¥æŒ‡ä»£è¯¥é˜Ÿåˆ—ã€‚</p>
<p>oflagæ˜¯è¯»å†™æƒé™çš„ç»„åˆã€‚ï¼ˆç¨å¾®å¤æ‚ã€‚ã€‚ã€‚ï¼‰</p>
<p>å½“åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶ï¼Œmsqid_ds ç»“æ„çš„å¦‚ä¸‹æˆå‘˜è¢«åˆå§‹åŒ–ã€‚</p>
<ul>
<li><p>msg_perm ç»“æ„çš„ uid å’Œ cuid æˆå‘˜è¢«è®¾ç½®æˆå½“å‰è¿›ç¨‹çš„æœ‰æ•ˆç”¨æˆ·IDï¼Œgid å’Œ cgid æˆå‘˜è¢«è®¾ç½®æˆå½“å‰çš„è¿›ç¨‹çš„æœ‰æ•ˆç»„IDã€‚</p>
</li>
<li><p>oflag ä¸­çš„è¯»å†™æƒé™ä½å­˜æ”¾åœ¨msg_perm.mode ä¸­ã€‚</p>
</li>
<li><p>msg_qnumã€msg_lspidï¼Œmsg_lrpidã€msg_stime å’Œ msg_rtime è¢«è®¾ç½®ä¸º0.</p>
</li>
<li><p>msg_ctime è¢«è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚</p>
</li>
<li><p>msg_qbytes è¢«è®¾ç½®æˆç³»ç»Ÿé™åˆ¶å€¼ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">struct</span> ipc_perm
<span class="token punctuation">{</span>
key_t                key<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*è°ƒç”¨shmget()æ—¶ç»™å‡ºçš„å…³é”®å­—*/</span>
uid_t               uid<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*å…±äº«å†…å­˜æ‰€æœ‰è€…çš„æœ‰æ•ˆç”¨æˆ·ID */</span>
gid_t                  gid<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/* å…±äº«å†…å­˜æ‰€æœ‰è€…æ‰€å±ç»„çš„æœ‰æ•ˆç»„ID*/</span> 
uid_t                  cuid<span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* å…±äº«å†…å­˜åˆ›å»º è€…çš„æœ‰æ•ˆç”¨æˆ·ID*/</span>
gid_t                 cgid<span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* å…±äº«å†…å­˜åˆ›å»ºè€…æ‰€å±ç»„çš„æœ‰æ•ˆç»„ID*/</span>
mode_t                   mode<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/* Permissions + SHM_DESTå’ŒSHM_LOCKEDæ ‡å¿—*/</span>
ulong_t                seq<span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">/* åºåˆ—å·*/</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>â€‹</p>
</li>
</ul>
<p><strong>msgsnd å‡½æ•°</strong></p>
<p>ä½¿ç”¨ msgget å‡½æ•°æ‰“å¼€ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—åï¼Œä½¿ç”¨ msgsnd å‡½æ•°å¾€å…¶ä¸Šæ”¾ç½®ä¸€ä¸ªæ¶ˆæ¯ã€‚</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property"># <span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span>
<span class="token keyword">int</span> <span class="token function">msgsnd</span><span class="token punctuation">(</span><span class="token keyword">int</span> msqid<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span>size_t length<span class="token punctuation">,</span> <span class="token keyword">int</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å…¶ä¸­msqid æ˜¯ç”±msgget å‡½æ•°è¿”å›çš„æ ‡è¯†ç¬¦ã€‚ptr æ˜¯ä¸€ä¸ªç»“æ„æŒ‡é’ˆï¼Œè¯¥ç»“æ„å…·æœ‰å¦‚ä¸‹çš„æ¨¡æ¿ï¼š</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">struct</span> msgbuf <span class="token punctuation">{</span>
     <span class="token keyword">long</span>     mtype<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// message type ,must be > 0</span>
     <span class="token keyword">char</span>    mtext<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token comment" spellcheck="true">// message data</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>æ¶ˆæ¯ç±»å‹å¿…é¡»å¤§äº0ï¼Œå› ä¸ºå¯¹äº msgrcv å‡½æ•°æ¥è¯´ï¼Œéæ­£çš„æ¶ˆæ¯ç±»å‹ç”¨ä½œç‰¹æ®Šçš„æŒ‡ç¤ºå™¨ã€‚</em></p>
<p><em>mtextè™½ç„¶èµ·åæ˜¯ text ï¼Œä½†æ˜¯æ¶ˆæ¯ç±»å‹å¹¶ä¸å±€é™äºæ–‡æœ¬ã€‚ä»»ä½•å½¢å¼çš„æ•°æ®éƒ½æ˜¯å…è®¸çš„ã€‚å†…æ ¸æ ¹æœ¬ä¸è§£é‡Šæ¶ˆ                      æ¯æ•°æ®çš„å†…å®¹ã€‚ptr æ‰€æŒ‡å‘çš„æ˜¯ä¸€ä¸ªå«æœ‰æ¶ˆæ¯ç±»å‹çš„é•¿æ•´æ•°ï¼Œæ¶ˆæ¯æœ¬èº«åˆ™ç´§è·Ÿç€å®ƒä¹‹åã€‚</em></p>
<p>msgsnd çš„ <em>length</em> å‚æ•°ä»¥å­—èŠ‚ä¸ºå•ä½æŒ‡å®šå¾…å‘é€æ¶ˆæ¯çš„é•¿åº¦ã€‚æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œå¯ä»¥æ˜¯0.</p>
<p><em>flag</em> å‚æ•°æ—¢å¯ä»¥æ˜¯0ï¼Œä¹Ÿå¯ä»¥æ˜¯IPC_NOWAIT ã€‚IPC_NOWAIT æ ‡å¿—ä½¿å¾— msgsnd è°ƒç”¨éé˜»å¡ï¼šå¦‚æœæ²¡æœ‰å­˜æ”¾æ–°æ¶ˆæ¯çš„å¯ç”¨ç©ºé—´ï¼Œè¯¥å‡½æ•°é©¬ä¸Šè¿”å›ã€‚è¿™ä¸ªæ¡ä»¶å¯èƒ½å‘ç”Ÿçš„æƒ…å†µåŒ…æ‹¬ï¼š</p>
<ul>
<li>åœ¨æŒ‡å®šçš„é˜Ÿåˆ—ä¸­å·²æœ‰å¤ªå¤šçš„å­—èŠ‚ï¼ˆå¯¹åº” è¯¥é˜Ÿåˆ—çš„msqid_ds ç»“æ„ä¸­çš„msg_qbytes å€¼ï¼‰ï¼›</li>
<li>åœ¨ç³»ç»ŸèŒƒå›´å­˜åœ¨å¤ªå¤šçš„æ¶ˆæ¯ã€‚</li>
</ul>
<p>å¦‚æœä¸¤ä¸ªæ¡ä»¶ä¸€ä¸ªå­˜åœ¨ï¼Œè€Œä¸”IPC_NOWAITæ ‡å¿—å·²æŒ‡å®šï¼Œmsgsnd å°±è¿”å›ä¸€ä¸ªEAGAIN é”™è¯¯ã€‚å¦‚æœä¸¤ä¸ªæ¡ä»¶ä¸€ä¸ªå­˜åœ¨ï¼Œæ ‡å¿—æœªæŒ‡å®šï¼Œé‚£ä¹ˆè°ƒç”¨çº¿ç¨‹å°±è¢«æŠ•å…¥ç¡çœ ï¼Œç›´åˆ°ï¼š</p>
<ul>
<li>å…·å¤‡å­˜æ”¾æ–°æ¶ˆæ¯çš„ç©ºé—´ï¼›</li>
<li>ç”± msqgid æ ‡è¯†çš„æ¶ˆæ¯é˜Ÿåˆ—ä»ç³»ç»Ÿä¸­åˆ é™¤ï¼ˆè¿™ä¸ªæƒ…å†µä¸‹å›è¿”å›ä¸€ä¸ªEIDRM é”™è¯¯ï¼‰ï¼›</li>
<li>è°ƒç”¨çº¿ç¨‹è¢«æŸä¸ªæ•è·çš„ä¿¡æ¯æ‰€ä¸­æ–­ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;Unix-ç½‘ç»œç¼–ç¨‹&quot;&gt;&lt;a href=&quot;#Unix-ç½‘ç»œç¼–ç¨‹&quot; 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hexo æ·»åŠ æ­Œå•</title>
    <link href="http://yusank.github.io/testlist.html/"/>
    <id>http://yusank.github.io/testlist.html/</id>
    <published>2017-04-09T07:13:11.000Z</published>
    <updated>2017-04-09T07:13:11.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>æµ‹è¯•æ·»åŠ æ­Œå•ã€‚ã€‚ã€‚ã€‚<br><a id="more"></a></p>
<h1 id="æµ‹è¯•æ­Œå•"><a href="#æµ‹è¯•æ­Œå•" class="headerlink" title="æµ‹è¯•æ­Œå•"></a>æµ‹è¯•æ­Œå•</h1>
			<div id="aplayer2" class="aplayer" style="margin-bottom: 20px;"></div>
			<script>
				var options = {"narrow":false,"autoplay":false,"showlrc":1,"mode":"random","mutex":true,"theme":"#e6d0b2","preload":"metadata","listmaxheight":"513px","music":[{"title":"åŒ†åŒ†é‚£å¹´","author":"ç‹è²","url":"http://oid1xlj7h.bkt.clouddn.com/%E7%8E%8B%E8%8F%B2%20-%20%E5%8C%86%E5%8C%86%E9%82%A3%E5%B9%B4.mp3","lrc":"http://oid1xlj7h.bkt.clouddn.com/ccnn.txt"},{"title":"Toca Toca","author":"Fly project","url":"http://oid1xlj7h.bkt.clouddn.com/Fly%20Project%20-%20Toca%20Toca.mp3"},{"title":"Danzo Kuduro","author":"Don Omar","url":"http://oid1xlj7h.bkt.clouddn.com/Don%20Omar,Lucenzo%20-%20Danza%20Kuduro%20-%20Album%20Version.mp3"},{"title":"éš¾å¿˜çš„ä¸€å¤©","author":"è®¸å·","url":"http://oid1xlj7h.bkt.clouddn.com/%E8%AE%B8%E5%B7%8D%20-%20%E9%9A%BE%E5%BF%98%E7%9A%84%E4%B8%80%E5%A4%A9.mp3","lrc":"http://oid1xlj7h.bkt.clouddn.com/nwdyt.txt"},{"title":"Counting Stars","author":"OneRepublic","url":"http://oid1xlj7h.bkt.clouddn.com/OneRepublic%20-%20Counting%20Stars.mp3"},{"title":"Zoobi Doobi","author":"Sonu Nigam,Shreya Ghoshal","url":"http://oid1xlj7h.bkt.clouddn.com/Sonu%20Nigam,Shreya%20Ghoshal%20-%20Zoobi%20Doobi.mp3","lrc":"http://oid1xlj7h.bkt.clouddn.com/tidoit.txt"}]};
				options.element = document.getElementById("aplayer2");
				new APlayer(options);
			</script>

		]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æµ‹è¯•æ·»åŠ æ­Œå•ã€‚ã€‚ã€‚ã€‚&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hexo åšå®¢æ·»åŠ è§†é¢‘å’ŒéŸ³ä¹</title>
    <link href="http://yusank.github.io/HexoMedia.html/"/>
    <id>http://yusank.github.io/HexoMedia.html/</id>
    <published>2017-04-09T05:13:11.000Z</published>
    <updated>2017-04-09T05:13:11.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>æ‰¾åˆ°ä¸€ä¸ªç‚’é¸¡æµå¼Šçš„ä¸œè¥¿ã€‚ã€‚ã€‚</p>
<a id="more"></a>
<h1 id="Hexo-åšå®¢ä¸­æ’å…¥è§†é¢‘-éŸ³ä¹"><a href="#Hexo-åšå®¢ä¸­æ’å…¥è§†é¢‘-éŸ³ä¹" class="headerlink" title="Hexo åšå®¢ä¸­æ’å…¥è§†é¢‘/éŸ³ä¹"></a>Hexo åšå®¢ä¸­æ’å…¥è§†é¢‘/éŸ³ä¹</h1><p>åšå®¢ä¸­æ’å…¥éŸ³ä¹/è§†é¢‘ï¼Œå¯ä»¥è®©åšå®¢çš„é€¼æ ¼ç¬é—´æé«˜ã€‚ä½œä¸ºä¼˜ç§€çš„é™æ€åšå®¢ï¼ŒHexo å½“ç„¶ä¹Ÿå°‘ä¸äº†è¿™äº›é«˜å¤§ä¸Šçš„åŠŸèƒ½ã€‚</p>
<h2 id="Markdown-é€šç”¨éŸ³ä¹-è§†é¢‘æ’å…¥æ–¹æ³•"><a href="#Markdown-é€šç”¨éŸ³ä¹-è§†é¢‘æ’å…¥æ–¹æ³•" class="headerlink" title="Markdown é€šç”¨éŸ³ä¹/è§†é¢‘æ’å…¥æ–¹æ³•"></a>Markdown é€šç”¨éŸ³ä¹/è§†é¢‘æ’å…¥æ–¹æ³•</h2><p>Markdown ä½œä¸ºè½»é‡çº§çš„æ ‡è®°è¯­è¨€ï¼Œå…¼å®¹ html è¯­æ³•ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åœ¨ Markdown æ–‡æ¡£ä¸­ä½¿ç”¨ html è¯­æ³•ã€‚</p>
<p><code>vedio</code> æ ‡ç­¾</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>320<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>movie.mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­åœ¨ <code>src</code> åé¢éœ€è¦æ›¿æ¢è‡ªå·±çš„éŸ³ä¹/è§†é¢‘é“¾æ¥</p>
<p>æ•ˆæœ:</p>
<p>â€‹    <video width="480" height="320" controls><br>â€‹    <source src="http://oid1xlj7h.bkt.clouddn.com/WeChatSight72.mp4"><br>â€‹    </video></p>
<h3 id="embedæ ‡ç­¾"><a href="#embedæ ‡ç­¾" class="headerlink" title="embedæ ‡ç­¾"></a><code>embed</code>æ ‡ç­¾</h3><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://player.youku.com/player.php/Type/Folder/Fid/27690810/Ob/1/sid/XMTY1MTI3NjMyNA<span class="token punctuation">=</span><span class="token punctuation">=</span>/v.swf<span class="token punctuation">"</span></span> <span class="token attr-name">quality</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>high<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>480<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span> <span class="token attr-name">allowScriptAccess</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>always<span class="token punctuation">"</span></span> <span class="token attr-name">allowFullScreen</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>transparent<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/x-shockwave-flash<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>embed</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="ifreameæ ‡ç­¾"><a href="#ifreameæ ‡ç­¾" class="headerlink" title="ifreameæ ‡ç­¾"></a><code>ifreame</code>æ ‡ç­¾</h3><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>498</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>510</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://player.youku.com/embed/XMTY1MTI3NjMyNA<span class="token punctuation">=</span><span class="token punctuation">=</span><span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span>0</span> <span class="token attr-name">allowfullscreen</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç½‘æ˜“äº‘éŸ³ä¹ç½‘é¡µç‰ˆæä¾›ç”Ÿæˆ iframe æ ‡ç­¾ã€‚</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.xiami.com/widget/player-single?uid<span class="token punctuation">=</span>32329501&amp;sid<span class="token punctuation">=</span>1776238762&amp;mode<span class="token punctuation">=</span>js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>é™¤äº† <code>vedio</code> æ ‡ç­¾å¤–ï¼Œå¤§éƒ¨åˆ†éŸ³ä¹/è§†é¢‘ç½‘ç«™éƒ½å¯ä»¥ç›´æ¥ç”Ÿæˆæ’­æ”¾ä»£ç ï¼Œç›´æ¥ç²˜è´´åœ¨ Markdown æ–‡æ¡£å³å¯ã€‚</p>
<p>ä¸è¿‡æœ‰äº›æ ‡ç­¾ä¸æ”¯æŒ HTTPSã€‚</p>
<h2 id="é€šè¿‡-Hexo-æ’ä»¶æ’å…¥éŸ³é¢‘-è§†é¢‘"><a href="#é€šè¿‡-Hexo-æ’ä»¶æ’å…¥éŸ³é¢‘-è§†é¢‘" class="headerlink" title="é€šè¿‡ Hexo æ’ä»¶æ’å…¥éŸ³é¢‘/è§†é¢‘"></a>é€šè¿‡ Hexo æ’ä»¶æ’å…¥éŸ³é¢‘/è§†é¢‘</h2><p>è¿™é‡Œéœ€è¦ä¸¤ä¸ªæ’­æ”¾å™¨æ’ä»¶</p>
<pre class="line-numbers language-shell"><code class="language-shell">hexo-tag-aplayer:https://github.com/grzhan/hexo-tag-aplayer#upstream-issue

hexo-tag-dplayer:https://github.com/NextMoe/hexo-tag-dplayer
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è¿™ä¸¤æ¬¾æ’ä»¶åŸºäº DIYgod ç¼–å†™çš„ html5 æ’­æ”¾å™¨ APlayer å’Œ DPlayer å¼€å‘ã€‚</p>
<p>é¦–å…ˆå®‰è£…ä¸¤æ¬¾æ’ä»¶</p>
<p>æ‰“å¼€ shellï¼Œåˆ‡æ¢åˆ° Hexo ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸¤æ¡ç›®å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">npm install hexo-tag-dplayer --save
npm install hexo-tag-aplayer --save
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å®‰è£…æˆåŠŸåï¼Œåœ¨ Markdown æ–‡æ¡£ä¸­æ·»åŠ  APlayer å’Œ DPlayer æ ‡ç­¾å³å¯ã€‚</p>
<pre class="line-numbers language-html"><code class="language-html">{% aplayer "Caffeine" "Jeff Williams" "http://7xq131.com1.z0.glb.clouddn.com/Preparation.mp3" "autoplay" %}
{% dplayer "url=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4" "api=http://dplayer.daoapp.io" "pic=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png" "id=9E2E3368B56CDBB4" "loop=yes" "theme=#FADFA3" "autoplay=false" "token=tokendemo" %}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>APlayer å’Œ DPlayer å…·ä½“å‚æ•°è®¾ç½®å¯ä»¥åˆ° GitHub é¡¹ç›®ä¸»é¡µï¼Œä¸è¿‡é»˜è®¤å‚æ•°è¶³å¤Ÿäº†ã€‚</p>
<div id="aplayer0" class="aplayer" style="margin-bottom: 20px;">
				<pre class="aplayer-lrc-content">'[00:00.00]Zoobi Doobi
[00:00.38]Sonu Nigam & Shreya Ghoshal
[00:00.53]LRCï¼šMeselson (QQ 445942376)
[00:01.18]
[00:03.50]Gungunati hain yeh hawayein 
[00:12.73]Gungunata hai gagan
[00:19.91]Gaa raha hai yeh saara aalam
[00:26.90]Zoobi doâ€¦ param pumâ€¦ 
[00:37.35]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[00:42.67]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann 
[00:47.99]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[00:53.30]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann 
[00:58.34]Shaakhon pe pattey gaa rahe hain Phoolon pe bhanvre gaa rahe
[01:03.69]Deewani kirine gaa rahi hain Yeh panchhi gaa rahe
[01:08.38]Ohhh Bagiya mein do phoolon ki Ho rahi hai guft-gu 
[01:14.02]Jaisa filmon mein hota hai Ho raha hai hu-bahoo
[01:19.18]I iiii iii.. 
[01:20.11]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[01:25.21]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[01:30.52]
[01:30.81]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[01:35.98]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[01:40.68]
[02:02.67]Rimjhim rimjhim rimjhim San san san san hawaa
[02:07.63]Tip tip tip tip boondein Gurrati bijliyaan
[02:13.00]Bheegi bheegi saree mein Yun thumke lagati tu
[02:18.24]Ho raha hai hu bahoo
[02:23.58]I iiii iii.. 
[02:24.23]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[02:29.16]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[02:32.50]
[02:34.30]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[02:39.58]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[02:45.70]
[03:06.55]Amber ka chand zameen par Itra ke gaa raha
[03:12.02]Ek tim tim toota tara Ithla ka gaa raha
[03:17.29]Hai raat akeli tanha Mujhe choo le aake tu
[03:22.47]Jaisa filmon mein hota hai Ho raha hai hubahoo
[03:27.24]I iiii iii.. 
[03:27.78]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[03:33.28]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[03:38.57]Zoobi doobi zoobi doobi pum paara Zoobi doobi param pum
[03:43.79]Zoobi doobi zoobi doobi naache kyun Paagal stupid mann
[03:48.58]LRCï¼šMeselson (QQ 445942376)
[03:50.47]THE END
</pre>
			</div>
			<script>
				new APlayer({
					element: document.getElementById("aplayer0"),
					narrow: false,
					autoplay: 1,
					showlrc: 2,
					music: {
						title: "Zoobi Doobi",
						author: "Three ediot",
						url: "http://oid1xlj7h.bkt.clouddn.com/Sonu%20Nigam,Shreya%20Ghoshal%20-%20Zoobi%20Doobi.mp3",
						pic: "http://oid1xlj7h.bkt.clouddn.com/3_idiots_wallpaper.jpg",
					}
				});
			</script>    
<div id="dplayer0" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer0 = new DPlayer({"element":document.getElementById("dplayer0"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://oid1xlj7h.bkt.clouddn.com/WeChatSight72.mp4"},"danmaku":{"api":"http://dplayer.daoapp.io","id":"9E2E3368B56CDBB4","token":"tokendemo"}});</script>
<p>APlayer å’Œ DPlayer å‡æ”¯æŒ HTTPSã€‚</p>
<p>ä¸Šè¿°ä¸¤ç§æ–¹æ³•éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œé€‰æ‹©ä¸€ç§é€‚åˆè‡ªå·±çš„æ–¹æ³•ï¼Œæ‰“é€ è‡ªå·±ä¸“å±çš„åšå®¢å§ã€‚</p>
<p>è½¬è½½ï¼šã€login926ã€‘login926.github.io</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰¾åˆ°ä¸€ä¸ªç‚’é¸¡æµå¼Šçš„ä¸œè¥¿ã€‚ã€‚ã€‚&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Vim å¿«æ·é”®</title>
    <link href="http://yusank.github.io/Vimkyboard.html/"/>
    <id>http://yusank.github.io/Vimkyboard.html/</id>
    <published>2017-04-07T07:07:00.000Z</published>
    <updated>2017-04-07T07:07:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Vim-å¿«æ·é”®"><a href="#Vim-å¿«æ·é”®" class="headerlink" title="Vim å¿«æ·é”®"></a>Vim å¿«æ·é”®</h1><h2 id="ä¸€-ç§»åŠ¨ï¼š"><a href="#ä¸€-ç§»åŠ¨ï¼š" class="headerlink" title="ä¸€. ç§»åŠ¨ï¼š"></a>ä¸€. ç§»åŠ¨ï¼š</h2><pre><code>h,j,k,l: å·¦ï¼Œä¸‹ï¼Œä¸Šï¼Œå³ã€‚
w: ä¸‹ä¸€ä¸ªè¯çš„è¯é¦–ã€‚
e:ä¸‹ä¸€ä¸ªè¯çš„è¯å°¾ã€‚
</code></pre><p>â€‹    b:ä¸Šä¸€ä¸ªè¯çš„è¯é¦–ã€‚</p>
<pre><code>&lt;&gt;: v æ¨¡å¼é€‰ä¸­åè¿›è¡Œç¼©è¿›ã€‚
</code></pre><a id="more"></a>
<div id="aplayer1" class="aplayer" style="margin-bottom: 20px;"></div>
		<script>
			new APlayer({
				element: document.getElementById("aplayer1"),
				narrow: false,
				autoplay: true,
				showlrc: 0,
				music: {
					title: "Wadilar Keni",
					author: "from nobody",
					url: "http://oid1xlj7h.bkt.clouddn.com/elyarr%20-%20wadilar%C2%A0keni%EF%BC%88%E5%90%AC%E4%BA%86%E5%B0%B1%E6%B2%A1%E9%94%99%EF%BC%89.mp3",
					pic: "",
				}
			});
		</script>
<h2 id="äºŒ-è·³è½¬ï¼š"><a href="#äºŒ-è·³è½¬ï¼š" class="headerlink" title="äºŒ. è·³è½¬ï¼š"></a>äºŒ. è·³è½¬ï¼š</h2><pre><code>%: å¯ä»¥åŒ¹é…{},&quot;&quot;,(),[]ä¹‹é—´è·³è½¬ã€‚
Hã€Mã€Lï¼šç›´æ¥è·³è½¬åˆ°å½“å‰å±å¹•çš„é¡¶éƒ¨ã€ä¸­éƒ¨ã€åº•éƒ¨ã€‚
</code></pre><p>â€œ#Hâ€ï¼šè·³è½¬åˆ°å½“å‰å±çš„ç¬¬#è¡Œã€‚            <em>// ç”±äºmarkdownè¯­æ³•åŸå› ï¼ŒåŠ ä¸Šäº†åŒå¼•å·ï¼Œå®é™…ç”¨çš„æ—¶å€™æ²¡æœ‰åŒå¼•å·çš„</em>, ä»¥ä¸‹æ‰€æœ‰åŠ å¼•å·çš„é›·åŒã€‚</p>
<p>â€œ#Lâ€ï¼šè·³è½¬åˆ°å½“å‰å±çš„å€’æ•°ç¬¬#è¡Œã€‚</p>
<pre><code>zt: å½“å‰ç¼–è¾‘è¡Œç½®ä¸ºå±é¡¶ã€‚
zz: å½“å‰ç¼–è¾‘è¡Œç½®ä¸ºå±ä¸­ã€‚
zb: å½“å‰ç¼–è¾‘è¡Œç½®ä¸ºå±åº•ã€‚
Gï¼šç›´æ¥è·³è½¬åˆ°æ–‡ä»¶çš„åº•éƒ¨ã€‚
gg: è·³è½¬åˆ°æ–‡ä»¶é¦–ã€‚
():è·³è½¬åˆ°å½“å‰çš„è¡Œé¦–ã€è¡Œå°¾ã€‚
{}ï¼šå‘ä¸Šã€å‘ä¸‹è·³è½¬åˆ°æœ€è¿‘çš„ç©ºè¡Œã€‚
[{ï¼šè·³è½¬åˆ°ç›®å‰åŒºå—å¼€å¤´ã€‚
]}ï¼šè·³è½¬åˆ°ç›®å‰åŒºå—ç»“å°¾ã€‚
0: è·³è½¬åˆ°è¡Œé¦–ã€‚
$: è·³è½¬åˆ°è¡Œå°¾ã€‚
2$: è·³è½¬åˆ°ä¸‹ä¸€è¡Œçš„è¡Œå°¾ã€‚
</code></pre><p>â€œ#â€ï¼šè·³è½¬åˆ°è¯¥è¡Œçš„ç¬¬#ä¸ªä½ç½®ã€‚</p>
<p>â€œ#Gâ€: 15G,è·³è½¬åˆ°15è¡Œã€‚</p>
<pre><code>:#ï¼šè·³è½¬åˆ°#è¡Œã€‚
f&#39;n&#39;ï¼šè·³è½¬åˆ°ä¸‹ä¸€ä¸ª&quot;n&quot;å­—æ¯åã€‚
ctrl+b: å‘åç¿»ä¸€é¡µã€‚
ctrl+fï¼šå‘å‰ç¿»ä¸€é¡µã€‚
ctrl+u: å‘åç¿»åŠé¡µã€‚
ctrl+d: å‘å‰ç¿»åŠé¡µã€‚
ctry+e: ä¸‹æ»šä¸€è¡Œã€‚
</code></pre><h2 id="ä¸‰-é€‰æ‹©ï¼š"><a href="#ä¸‰-é€‰æ‹©ï¼š" class="headerlink" title="ä¸‰. é€‰æ‹©ï¼š"></a>ä¸‰. é€‰æ‹©ï¼š</h2><pre><code>1.V: é€‰æ‹©ä¸€è¡Œã€‚
2.^V: çŸ©å½¢é€‰æ‹©ã€‚
3.v3w: é€‰æ‹©ä¸‰ä¸ªå­—ç¬¦ã€‚  
</code></pre><h2 id="å››-ç¼–è¾‘ï¼š"><a href="#å››-ç¼–è¾‘ï¼š" class="headerlink" title="å››. ç¼–è¾‘ï¼š"></a>å››. ç¼–è¾‘ï¼š</h2><ol>
<li><p>æ–°å¢ï¼š<br>i: å…‰æ ‡å‰æ’å…¥ã€‚</p>
<pre><code>    I: åœ¨å½“å‰è¡Œé¦–æ’å…¥ã€‚
    a: å…‰æ ‡åæ’å…¥ã€‚
    A: å½“å‰è¡Œå°¾æ’å…¥ã€‚
    O: åœ¨å½“å‰è¡Œä¹‹å‰æ’å…¥æ–°è¡Œã€‚
    o: åœ¨å½“å‰è¡Œä¹‹åæ’å…¥æ–°è¡Œã€‚
</code></pre></li>
<li><p>ä¿®æ”¹ c(change) ä¸ºä¸»ï¼š<br>   r: æ›¿æ¢å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚</p>
<pre><code>       Rï¼šæ›¿æ¢å…‰æ ‡æ‰€åˆ°ä¹‹å¤„çš„å­—ç¬¦ã€‚
       cw: æ›´æ”¹å…‰æ ‡æ‰€åœ¨å¤„çš„å­—åˆ°å­—å°¾å¤„ã€‚
       c#w: c3w ä¿®æ”¹3ä¸ªå­—ç¬¦ã€‚
       Cï¼šä¿®æ”¹åˆ°è¡Œå°¾ã€‚
       ci&#39;ï¼šä¿®æ”¹é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
       di&#39;ï¼šåˆ é™¤é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
       yi&#39;ï¼šå¤åˆ¶é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
       vi&#39;ï¼šé€‰ä¸­é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
       sï¼šæ›¿æ¢å½“å‰ä¸€ä¸ªå…‰æ ‡æ‰€å¤„å­—ç¬¦ã€‚
</code></pre><p>   â€‹    â€œ#Sâ€ï¼šåˆ é™¤ # è¡Œï¼Œå¹¶ä»¥æ–°æ–‡æœ¬ä»£æ›¿ã€‚</p>
</li>
</ol>
<ol>
<li><p>åˆ é™¤ d(delete) ä¸ºä¸»ï¼š<br>Dï¼šåˆ é™¤åˆ°è¡Œå°¾ã€‚</p>
<pre><code>    X: æ¯æŒ‰ä¸€æ¬¡ï¼Œåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å‰é¢ä¸€ä¸ªå­—ç¬¦ã€‚
    x: æ¯æŒ‰ä¸€æ¬¡ï¼Œåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„åé¢ä¸€ä¸ªå­—ç¬¦ã€‚
</code></pre><p>â€‹    â€œ#xâ€: åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åé¢6ä¸ªå­—ç¬¦ã€‚</p>
<pre><code>    d^: åˆ è‡³è¡Œé¦–ã€‚
    d$: åˆ è‡³è¡Œå°¾ã€‚
    dd:(å‰ªåˆ‡)åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œã€‚        
    dw: åˆ é™¤ä¸€ä¸ªå•è¯/å…‰æ ‡ä¹‹åçš„å•è¯å‰©ä½™éƒ¨åˆ†ã€‚
    d4w: åˆ é™¤4ä¸ªwordã€‚
</code></pre><p>â€‹â€#ddâ€: ä»å…‰æ ‡æ‰€åœ¨è¡Œå¼€å§‹åˆ é™¤#è¡Œã€‚</p>
<p>  daB: åˆ é™¤{}åŠå…¶å†…çš„å†…å®¹ã€‚<br>  diB: åˆ é™¤{}ä¸­çš„å†…å®¹ã€‚<br>  n1,n2 dï¼šå°†n1,n2è¡Œä¹‹é—´çš„å†…å®¹åˆ é™¤ã€‚</p>
</li>
<li><p>æŸ¥æ‰¾ï¼š<br>/ï¼š è¾“å…¥å…³é”®å­—ï¼Œå‘ç°ä¸æ˜¯è¦æ‰¾çš„ï¼Œç›´æ¥åœ¨æŒ‰nï¼Œå‘åæŸ¥æ‰¾ç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</p>
<pre><code>    ?ï¼š è¾“å…¥å…³é”®å­—ï¼Œå‘ç°ä¸æ˜¯è¦æ‰¾çš„ï¼Œç›´æ¥åœ¨æŒ‰nï¼Œå‘å‰æŸ¥æ‰¾ç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚
    *: åœ¨å½“å‰é¡µå‘åæŸ¥æ‰¾åŒä¸€å­—ã€‚
</code></pre><p>â€‹    â€œ#â€: åœ¨å½“å‰é¡µå‘å‰æŸ¥æ‰¾åŒä¸€å­—ã€‚</p>
</li>
<li><p>å¤åˆ¶ y(yank)ä¸ºä¸»ï¼š<br>   yw: å°†å…‰æ ‡æ‰€åœ¨ä¹‹å¤„åˆ°å­—å°¾çš„å­—ç¬¦å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­ã€‚</p>
<p>   â€œ#ywâ€: å¤åˆ¶#ä¸ªå­—åˆ°ç¼“å†²åŒºã€‚</p>
<pre><code> Yï¼šç›¸å½“äºyy, å¤åˆ¶æ•´è¡Œã€‚
</code></pre></li>
</ol>
<p>â€‹    â€œ#yyâ€:è¡¨ç¤ºå¤åˆ¶ä»å…‰æ ‡æ‰€åœ¨çš„è¯¥è¡Œå¾€ä¸‹æ•°#è¡Œæ–‡å­—ã€‚</p>
<pre><code>    p: ç²˜è´´ã€‚æ‰€æœ‰ä¸yç›¸å…³çš„æ“ä½œå¿…ç”¨pæ¥ç»“åˆç²˜è´´ã€‚
    n1,n2 co n3ï¼šå¤åˆ¶ç¬¬n1è¡Œåˆ°ç¬¬n2è¡Œä¹‹é—´çš„å†…å®¹åˆ°ç¬¬n3è¡Œåé¢ã€‚
6. å¤§å°å†™è½¬æ¢ï¼š
      gUU: å°†å½“å‰è¡Œçš„å­—æ¯æ”¹ä¸ºå¤§å†™ã€‚
              guu: å°†å½“å‰è¡Œçš„å­—æ¯æ”¹ä¸ºå°å†™ã€‚
              gUw: å°†å½“å‰å…‰æ ‡ä¸‹çš„å•è¯æ”¹ä¸ºå¤§å†™ã€‚
              guw: å°†å½“å‰å…‰æ ‡ä¸‹çš„å•è¯æ”¹ä¸ºå°å†™ã€‚
              a. æ•´ç¯‡å¤§å†™:
              ggguG
              gg: å…‰æ ‡åˆ°æ–‡ä»¶ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚
              gu: æŠŠé€‰æ‹©èŒƒå›´å…¨éƒ¨å°å†™ã€‚
              G: åˆ°æ–‡ä»¶ç»“æŸã€‚
              b. æ•´ç¯‡å°å†™ï¼šgggUG
7. å…¶å®ƒï¼š
      Jï¼šå½“å‰è¡Œå’Œä¸‹ä¸€è¡Œåˆå¹¶æˆä¸€è¡Œã€‚
8. ç§»åŠ¨ï¼š
      n1,n2 m n3ï¼šå°†n1è¡Œåˆ°n2è¡Œä¹‹é—´çš„å†…å®¹ç§»è‡³n3è¡Œä¸‹ã€‚
</code></pre><h2 id="äº”-é€€å‡ºï¼š"><a href="#äº”-é€€å‡ºï¼š" class="headerlink" title="äº”.é€€å‡ºï¼š"></a>äº”.é€€å‡ºï¼š</h2><pre><code> 1. w filename: ä¿å­˜æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶filename
 2. wq filename: ä¿å­˜åé€€å‡ºæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶filename
 3. qï¼šé€€å‡ºä¸ä¿å­˜ã€‚
</code></pre><h2 id="å…­-çª—å£æ“ä½œï¼š"><a href="#å…­-çª—å£æ“ä½œï¼š" class="headerlink" title="å…­.çª—å£æ“ä½œï¼š"></a>å…­.çª—å£æ“ä½œï¼š</h2><pre><code> 1. ctrl+w p: åœ¨ä¸¤ä¸ªåˆ†å‰²çª—å£ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚
 2. ctrl+w j: è·³åˆ°ä¸‹é¢çš„åˆ†å‰²çª—
 3. ctrl+w h: è·³åˆ°å·¦è¾¹çš„åˆ†å‰²çª—ã€‚
 4. ctrl+w k: è·³åˆ°ä¸Šé¢çš„åˆ†å‰²çª—ã€‚
 5. ctrl+w l: è·³åˆ°å³è¾¹çš„åˆ†å‰²çª—ã€‚
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Vim-å¿«æ·é”®&quot;&gt;&lt;a href=&quot;#Vim-å¿«æ·é”®&quot; class=&quot;headerlink&quot; title=&quot;Vim å¿«æ·é”®&quot;&gt;&lt;/a&gt;Vim å¿«æ·é”®&lt;/h1&gt;&lt;h2 id=&quot;ä¸€-ç§»åŠ¨ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€-ç§»åŠ¨ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€. ç§»åŠ¨ï¼š&quot;&gt;&lt;/a&gt;ä¸€. ç§»åŠ¨ï¼š&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;h,j,k,l: å·¦ï¼Œä¸‹ï¼Œä¸Šï¼Œå³ã€‚
w: ä¸‹ä¸€ä¸ªè¯çš„è¯é¦–ã€‚
e:ä¸‹ä¸€ä¸ªè¯çš„è¯å°¾ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;â€‹    b:ä¸Šä¸€ä¸ªè¯çš„è¯é¦–ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;&amp;gt;: v æ¨¡å¼é€‰ä¸­åè¿›è¡Œç¼©è¿›ã€‚
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£</title>
    <link href="http://yusank.github.io/CORS.html/"/>
    <id>http://yusank.github.io/CORS.html/</id>
    <published>2017-01-30T07:07:00.000Z</published>
    <updated>2017-01-30T07:07:01.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="è·¨åŸŸèµ„æºå…±äº«-CORS-è¯¦è§£"><a href="#è·¨åŸŸèµ„æºå…±äº«-CORS-è¯¦è§£" class="headerlink" title="è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£"></a>è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£</h1><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚<br>å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡º<code>XMLHttpRequest</code>è¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½<strong>åŒæº</strong>ä½¿ç”¨çš„é™åˆ¶ã€‚<br>æœ¬æ–‡è¯¦ç»†ä»‹ç»CORSçš„å†…éƒ¨æœºåˆ¶ã€‚<br><a id="more"></a></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=5110131&auto=1&height=66"></iframe>

<h2 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h2><p>CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIEæµè§ˆå™¨ä¸èƒ½ä½äºIE10ã€‚</p>
<p>æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚</p>
<p>å› æ­¤ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚</p>
<h2 id="äºŒã€ä¸¤ç§è¯·æ±‚"><a href="#äºŒã€ä¸¤ç§è¯·æ±‚" class="headerlink" title="äºŒã€ä¸¤ç§è¯·æ±‚"></a>äºŒã€ä¸¤ç§è¯·æ±‚</h2><p>æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰ã€‚</p>
<p>åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ã€‚</p>
<blockquote>
<p>1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p>
<ul>
<li>HEAD</li>
<li>GET</li>
<li>POST</li>
</ul>
<p>ï¼ˆ2ï¼‰HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</p>
<ul>
<li>Accept</li>
<li>Accept-Language</li>
<li>Content-Language</li>
<li>Last-Event-ID</li>
<li>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code></li>
</ul>
</blockquote>
<p>å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚</p>
<p>æµè§ˆå™¨å¯¹è¿™ä¸¤ç§è¯·æ±‚çš„å¤„ç†ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<h2 id="ä¸‰ã€ç®€å•è¯·æ±‚"><a href="#ä¸‰ã€ç®€å•è¯·æ±‚" class="headerlink" title="ä¸‰ã€ç®€å•è¯·æ±‚"></a>ä¸‰ã€ç®€å•è¯·æ±‚</h2><h3 id="3-1-åŸºæœ¬æµç¨‹"><a href="#3-1-åŸºæœ¬æµç¨‹" class="headerlink" title="3.1 åŸºæœ¬æµç¨‹"></a>3.1 åŸºæœ¬æµç¨‹</h3><p>å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡ºCORSè¯·æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ª<code>Origin</code>å­—æ®µã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨å‘ç°è¿™æ¬¡è·¨æºAJAXè¯·æ±‚æ˜¯ç®€å•è¯·æ±‚ï¼Œå°±è‡ªåŠ¨åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª<code>Origin</code>å­—æ®µã€‚</p>
<pre class="line-numbers language-http"><code class="language-http">GET /cors HTTP/1.1
<span class="token header-name keyword">Origin:</span> http://api.bob.com
<span class="token header-name keyword">Host:</span> api.alice.com
<span class="token header-name keyword">Accept-Language:</span> en-US
<span class="token header-name keyword">Connection:</span> keep-alive
<span class="token header-name keyword">User-Agent:</span> Mozilla/5.0...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢çš„å¤´ä¿¡æ¯ä¸­ï¼Œ<code>Origin</code>å­—æ®µç”¨æ¥è¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ˆåè®® + åŸŸå + ç«¯å£ï¼‰ã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚ã€‚</p>
<p>å¦‚æœ<code>Origin</code>æŒ‡å®šçš„æºï¼Œä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ã€‚æµè§ˆå™¨å‘ç°ï¼Œè¿™ä¸ªå›åº”çš„å¤´ä¿¡æ¯æ²¡æœ‰åŒ…å«<code>Access-Control-Allow-Origin</code>å­—æ®µï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå°±çŸ¥é“å‡ºé”™äº†ï¼Œä»è€ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¢«<code>XMLHttpRequest</code>çš„<code>onerror</code>å›è°ƒå‡½æ•°æ•è·ã€‚æ³¨æ„ï¼Œè¿™ç§é”™è¯¯æ— æ³•é€šè¿‡çŠ¶æ€ç è¯†åˆ«ï¼Œå› ä¸ºHTTPå›åº”çš„çŠ¶æ€ç æœ‰å¯èƒ½æ˜¯200ã€‚</p>
<p>å¦‚æœ<code>Origin</code>æŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ï¼Œä¼šå¤šå‡ºå‡ ä¸ªå¤´ä¿¡æ¯å­—æ®µã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">Access-Control-Allow-Origin:</span> http://api.bob.com
<span class="token header-name keyword">Access-Control-Allow-Credentials:</span> true
<span class="token header-name keyword">Access-Control-Expose-Headers:</span> FooBar
<span class="token header-name keyword">Content-Type:</span> text/html; charset=utf-8
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢çš„å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªä¸CORSè¯·æ±‚ç›¸å…³çš„å­—æ®µï¼Œéƒ½ä»¥<code>Access-Control-</code>å¼€å¤´ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰Access-Control-Allow-Origin</strong></p>
<p>è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ã€‚å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶<code>Origin</code>å­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>*</code>ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰Access-Control-Allow-Credentials</strong></p>
<p>è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸º<code>true</code>ï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚è¿™ä¸ªå€¼ä¹Ÿåªèƒ½è®¾ä¸º<code>true</code>ï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¦æµè§ˆå™¨å‘é€Cookieï¼Œåˆ é™¤è¯¥å­—æ®µå³å¯ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰Access-Control-Expose-Headers</strong></p>
<p>è¯¥å­—æ®µå¯é€‰ã€‚CORSè¯·æ±‚æ—¶ï¼Œ<code>XMLHttpRequest</code>å¯¹è±¡çš„<code>getResponseHeader()</code>æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼š<code>Cache-Control</code>ã€<code>Content-Language</code>ã€<code>Content-Type</code>ã€<code>Expires</code>ã€<code>Last-Modified</code>ã€<code>Pragma</code>ã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¿…é¡»åœ¨<code>Access-Control-Expose-Headers</code>é‡Œé¢æŒ‡å®šã€‚ä¸Šé¢çš„ä¾‹å­æŒ‡å®šï¼Œ<code>getResponseHeader(&#39;FooBar&#39;)</code>å¯ä»¥è¿”å›<code>FooBar</code>å­—æ®µçš„å€¼ã€‚</p>
<h3 id="3-2-withCredentials-å±æ€§"><a href="#3-2-withCredentials-å±æ€§" class="headerlink" title="3.2 withCredentials å±æ€§"></a>3.2 withCredentials å±æ€§</h3><p>ä¸Šé¢è¯´åˆ°ï¼ŒCORSè¯·æ±‚é»˜è®¤ä¸å‘é€Cookieå’ŒHTTPè®¤è¯ä¿¡æ¯ã€‚å¦‚æœè¦æŠŠCookieå‘åˆ°æœåŠ¡å™¨ï¼Œä¸€æ–¹é¢è¦æœåŠ¡å™¨åŒæ„ï¼ŒæŒ‡å®š<code>Access-Control-Allow-Credentials</code>å­—æ®µã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">Access-Control-Allow-Credentials:</span> true
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦ä¸€æ–¹é¢ï¼Œå¼€å‘è€…å¿…é¡»åœ¨AJAXè¯·æ±‚ä¸­æ‰“å¼€<code>withCredentials</code>å±æ€§ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å¦åˆ™ï¼Œå³ä½¿æœåŠ¡å™¨åŒæ„å‘é€Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘é€ã€‚æˆ–è€…ï¼ŒæœåŠ¡å™¨è¦æ±‚è®¾ç½®Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå¤„ç†ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœçœç•¥<code>withCredentials</code>è®¾ç½®ï¼Œæœ‰çš„æµè§ˆå™¨è¿˜æ˜¯ä¼šä¸€èµ·å‘é€Cookieã€‚è¿™æ—¶ï¼Œå¯ä»¥æ˜¾å¼å…³é—­<code>withCredentials</code>ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å‘é€Cookieï¼Œ<code>Access-Control-Allow-Origin</code>å°±ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚åŒæ—¶ï¼ŒCookieä¾ç„¶éµå¾ªåŒæºæ”¿ç­–ï¼Œåªæœ‰ç”¨æœåŠ¡å™¨åŸŸåè®¾ç½®çš„Cookieæ‰ä¼šä¸Šä¼ ï¼Œå…¶ä»–åŸŸåçš„Cookieå¹¶ä¸ä¼šä¸Šä¼ ï¼Œä¸”ï¼ˆè·¨æºï¼‰åŸç½‘é¡µä»£ç ä¸­çš„<code>document.cookie</code>ä¹Ÿæ— æ³•è¯»å–æœåŠ¡å™¨åŸŸåä¸‹çš„Cookieã€‚</p>
<h2 id="å››ã€éç®€å•è¯·æ±‚"><a href="#å››ã€éç®€å•è¯·æ±‚" class="headerlink" title="å››ã€éç®€å•è¯·æ±‚"></a>å››ã€éç®€å•è¯·æ±‚</h2><h3 id="4-1-é¢„æ£€è¯·æ±‚"><a href="#4-1-é¢„æ£€è¯·æ±‚" class="headerlink" title="4.1 é¢„æ£€è¯·æ±‚"></a>4.1 é¢„æ£€è¯·æ±‚</h3><p>éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯<code>PUT</code>æˆ–<code>DELETE</code>ï¼Œæˆ–è€…<code>Content-Type</code>å­—æ®µçš„ç±»å‹æ˜¯<code>application/json</code>ã€‚</p>
<p>éç®€å•è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸ºâ€é¢„æ£€â€è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚</p>
<p>æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„<code>XMLHttpRequest</code>è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€æ®µæµè§ˆå™¨çš„JavaScriptè„šæœ¬ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://api.alice.com/cors'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'X-Custom-Header'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒHTTPè¯·æ±‚çš„æ–¹æ³•æ˜¯<code>PUT</code>ï¼Œå¹¶ä¸”å‘é€ä¸€ä¸ªè‡ªå®šä¹‰å¤´ä¿¡æ¯<code>X-Custom-Header</code>ã€‚</p>
<p>æµè§ˆå™¨å‘ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªéç®€å•è¯·æ±‚ï¼Œå°±è‡ªåŠ¨å‘å‡ºä¸€ä¸ªâ€é¢„æ£€â€è¯·æ±‚ï¼Œè¦æ±‚æœåŠ¡å™¨ç¡®è®¤å¯ä»¥è¿™æ ·è¯·æ±‚ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªâ€é¢„æ£€â€è¯·æ±‚çš„HTTPå¤´ä¿¡æ¯ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http">OPTIONS /cors HTTP/1.1
<span class="token header-name keyword">Origin:</span> http://api.bob.com
<span class="token header-name keyword">Access-Control-Request-Method:</span> PUT
<span class="token header-name keyword">Access-Control-Request-Headers:</span> X-Custom-Header
<span class="token header-name keyword">Host:</span> api.alice.com
<span class="token header-name keyword">Accept-Language:</span> en-US
<span class="token header-name keyword">Connection:</span> keep-alive
<span class="token header-name keyword">User-Agent:</span> Mozilla/5.0...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>â€œé¢„æ£€â€è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•æ˜¯<code>OPTIONS</code>ï¼Œè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ç”¨æ¥è¯¢é—®çš„ã€‚å¤´ä¿¡æ¯é‡Œé¢ï¼Œå…³é”®å­—æ®µæ˜¯<code>Origin</code>ï¼Œè¡¨ç¤ºè¯·æ±‚æ¥è‡ªå“ªä¸ªæºã€‚</p>
<p>é™¤äº†<code>Origin</code>å­—æ®µï¼Œâ€é¢„æ£€â€è¯·æ±‚çš„å¤´ä¿¡æ¯åŒ…æ‹¬ä¸¤ä¸ªç‰¹æ®Šå­—æ®µã€‚</p>
<p><strong>ï¼ˆ1ï¼‰Access-Control-Request-Method</strong></p>
<p>è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥åˆ—å‡ºæµè§ˆå™¨çš„CORSè¯·æ±‚ä¼šç”¨åˆ°å“ªäº›HTTPæ–¹æ³•ï¼Œä¸Šä¾‹æ˜¯<code>PUT</code>ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰Access-Control-Request-Headers</strong></p>
<p>è¯¥å­—æ®µæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šæµè§ˆå™¨CORSè¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µï¼Œä¸Šä¾‹æ˜¯<code>X-Custom-Header</code>ã€‚</p>
<h3 id="4-2-é¢„æ£€è¯·æ±‚çš„å›åº”"><a href="#4-2-é¢„æ£€è¯·æ±‚çš„å›åº”" class="headerlink" title="4.2 é¢„æ£€è¯·æ±‚çš„å›åº”"></a>4.2 é¢„æ£€è¯·æ±‚çš„å›åº”</h3><p>æœåŠ¡å™¨æ”¶åˆ°â€é¢„æ£€â€è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†<code>Origin</code>ã€<code>Access-Control-Request-Method</code>å’Œ<code>Access-Control-Request-Headers</code>å­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token response-status">HTTP/1.1 <span class="token property">200 OK</span></span>
<span class="token header-name keyword">Date:</span> Mon, 01 Dec 2008 01:15:39 GMT
<span class="token header-name keyword">Server:</span> Apache/2.0.61 (Unix)
<span class="token header-name keyword">Access-Control-Allow-Origin:</span> http://api.bob.com
<span class="token header-name keyword">Access-Control-Allow-Methods:</span> GET, POST, PUT
<span class="token header-name keyword">Access-Control-Allow-Headers:</span> X-Custom-Header
<span class="token header-name keyword">Content-Type:</span> text/html; charset=utf-8
<span class="token header-name keyword">Content-Encoding:</span> gzip
<span class="token header-name keyword">Content-Length:</span> 0
<span class="token header-name keyword">Keep-Alive:</span> timeout=2, max=100
<span class="token header-name keyword">Connection:</span> Keep-Alive
<span class="token header-name keyword">Content-Type:</span> text/plain
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢çš„HTTPå›åº”ä¸­ï¼Œå…³é”®çš„æ˜¯<code>Access-Control-Allow-Origin</code>å­—æ®µï¼Œè¡¨ç¤º<code>http://api.bob.com</code>å¯ä»¥è¯·æ±‚æ•°æ®ã€‚è¯¥å­—æ®µä¹Ÿå¯ä»¥è®¾ä¸ºæ˜Ÿå·ï¼Œè¡¨ç¤ºåŒæ„ä»»æ„è·¨æºè¯·æ±‚ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">Access-Control-Allow-Origin:</span> *
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœæµè§ˆå™¨å¦å®šäº†â€é¢„æ£€â€è¯·æ±‚ï¼Œä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•CORSç›¸å…³çš„å¤´ä¿¡æ¯å­—æ®µã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè®¤å®šï¼ŒæœåŠ¡å™¨ä¸åŒæ„é¢„æ£€è¯·æ±‚ï¼Œå› æ­¤è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œè¢«<code>XMLHttpRequest</code>å¯¹è±¡çš„<code>onerror</code>å›è°ƒå‡½æ•°æ•è·ã€‚æ§åˆ¶å°ä¼šæ‰“å°å‡ºå¦‚ä¸‹çš„æŠ¥é”™ä¿¡æ¯ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http">XMLHttpRequest cannot load http://api.alice.com.
Origin http://api.bob.com is not allowed by Access-Control-Allow-Origin.
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æœåŠ¡å™¨å›åº”çš„å…¶ä»–CORSç›¸å…³å­—æ®µå¦‚ä¸‹ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">Access-Control-Allow-Methods:</span> GET, POST, PUT
<span class="token header-name keyword">Access-Control-Allow-Headers:</span> X-Custom-Header
<span class="token header-name keyword">Access-Control-Allow-Credentials:</span> true
<span class="token header-name keyword">Access-Control-Max-Age:</span> 1728000
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>ï¼ˆ1ï¼‰Access-Control-Allow-Methods</strong></p>
<p>è¯¥å­—æ®µå¿…éœ€ï¼Œå®ƒçš„å€¼æ˜¯é€—å·åˆ†éš”çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰æ”¯æŒçš„æ–¹æ³•ï¼Œè€Œä¸å•æ˜¯æµè§ˆå™¨è¯·æ±‚çš„é‚£ä¸ªæ–¹æ³•ã€‚è¿™æ˜¯ä¸ºäº†é¿å…å¤šæ¬¡â€é¢„æ£€â€è¯·æ±‚ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰Access-Control-Allow-Headers</strong></p>
<p>å¦‚æœæµè§ˆå™¨è¯·æ±‚åŒ…æ‹¬<code>Access-Control-Request-Headers</code>å­—æ®µï¼Œåˆ™<code>Access-Control-Allow-Headers</code>å­—æ®µæ˜¯å¿…éœ€çš„ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºæµè§ˆå™¨åœ¨â€é¢„æ£€â€ä¸­è¯·æ±‚çš„å­—æ®µã€‚</p>
<p><strong>ï¼ˆ3ï¼‰Access-Control-Allow-Credentials</strong></p>
<p>è¯¥å­—æ®µä¸ç®€å•è¯·æ±‚æ—¶çš„å«ä¹‰ç›¸åŒã€‚</p>
<p><strong>ï¼ˆ4ï¼‰Access-Control-Max-Age</strong></p>
<p>è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚ä¸Šé¢ç»“æœä¸­ï¼Œæœ‰æ•ˆæœŸæ˜¯20å¤©ï¼ˆ1728000ç§’ï¼‰ï¼Œå³å…è®¸ç¼“å­˜è¯¥æ¡å›åº”1728000ç§’ï¼ˆå³20å¤©ï¼‰ï¼Œåœ¨æ­¤æœŸé—´ï¼Œä¸ç”¨å‘å‡ºå¦ä¸€æ¡é¢„æ£€è¯·æ±‚ã€‚</p>
<h3 id="4-3-æµè§ˆå™¨çš„æ­£å¸¸è¯·æ±‚å’Œå›åº”"><a href="#4-3-æµè§ˆå™¨çš„æ­£å¸¸è¯·æ±‚å’Œå›åº”" class="headerlink" title="4.3 æµè§ˆå™¨çš„æ­£å¸¸è¯·æ±‚å’Œå›åº”"></a>4.3 æµè§ˆå™¨çš„æ­£å¸¸è¯·æ±‚å’Œå›åº”</h3><p>ä¸€æ—¦æœåŠ¡å™¨é€šè¿‡äº†â€é¢„æ£€â€è¯·æ±‚ï¼Œä»¥åæ¯æ¬¡æµè§ˆå™¨æ­£å¸¸çš„CORSè¯·æ±‚ï¼Œå°±éƒ½è·Ÿç®€å•è¯·æ±‚ä¸€æ ·ï¼Œä¼šæœ‰ä¸€ä¸ª<code>Origin</code>å¤´ä¿¡æ¯å­—æ®µã€‚æœåŠ¡å™¨çš„å›åº”ï¼Œä¹Ÿéƒ½ä¼šæœ‰ä¸€ä¸ª<code>Access-Control-Allow-Origin</code>å¤´ä¿¡æ¯å­—æ®µã€‚</p>
<p>ä¸‹é¢æ˜¯â€é¢„æ£€â€è¯·æ±‚ä¹‹åï¼Œæµè§ˆå™¨çš„æ­£å¸¸CORSè¯·æ±‚ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http">PUT /cors HTTP/1.1
<span class="token header-name keyword">Origin:</span> http://api.bob.com
<span class="token header-name keyword">Host:</span> api.alice.com
<span class="token header-name keyword">X-Custom-Header:</span> value
<span class="token header-name keyword">Accept-Language:</span> en-US
<span class="token header-name keyword">Connection:</span> keep-alive
<span class="token header-name keyword">User-Agent:</span> Mozilla/5.0...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢å¤´ä¿¡æ¯çš„<code>Origin</code>å­—æ®µæ˜¯æµè§ˆå™¨è‡ªåŠ¨æ·»åŠ çš„ã€‚</p>
<p>ä¸‹é¢æ˜¯æœåŠ¡å™¨æ­£å¸¸çš„å›åº”ã€‚</p>
<pre class="line-numbers language-http"><code class="language-http"><span class="token header-name keyword">Access-Control-Allow-Origin:</span> http://api.bob.com
<span class="token header-name keyword">Content-Type:</span> text/html; charset=utf-8
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¸Šé¢å¤´ä¿¡æ¯ä¸­ï¼Œ<code>Access-Control-Allow-Origin</code>å­—æ®µæ˜¯æ¯æ¬¡å›åº”éƒ½å¿…å®šåŒ…å«çš„ã€‚</p>
<h2 id="äº”ã€ä¸JSONPçš„æ¯”è¾ƒ"><a href="#äº”ã€ä¸JSONPçš„æ¯”è¾ƒ" class="headerlink" title="äº”ã€ä¸JSONPçš„æ¯”è¾ƒ"></a>äº”ã€ä¸JSONPçš„æ¯”è¾ƒ</h2><p>CORSä¸JSONPçš„ä½¿ç”¨ç›®çš„ç›¸åŒï¼Œä½†æ˜¯æ¯”JSONPæ›´å¼ºå¤§ã€‚</p>
<p>JSONPåªæ”¯æŒ<code>GET</code>è¯·æ±‚ï¼ŒCORSæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ã€‚JSONPçš„ä¼˜åŠ¿åœ¨äºæ”¯æŒè€å¼æµè§ˆå™¨ï¼Œä»¥åŠå¯ä»¥å‘ä¸æ”¯æŒCORSçš„ç½‘ç«™è¯·æ±‚æ•°æ®ã€‚</p>
<p>ï¼ˆå®Œï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;è·¨åŸŸèµ„æºå…±äº«-CORS-è¯¦è§£&quot;&gt;&lt;a href=&quot;#è·¨åŸŸèµ„æºå…±äº«-CORS-è¯¦è§£&quot; class=&quot;headerlink&quot; title=&quot;è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£&quot;&gt;&lt;/a&gt;è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£&lt;/h1&gt;&lt;p&gt;CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚&lt;br&gt;å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡º&lt;code&gt;XMLHttpRequest&lt;/code&gt;è¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½&lt;strong&gt;åŒæº&lt;/strong&gt;ä½¿ç”¨çš„é™åˆ¶ã€‚&lt;br&gt;æœ¬æ–‡è¯¦ç»†ä»‹ç»CORSçš„å†…éƒ¨æœºåˆ¶ã€‚&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Go Channel</title>
    <link href="http://yusank.github.io/Go%20Channel.html/"/>
    <id>http://yusank.github.io/Go Channel.html/</id>
    <published>2017-01-07T04:20:00.000Z</published>
    <updated>2017-08-17T07:09:59.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>è®²è§£ Golang çš„ channelï¼ˆé€šé“ï¼‰ï¼Œå­¦ go è¯­è¨€çš„æœ‰å¿…è¦çœ‹ä¸€ä¸‹ã€‚ä»¥ä¸‹æ­£æ–‡ã€‚ã€‚ã€‚</p>
<hr>
<h1 id="Go-Channel-è¯¦è§£"><a href="#Go-Channel-è¯¦è§£" class="headerlink" title="Go Channel è¯¦è§£"></a>Go Channel è¯¦è§£</h1><p>Channelæ˜¯Goä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç±»å‹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªç®¡é“ï¼Œé€šè¿‡å®ƒå¹¶å‘æ ¸å¿ƒå•å…ƒå°±å¯ä»¥å‘é€æˆ–è€…æ¥æ”¶æ•°æ®è¿›è¡Œé€šè®¯(communication)ã€‚</p>
<p>å®ƒçš„æ“ä½œç¬¦æ˜¯ç®­å¤´ <strong>&lt;-</strong> ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">ch <span class="token operator">&lt;-</span> v    
v <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>(ç®­å¤´çš„æŒ‡å‘å°±æ˜¯æ•°æ®çš„æµå‘)</p>
<p>å°±åƒ map å’Œ slice æ•°æ®ç±»å‹ä¸€æ ·, channelå¿…é¡»å…ˆåˆ›å»ºå†ä½¿ç”¨:</p>
<pre class="line-numbers language-go"><code class="language-go">ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Channel-ç±»å‹"><a href="#Channel-ç±»å‹" class="headerlink" title="Channel ç±»å‹"></a>Channel ç±»å‹</h2><p>Channelç±»å‹çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">ChannelType <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token string">"chan"</span> <span class="token operator">|</span> <span class="token string">"chan"</span> <span class="token string">"&lt;-"</span> <span class="token operator">|</span> <span class="token string">"&lt;-"</span> <span class="token string">"chan"</span> <span class="token punctuation">)</span> ElementType <span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®ƒåŒ…æ‹¬ä¸‰ç§ç±»å‹çš„å®šä¹‰ã€‚å¯é€‰çš„<code>&lt;-</code>ä»£è¡¨channelçš„æ–¹å‘ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šæ–¹å‘ï¼Œé‚£ä¹ˆChannelå°±æ˜¯åŒå‘çš„ï¼Œæ—¢å¯ä»¥æ¥æ”¶æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘é€æ•°æ®ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">chan</span> T          <span class="token comment" spellcheck="true">// å¯ä»¥æ¥æ”¶å’Œå‘é€ç±»å‹ä¸º T çš„æ•°æ®</span>
<span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">float64</span>  <span class="token comment" spellcheck="true">// åªå¯ä»¥ç”¨æ¥å‘é€ float64 ç±»å‹çš„æ•°æ®</span>
<span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span>      <span class="token comment" spellcheck="true">// åªå¯ä»¥ç”¨æ¥æ¥æ”¶ int ç±»å‹çš„æ•°æ®</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><code>&lt;-</code>æ€»æ˜¯ä¼˜å…ˆå’Œæœ€å·¦è¾¹çš„ç±»å‹ç»“åˆã€‚(The &lt;- operator associates with the leftmost chan possible)</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token keyword">chan</span> <span class="token builtin">int</span>    <span class="token comment" spellcheck="true">// ç­‰ä»· chan&lt;- (chan int)</span>
<span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span>  <span class="token comment" spellcheck="true">// ç­‰ä»· chan&lt;- (&lt;-chan int)</span>
<span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span>  <span class="token comment" spellcheck="true">// ç­‰ä»· &lt;-chan (&lt;-chan int)</span>
<span class="token keyword">chan</span> <span class="token punctuation">(</span><span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨<code>make</code>åˆå§‹åŒ–Channel,å¹¶ä¸”å¯ä»¥è®¾ç½®å®¹é‡:</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®¹é‡(capacity)ä»£è¡¨Channelå®¹çº³çš„æœ€å¤šçš„å…ƒç´ çš„æ•°é‡ï¼Œä»£è¡¨Channelçš„ç¼“å­˜çš„å¤§å°ã€‚<br>å¦‚æœæ²¡æœ‰è®¾ç½®å®¹é‡ï¼Œæˆ–è€…å®¹é‡è®¾ç½®ä¸º0, è¯´æ˜Channelæ²¡æœ‰ç¼“å­˜ï¼Œåªæœ‰senderå’Œreceiveréƒ½å‡†å¤‡å¥½äº†åå®ƒä»¬çš„é€šè®¯(communication)æ‰ä¼šå‘ç”Ÿ(Blocking)ã€‚å¦‚æœè®¾ç½®äº†ç¼“å­˜ï¼Œå°±æœ‰å¯èƒ½ä¸å‘ç”Ÿé˜»å¡ï¼Œ åªæœ‰bufferæ»¡äº†å sendæ‰ä¼šé˜»å¡ï¼Œ è€Œåªæœ‰ç¼“å­˜ç©ºäº†åreceiveæ‰ä¼šé˜»å¡ã€‚ä¸€ä¸ªnil channelä¸ä¼šé€šä¿¡ã€‚</p>
<p>å¯ä»¥é€šè¿‡å†…å»ºçš„<code>close</code>æ–¹æ³•å¯ä»¥å…³é—­Channelã€‚</p>
<p>ä½ å¯ä»¥åœ¨å¤šä¸ªgoroutineä»/å¾€ ä¸€ä¸ªchannel ä¸­ receive/send æ•°æ®, ä¸å¿…è€ƒè™‘é¢å¤–çš„åŒæ­¥æªæ–½ã€‚</p>
<p>Channelå¯ä»¥ä½œä¸ºä¸€ä¸ªå…ˆå…¥å…ˆå‡º(FIFO)çš„é˜Ÿåˆ—ï¼Œæ¥æ”¶çš„æ•°æ®å’Œå‘é€çš„æ•°æ®çš„é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚</p>
<p>channelçš„ receiveæ”¯æŒ <em>multi-valued assignment</em>ï¼Œå¦‚</p>
<pre class="line-numbers language-go"><code class="language-go">v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å®ƒå¯ä»¥ç”¨æ¥æ£€æŸ¥Channelæ˜¯å¦å·²ç»è¢«å…³é—­äº†ã€‚</p>
<ol>
<li><strong>sendè¯­å¥</strong><br>sendè¯­å¥ç”¨æ¥å¾€Channelä¸­å‘é€æ•°æ®ï¼Œ å¦‚<code>ch &lt;- 3</code>ã€‚<br>å®ƒçš„å®šä¹‰å¦‚ä¸‹:</li>
</ol>
<pre class="line-numbers language-go"><code class="language-go">SendStmt <span class="token operator">=</span> Channel <span class="token string">"&lt;-"</span> Expression <span class="token punctuation">.</span>
Channel  <span class="token operator">=</span> Expression <span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åœ¨é€šè®¯(communication)å¼€å§‹å‰channelå’Œexpressionå¿…é€‰å…ˆæ±‚å€¼å‡ºæ¥(evaluated)ï¼Œæ¯”å¦‚ä¸‹é¢çš„(3+4)å…ˆè®¡ç®—å‡º7ç„¶åå†å‘é€ç»™channelã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">defer</span> <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c <span class="token operator">&lt;-</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
i <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>sendè¢«æ‰§è¡Œå‰(proceed)é€šè®¯(communication)ä¸€ç›´è¢«é˜»å¡ç€ã€‚å¦‚å‰æ‰€è¨€ï¼Œæ— ç¼“å­˜çš„channelåªæœ‰åœ¨receiverå‡†å¤‡å¥½åsendæ‰è¢«æ‰§è¡Œã€‚å¦‚æœæœ‰ç¼“å­˜ï¼Œå¹¶ä¸”ç¼“å­˜æœªæ»¡ï¼Œåˆ™sendä¼šè¢«æ‰§è¡Œã€‚</p>
<p>å¾€ä¸€ä¸ªå·²ç»è¢«closeçš„channelä¸­ç»§ç»­å‘é€æ•°æ®ä¼šå¯¼è‡´<strong>run-time panic</strong>ã€‚</p>
<p>å¾€nil channelä¸­å‘é€æ•°æ®ä¼šä¸€è‡´è¢«é˜»å¡ç€ã€‚</p>
<ol>
<li>receive æ“ä½œç¬¦<br><code>&lt;-ch</code>ç”¨æ¥ä»channel chä¸­æ¥æ”¶æ•°æ®ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¼šä¸€ç›´è¢«block,ç›´åˆ°æœ‰æ•°æ®å¯ä»¥æ¥æ”¶ã€‚</li>
</ol>
<p>ä»ä¸€ä¸ªnil channelä¸­æ¥æ”¶æ•°æ®ä¼šä¸€ç›´è¢«blockã€‚</p>
<p>ä»ä¸€ä¸ªè¢«closeçš„channelä¸­æ¥æ”¶æ•°æ®ä¸ä¼šè¢«é˜»å¡ï¼Œè€Œæ˜¯ç«‹å³è¿”å›ï¼Œæ¥æ”¶å®Œå·²å‘é€çš„æ•°æ®åä¼šè¿”å›å…ƒç´ ç±»å‹çš„é›¶å€¼(zero value)ã€‚</p>
<p>å¦‚å‰æ‰€è¿°ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„è¿”å›å‚æ•°æ¥æ£€æŸ¥channelæ˜¯å¦å…³é—­ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">x<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch
x<span class="token punctuation">,</span> ok <span class="token operator">=</span> <span class="token operator">&lt;-</span>ch
<span class="token keyword">var</span> x<span class="token punctuation">,</span> ok <span class="token operator">=</span> <span class="token operator">&lt;-</span>ch
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="blocking"><a href="#blocking" class="headerlink" title="blocking"></a>blocking</h2><p>ç¼ºçœæƒ…å†µä¸‹ï¼Œå‘é€å’Œæ¥æ”¶ä¼šä¸€ç›´é˜»å¡ç€ï¼ŒçŸ¥é“å¦ä¸€æ–¹å‡†å¤‡å¥½ã€‚è¿™ç§æ–¹å¼å¯ä»¥ç”¨æ¥åœ¨gororutineä¸­è¿›è¡ŒåŒæ­¥ï¼Œè€Œä¸å¿…ä½¿ç”¨æ˜¾ç¤ºçš„é”æˆ–è€…æ¡ä»¶å˜é‡ã€‚</p>
<p>å¦‚å®˜æ–¹çš„ä¾‹å­ä¸­<code>x, y := &lt;-c, &lt;-c</code>è¿™å¥ä¼šä¸€ç›´ç­‰å¾…è®¡ç®—ç»“æœå‘é€åˆ°channelä¸­ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">sum</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> c <span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">:=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> v
    <span class="token punctuation">}</span>
    c <span class="token operator">&lt;-</span> sum 
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>
    c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token function">sum</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token function">sum</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    x<span class="token punctuation">,</span> y <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c<span class="token punctuation">,</span> <span class="token operator">&lt;-</span>c <span class="token comment" spellcheck="true">// receive from c</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Buffered-Channels"><a href="#Buffered-Channels" class="headerlink" title="Buffered Channels"></a>Buffered Channels</h2><p>makeçš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šç¼“å­˜çš„å¤§å°ï¼š<code>ch := make(chan int, 100)</code>ã€‚</p>
<p>é€šè¿‡ç¼“å­˜çš„ä½¿ç”¨ï¼Œå¯ä»¥å°½é‡é¿å…é˜»å¡ï¼Œæä¾›åº”ç”¨çš„æ€§èƒ½ã€‚</p>
<h2 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h2><p><code>for â€¦â€¦ range</code>è¯­å¥å¯ä»¥å¤„ç†Channelã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">{</span>
            c <span class="token operator">&lt;-</span> i
        <span class="token punctuation">}</span>
        <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> c <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Finished"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>range c</code>äº§ç”Ÿçš„è¿­ä»£å€¼ä¸ºChannelä¸­å‘é€çš„å€¼ï¼Œå®ƒä¼šä¸€ç›´è¿­ä»£çŸ¥é“channelè¢«å…³é—­ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­å¦‚æœæŠŠ<code>close(c)</code>æ³¨é‡Šæ‰ï¼Œç¨‹åºä¼šä¸€ç›´é˜»å¡åœ¨<code>for â€¦â€¦ range</code>é‚£ä¸€è¡Œã€‚</p>
<h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p><code>select</code>è¯­å¥é€‰æ‹©ä¸€ç»„å¯èƒ½çš„sendæ“ä½œå’Œreceiveæ“ä½œå»å¤„ç†ã€‚å®ƒç±»ä¼¼<code>switch</code>,ä½†æ˜¯åªæ˜¯ç”¨æ¥å¤„ç†é€šè®¯(communication)æ“ä½œã€‚<br>å®ƒçš„<code>case</code>å¯ä»¥æ˜¯sendè¯­å¥ï¼Œä¹Ÿå¯ä»¥æ˜¯receiveè¯­å¥ï¼Œäº¦æˆ–è€…<code>default</code>ã€‚</p>
<p><code>receive</code>è¯­å¥å¯ä»¥å°†å€¼èµ‹å€¼ç»™ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå˜é‡ã€‚å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªreceiveæ“ä½œã€‚</p>
<p>æœ€å¤šå…è®¸æœ‰ä¸€ä¸ª<code>default case</code>,å®ƒå¯ä»¥æ”¾åœ¨caseåˆ—è¡¨çš„ä»»ä½•ä½ç½®ï¼Œå°½ç®¡æˆ‘ä»¬å¤§éƒ¨åˆ†ä¼šå°†å®ƒæ”¾åœ¨æœ€åã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> quit <span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">,</span> y <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token keyword">select</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> c <span class="token operator">&lt;-</span> x<span class="token punctuation">:</span>
            x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>y
        <span class="token keyword">case</span> <span class="token operator">&lt;-</span>quit<span class="token punctuation">:</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"quit"</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
    quit <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>c<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        quit <span class="token operator">&lt;-</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">fibonacci</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> quit<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœæœ‰åŒæ—¶å¤šä¸ªcaseå»å¤„ç†,æ¯”å¦‚åŒæ—¶æœ‰å¤šä¸ªchannelå¯ä»¥æ¥æ”¶æ•°æ®ï¼Œé‚£ä¹ˆGoä¼šä¼ªéšæœºçš„é€‰æ‹©ä¸€ä¸ªcaseå¤„ç†(pseudo-random)ã€‚å¦‚æœæ²¡æœ‰caseéœ€è¦å¤„ç†ï¼Œåˆ™ä¼šé€‰æ‹©<code>default</code>å»å¤„ç†ï¼Œå¦‚æœ<code>default case</code>å­˜åœ¨çš„æƒ…å†µä¸‹ã€‚å¦‚æœæ²¡æœ‰<code>default case</code>ï¼Œåˆ™<code>select</code>è¯­å¥ä¼šé˜»å¡ï¼Œç›´åˆ°æŸä¸ªcaseéœ€è¦å¤„ç†ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnil channelä¸Šçš„æ“ä½œä¼šä¸€ç›´è¢«é˜»å¡ï¼Œå¦‚æœæ²¡æœ‰default case,åªæœ‰nil channelçš„selectä¼šä¸€ç›´è¢«é˜»å¡ã€‚</p>
<p><code>select</code>è¯­å¥å’Œ<code>switch</code>è¯­å¥ä¸€æ ·ï¼Œå®ƒä¸æ˜¯å¾ªç¯ï¼Œå®ƒåªä¼šé€‰æ‹©ä¸€ä¸ªcaseæ¥å¤„ç†ï¼Œå¦‚æœæƒ³ä¸€ç›´å¤„ç†channelï¼Œä½ å¯ä»¥åœ¨å¤–é¢åŠ ä¸€ä¸ªæ— é™çš„forå¾ªç¯ï¼š</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">for</span> <span class="token punctuation">{</span>
    <span class="token keyword">select</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> c <span class="token operator">&lt;-</span> x<span class="token punctuation">:</span>
        x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x<span class="token operator">+</span>y
    <span class="token keyword">case</span> <span class="token operator">&lt;-</span>quit<span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"quit"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="timeout"><a href="#timeout" class="headerlink" title="timeout"></a>timeout</h3><p><code>select</code>æœ‰å¾ˆé‡è¦çš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯è¶…æ—¶å¤„ç†ã€‚ å› ä¸ºä¸Šé¢æˆ‘ä»¬æåˆ°ï¼Œå¦‚æœæ²¡æœ‰caseéœ€è¦å¤„ç†ï¼Œselectè¯­å¥å°±ä¼šä¸€ç›´é˜»å¡ç€ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯èƒ½å°±éœ€è¦ä¸€ä¸ªè¶…æ—¶æ“ä½œï¼Œç”¨æ¥å¤„ç†è¶…æ—¶çš„æƒ…å†µã€‚<br>ä¸‹é¢è¿™ä¸ªä¾‹å­æˆ‘ä»¬ä¼šåœ¨2ç§’åå¾€channel c1ä¸­å‘é€ä¸€ä¸ªæ•°æ®ï¼Œä½†æ˜¯<code>select</code>è®¾ç½®ä¸º1ç§’è¶…æ—¶,å› æ­¤æˆ‘ä»¬ä¼šæ‰“å°å‡º<code>timeout 1</code>,è€Œä¸æ˜¯<code>result 1</code>ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token string">"time"</span>
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        c1 <span class="token operator">&lt;-</span> <span class="token string">"result 1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">select</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> res <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c1<span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token operator">&lt;-</span>time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"timeout 1"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶å®å®ƒåˆ©ç”¨çš„æ˜¯<code>time.After</code>æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªç±»å‹ä¸º<code>&lt;-chan Time</code>çš„å•å‘çš„channelï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´å‘é€ä¸€ä¸ªå½“å‰æ—¶é—´ç»™è¿”å›çš„channelä¸­ã€‚</p>
<h2 id="Timer-å’Œ-Ticker"><a href="#Timer-å’Œ-Ticker" class="headerlink" title="Timer å’Œ Ticker"></a>Timer å’Œ Ticker</h2><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹å…³äºæ—¶é—´çš„ä¸¤ä¸ªChannelã€‚<br>timeræ˜¯ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä»£è¡¨æœªæ¥çš„ä¸€ä¸ªå•ä¸€äº‹ä»¶ï¼Œä½ å¯ä»¥å‘Šè¯‰timerä½ è¦ç­‰å¾…å¤šé•¿æ—¶é—´ï¼Œå®ƒæä¾›ä¸€ä¸ªChannelï¼Œåœ¨å°†æ¥çš„é‚£ä¸ªæ—¶é—´é‚£ä¸ªChannelæä¾›äº†ä¸€ä¸ªæ—¶é—´å€¼ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ç¬¬äºŒè¡Œä¼šé˜»å¡2ç§’é’Ÿå·¦å³çš„æ—¶é—´ï¼Œç›´åˆ°æ—¶é—´åˆ°äº†æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">timer1 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">NewTimer</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&lt;-</span>timer1<span class="token punctuation">.</span>C
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Timer 1 expired"</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>å½“ç„¶å¦‚æœä½ åªæ˜¯æƒ³å•çº¯çš„ç­‰å¾…çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>time.Sleep</code>æ¥å®ç°ã€‚</p>
<p>ä½ è¿˜å¯ä»¥ä½¿ç”¨<code>timer.Stop</code>æ¥åœæ­¢è®¡æ—¶å™¨ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">timer2 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">NewTimer</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;-</span>timer2<span class="token punctuation">.</span>C
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Timer 2 expired"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
stop2 <span class="token operator">:=</span> timer2<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> stop2 <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Timer 2 stopped"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>ticker</code>æ˜¯ä¸€ä¸ªå®šæ—¶è§¦å‘çš„è®¡æ—¶å™¨ï¼Œå®ƒä¼šä»¥ä¸€ä¸ªé—´éš”(interval)å¾€Channelå‘é€ä¸€ä¸ªäº‹ä»¶(å½“å‰æ—¶é—´)ï¼Œè€ŒChannelçš„æ¥æ”¶è€…å¯ä»¥ä»¥å›ºå®šçš„æ—¶é—´é—´éš”ä»Channelä¸­è¯»å–äº‹ä»¶ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­tickeræ¯500æ¯«ç§’è§¦å‘ä¸€æ¬¡ï¼Œä½ å¯ä»¥è§‚å¯Ÿè¾“å‡ºçš„æ—¶é—´ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">ticker <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">NewTicker</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Millisecond <span class="token operator">*</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> ticker<span class="token punctuation">.</span>C <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Tick at"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç±»ä¼¼timer, tickerä¹Ÿå¯ä»¥é€šè¿‡<code>Stop</code>æ–¹æ³•æ¥åœæ­¢ã€‚ä¸€æ—¦å®ƒåœæ­¢ï¼Œæ¥æ”¶è€…ä¸å†ä¼šä»channelä¸­æ¥æ”¶æ•°æ®äº†ã€‚</p>
<h2 id="close"><a href="#close" class="headerlink" title="close"></a>close</h2><p>å†…å»ºçš„closeæ–¹æ³•å¯ä»¥ç”¨æ¥å…³é—­channelã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹channelå…³é—­åsenderçš„receiveræ“ä½œã€‚<br>å¦‚æœchannel cå·²ç»è¢«å…³é—­,ç»§ç»­å¾€å®ƒå‘é€æ•°æ®ä¼šå¯¼è‡´<code>panic: send on closed channel</code>:</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token string">"time"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    c <span class="token operator">&lt;-</span> <span class="token number">1</span>
    c <span class="token operator">&lt;-</span> <span class="token number">2</span>
    <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    c <span class="token operator">&lt;-</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½†æ˜¯ä»è¿™ä¸ªå…³é—­çš„channelä¸­ä¸ä½†å¯ä»¥è¯»å–å‡ºå·²å‘é€çš„æ•°æ®ï¼Œè¿˜å¯ä»¥ä¸æ–­çš„è¯»å–é›¶å€¼:</p>
<pre class="line-numbers language-go"><code class="language-go">c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
c <span class="token operator">&lt;-</span> <span class="token number">1</span>
c <span class="token operator">&lt;-</span> <span class="token number">2</span>
<span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//1</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//2</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//0</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//0</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½†æ˜¯å¦‚æœé€šè¿‡<code>range</code>è¯»å–ï¼Œchannelå…³é—­åforå¾ªç¯ä¼šè·³å‡ºï¼š</p>
<pre class="line-numbers language-go"><code class="language-go">c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
c <span class="token operator">&lt;-</span> <span class="token number">1</span>
c <span class="token operator">&lt;-</span> <span class="token number">2</span>
<span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> c <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é€šè¿‡<code>i, ok := &lt;-c</code>å¯ä»¥æŸ¥çœ‹Channelçš„çŠ¶æ€ï¼Œåˆ¤æ–­å€¼æ˜¯é›¶å€¼è¿˜æ˜¯æ­£å¸¸è¯»å–çš„å€¼ã€‚</p>
<pre class="line-numbers language-go"><code class="language-go">c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>

i<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%d, %t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> ok<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//0, false</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h2><p>channelå¯ä»¥ç”¨åœ¨goroutineä¹‹é—´çš„åŒæ­¥ã€‚<br>ä¸‹é¢çš„ä¾‹å­ä¸­main goroutineé€šè¿‡done channelç­‰å¾…workerå®Œæˆä»»åŠ¡ã€‚ workeråšå®Œä»»åŠ¡ååªéœ€å¾€channelå‘é€ä¸€ä¸ªæ•°æ®å°±å¯ä»¥é€šçŸ¥main goroutineä»»åŠ¡å®Œæˆã€‚</p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"time"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>done <span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// é€šçŸ¥ä»»åŠ¡å·²å®Œæˆ</span>
    done <span class="token operator">&lt;-</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    done <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// ç­‰å¾…ä»»åŠ¡å®Œæˆ</span>
    <span class="token operator">&lt;-</span>done
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>[å‚è€ƒèµ„æ–™]ï¼š</strong></p>
<ol>
<li><a href="https://gobyexample.com/channels" target="_blank" rel="external">https://gobyexample.com/channels</a></li>
<li><a href="https://tour.golang.org/concurrency/2" target="_blank" rel="external">https://tour.golang.org/concurrency/2</a></li>
<li><a href="https://golang.org/ref/spec#Select_statements" target="_blank" rel="external">https://golang.org/ref/spec#Select_statements</a></li>
<li><a href="https://github.com/a8m/go-lang-cheat-sheet" target="_blank" rel="external">https://github.com/a8m/go-lang-cheat-sheet</a></li>
<li><a href="http://devs.cloudimmunity.com/gotchas-and-common-mistakes-in-go-golang/" target="_blank" rel="external">http://devs.cloudimmunity.com/gotchas-and-common-mistakes-in-go-golang/</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;è®²è§£ Golang çš„ channelï¼ˆé€šé“ï¼‰ï¼Œå­¦ go è¯­è¨€çš„æœ‰å¿…è¦çœ‹ä¸€
    
    </summary>
    
      <category term="GO" scheme="http://yusank.github.io/categories/GO/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker è¿›é˜¶ä¸å®è·µï¼ˆç¬¬ä¸€è®²ï¼‰</title>
    <link href="http://yusank.github.io/Docker.html/"/>
    <id>http://yusank.github.io/Docker.html/</id>
    <published>2017-01-03T10:11:00.000Z</published>
    <updated>2017-01-04T06:12:00.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>å­¦ä¹  Docker æŠ€æœ¯ï¼Œæ¯çœ‹å®Œä¸€ç« æˆ–å¤Ÿå†™ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™å°±ä¸Šä¼ ä¸€æ¬¡. è¿™ä¸€ç¯‡è®²å®¹å™¨æŠ€æœ¯ã€‚ä»¥ä¸‹æ­£æ–‡ã€‚ã€‚ã€‚<br><a id="more"></a></p>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><h3 id="å®¹å™¨æŠ€æœ¯"><a href="#å®¹å™¨æŠ€æœ¯" class="headerlink" title="å®¹å™¨æŠ€æœ¯"></a>å®¹å™¨æŠ€æœ¯</h3><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=437292675&auto=1&height=66"></iframe>

<p>å¯¹äºå®¹å™¨ï¼Œç›®å‰å¹¶æ²¡æœ‰ä¸€ä¸ªä¸¥æ ¼çš„å®šä¹‰ï¼Œä½†æ˜¯æ™®éè¢«è®¤å¯çš„è¯´æ³•æ˜¯ï¼Œå®ƒé¦–å…ˆå¿…é¡»æ˜¯ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ç¯å¢ƒï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šæœ‰ç‚¹ç±»ä¼¼è™šæ‹Ÿæœºï¼Œä½†æ˜¯æ²¡æœ‰è™šæ‹Ÿæœºé‚£ä¹ˆå½»åº•ã€‚å¦å¤–ï¼Œåœ¨ä¸€ä¸ªå®¹å™¨ç¯å¢ƒä¸­ï¼Œåº”è¯¥æœ€å°åŒ–å…¶å¯¹å¤–ç•Œçš„å½±å“ï¼Œæ¯”å¦‚ä¸èƒ½åœ¨å®¹å™¨ä¸­å§hostä¸Šçš„èµ„æºè€—å°½ï¼Œè¿™å°±æ˜¯èµ„æºçš„æ§åˆ¶ã€‚</p>
<p>å®¹å™¨æŠ€æœ¯ä¹‹æ‰€ä»¥å—æ¬¢è¿ï¼Œä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯å®ƒå·²ç»é›†æˆåˆ°äº† Linux å†…æ ¸ä¸­ï¼Œå·²ç»è¢«å½“ä½œ Linux å†…æ ¸åŸç”Ÿæä¾›çš„ç‰¹å¾ã€‚å½“ç„¶å…¶ä»–å¹³å°ä¹Ÿæœ‰ç›¸åº”çš„å®¹å™¨æŠ€æœ¯ï¼Œä½†æ˜¯æˆ‘ä»¬è®¨è®ºçš„ä»¥åŠDockeræ¶‰åŠçš„éƒ½æ˜¯æŒ‡ Linux å¹³å°ä¸Šçš„å®¹å™¨æŠ€æœ¯ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå®¹å™¨æŠ€æœ¯ä¸»è¦åŒ…æ‹¬Namespaceå’ŒCgroupä¸¤ä¸ªå†…æ ¸ç‰¹å¾ã€‚</p>
<ul>
<li>Namespace å‘½åç©ºé—´ï¼Œå®ƒä¸»è¦åšçš„æ˜¯è®¿é—®éš”ç¦»ã€‚å…¶åŸç†æ˜¯å¯¹ä¸€ç±»èµ„æºè¿›è¡ŒæŠ½è±¡ï¼Œå¹¶å°†å…¶å°è£…åœ¨ä¸€èµ·æä¾›ç»™å®¹å™¨ä½¿ç”¨ï¼Œå¯¹äºè¿™ç±»èµ„æºï¼Œå› ä¸ºæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„æŠ½è±¡ï¼Œè€Œä»–ä»¬å½¼æ­¤ä¹‹é—´æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥å°±åšåˆ°è®¿é—®éš”ç¦»ã€‚</li>
<li>Cgroupæ˜¯ control group çš„ç®€ç§°ï¼Œåˆç§°ä¸ºæ§åˆ¶ç»„ï¼Œå®ƒä¸»è¦æ˜¯æ§åˆ¶èµ„æºæ§åˆ¶ã€‚å…¶åŸç†æ˜¯å°†ä¸€ç»„è¿›ç¨‹æ”¾åœ¨ä¸€ä¸ªæ§åˆ¶ç»„é‡Œï¼Œé€šè¿‡ç»™è¿™ä¸ªæ§åˆ¶ç»„åˆ†é…æŒ‡å®šçš„å¯ç”¨èµ„æºï¼Œè¾¾åˆ°æ§åˆ¶è¿™ä¸€ç»„è¿›ç¨‹å¯ç”¨èµ„æºçš„ç›®çš„ã€‚</li>
</ul>
<p>å®¹å™¨æœ€æ ¸å¿ƒæŠ€æœ¯æ˜¯ Namespace+Cgroupï¼Œä½†æ˜¯å…‰æœ‰è¿™ä¸¤ä¸ªæŠ½è±¡çš„æŠ€æœ¯æ¦‚å¿µæ˜¯æ— æ³•ç»„æˆä¸€ä¸ªå®Œæ•´çš„å®¹å™¨çš„ã€‚<br>å¯¹äº linux å®¹å™¨çš„æœ€å°ç»„æˆï¼Œæ˜¯ç”±ä¸€ä¸‹å››ä¸ªéƒ¨åˆ†æ„æˆï¼š</p>
<ul>
<li>Cgroupï¼š èµ„æºæ§åˆ¶ã€‚</li>
<li>Namespaceï¼š è®¿é—®éš”ç¦»ã€‚</li>
<li>rootfsï¼š ç³»ç»Ÿæ–‡ä»¶éš”ç¦»ã€‚</li>
<li>å®¹å™¨å¼•æ“ï¼š ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ã€‚</li>
</ul>
<h2 id="å®¹å™¨çš„åˆ›å»ºåŸç†"><a href="#å®¹å™¨çš„åˆ›å»ºåŸç†" class="headerlink" title="å®¹å™¨çš„åˆ›å»ºåŸç†"></a>å®¹å™¨çš„åˆ›å»ºåŸç†</h2><p>ä»£ç ä¸€</p>
<pre class="line-numbers language-c"><code class="language-c">pid <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>fun<span class="token punctuation">,</span> stack<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> clone_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span>flags<span class="token punctuation">:</span> CLONE_NEWPID <span class="token operator">|</span> CLONE_NEWNS <span class="token operator">|</span>
     CLONE_NEWUSER <span class="token operator">|</span> CLONE_NEWNET <span class="token operator">|</span>
     CLONE_NEWIPC <span class="token operator">|</span> CLONE_NEWUTS <span class="token operator">|</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å¯¹äºä»¥ä¸Šä»£ç ï¼Œé€šè¿‡cloneç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ä¼ å…¥å„ä¸ªNamespaceå¯¹åº”çš„clone flagï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹æ‹¥æœ‰è‡ªå·±çš„Namespaceã€‚ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œè¯¥è¿›ç¨‹æ‹¥æœ‰è‡ªå·±çš„pid,mount,user,net,ipc,uts namespace ã€‚</li>
</ul>
<p>ä»£ç äºŒï¼š</p>
<pre class="line-numbers language-sh"><code class="language-sh">echo $pid > /sys/fs/cgroup/cpu/tasks
echo $pid > /sys/fs/cgroup/cpuset/tasks
echo $pid > /sys/fs/cgroup/blkio/tasks
echo $pid > /sys/fs/cgroup/memory/tasks
echo $pid > /sys/fs/cgroup/devices/tasks
echo $pid > /sys/fs/cgroup/freezer/tasks
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å¯¹äºä»£ç äºŒï¼Œå°†ä»£ç ä¸€ä¸­çš„pidå†™å…¥å„ä¸ªCgroupå­ç³»ç»Ÿä¸­ï¼Œè¿™æ ·è¯¥è¿›ç¨‹å°±å¯ä»¥å—åˆ°ç›¸åº”Cgroupå­ç³»ç»Ÿçš„æ§åˆ¶ã€‚</li>
</ul>
<p>ä»£ç ä¸‰ï¼š</p>
<pre class="line-numbers language-sh"><code class="language-sh">fun ()
{
    ...

    pivot_root("path_of_rootfs/", path);
    ...

    exec("/bin/bash");
    ...
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å¯¹äºä»£ç ä¸‰ï¼Œè¯¥funå‡½æ•°ç”±ä¸Šé¢ç”Ÿæˆçš„æ–°è¿›ç¨‹æ‰§è¡Œï¼Œåœ¨funå‡½æ•°ä¸­ï¼Œé€šè¿‡<code>pivot_root</code>ç³»ç»Ÿè°ƒç”¨ï¼Œä½¿è¿›ç¨‹è¿›å…¥æ–°çš„<code>rootfs</code>ï¼Œä¹‹åé€šè¿‡<code>exec</code>ç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨æ–°çš„<code>Namespace</code>,<code>Cgroup</code>,<code>rootfs</code>ä¸­æ‰§è¡Œ<code>&quot;/bin/bash&quot;</code>ç¨‹åºã€‚</li>
</ul>
<p>é€šè¿‡ä»¥ä¸Šæ“ä½œï¼ŒæˆåŠŸåœ¨ä¸€ä¸ªâ€œå®¹å™¨â€ä¸­è¿è¡Œäº†ä¸€ä¸ªbashç¨‹åºã€‚å¯¹äºCgroupå’ŒNamespaceçš„æŠ€æœ¯ç»†èŠ‚ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚è¯¦ç»†æè¿°</p>
<h1 id="Cgroup"><a href="#Cgroup" class="headerlink" title="Cgroup"></a>Cgroup</h1><h2 id="Cgroup-æ˜¯ä»€ä¹ˆ"><a href="#Cgroup-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Cgroup æ˜¯ä»€ä¹ˆ"></a>Cgroup æ˜¯ä»€ä¹ˆ</h2><p>Cgroupæ˜¯control group çš„ç®€å†™ï¼Œå±äº Linux å†…æ ¸æä¾›çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºé™åˆ¶å’Œéš”ç¦»ä¸€ç»„è¿›ç¨‹å¯¹ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ã€‚è¿™äº›èµ„æºä¸»è¦åŒ…æ‹¬ CPUï¼Œ å†…å­˜ï¼Œ block I/Oï¼ˆæ•°æ®å— I/Oï¼‰ å’Œç½‘ç»œå®½å¸¦ã€‚<br>Cgroup ä» 2.6.24ç‰ˆæœ¬è¿›å…¥å†…æ ¸ä¸»çº¿ï¼Œç›®å‰å„å¤§å‘è¡Œç‰ˆlinuxéƒ½é»˜è®¤æ‰“å¼€äº† Cgroup ç‰¹æ€§</p>
<p>ä»å®ç°çš„è§’åº¦æ¥çœ‹ï¼ŒCgroup å®ç°äº†ä¸€ä¸ªé€šç”¨çš„è¿›ç¨‹åˆ†ç»„çš„æ¡†æ¶ï¼Œè€Œä¸åŒèµ„æºçš„å…·ä½“ç®¡ç†åˆ™æ˜¯ç”±å„ä¸ª Cgroup å­ç³»ç»Ÿå®ç°çš„ã€‚æˆªæ­¢å†…æ ¸4.1ç‰ˆæœ¬ï¼ŒCgroup ä¸­å®ç°çš„å­ç³»ç»Ÿçš„åŠå…¶ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>devicesï¼š è®¾å¤‡æƒé™æ§åˆ¶</li>
<li>cpusetï¼š åˆ†é…æŒ‡å®šçš„CPUå’Œå†…å­˜èŠ‚ç‚¹</li>
<li>cpuï¼š æ§åˆ¶ CPU å ç”¨ç‡</li>
<li>cpuacctï¼š ç»Ÿè®¡ CPU ä½¿ç”¨æƒ…å†µ</li>
<li>memoryï¼š é™åˆ¶å†…å­˜çš„ä½¿ç”¨ä¸Šé™</li>
<li>freezerï¼š å†»ç»“ï¼ˆæš‚åœï¼‰Cgroup ä¸­çš„è¿›ç¨‹</li>
<li>net_clsï¼š é…åˆtcï¼ˆtraffic controllerï¼‰é™åˆ¶ç½‘ç»œå®½å¸¦</li>
<li>net_prioï¼š è®¾ç½®è¿›ç¨‹çš„ç½‘ç»œæµé‡ä¼˜å…ˆçº§</li>
<li>huge_tlbï¼š é™åˆ¶HugeTLBï¼ˆå—è¡¨ç¼“å†²åŒºï¼‰çš„ä½¿ç”¨</li>
<li>perf_eventï¼š å…è®¸ Perf å·¥å…·åŸºäºCgroupåˆ†ç»„åšæ€§èƒ½æµ‹è¯•</li>
</ul>
<h1 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h1><h2 id="Namespace-æ˜¯ä»€ä¹ˆ"><a href="#Namespace-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Namespace æ˜¯ä»€ä¹ˆ"></a>Namespace æ˜¯ä»€ä¹ˆ</h2><p>Namespace æ˜¯å°†å†…æ ¸çš„å…¨å±€èµ„æºåšå°è£…ï¼Œä½¿å¾—æ¯ä¸ªNamespaceéƒ½æœ‰æœ‰ä¸€ä»½ç‹¬ç«‹çš„èµ„æºï¼Œå› æ­¤ä¸åŒçš„è¿›ç¨‹å„è‡ªçš„ Namespace å†…å¯¹åŒä¸€ä¸ªèµ„æºçš„ä½¿ç”¨ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œæ‰§è¡Œ sethostname è¿™ä¸ªç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå¯ä»¥æ”¹å˜ç³»ç»Ÿçš„ä¸»æœºåï¼Œè¿™ä¸ªä¸»æœºåå°±æ˜¯ä¸€ä¸ªå†…æ ¸çš„å…¨å±€èµ„æºã€‚å†…æ ¸é€šè¿‡å®ç° UTS Namespaceï¼Œå¯ä»¥å°†ä¸åŒçš„è¿›ç¨‹åˆ†éš”åœ¨ä¸åŒçš„ UTS Namespace ä¸­ï¼Œåœ¨æŸä¸ª Namespace ä¿®æ”¹ä¸»æœºåæ—¶ï¼Œå¦ä¸€ä¸ª Namespace çš„ä¸»æœºåè¿˜æ˜¯ä¿æŒä¸å˜ã€‚</p>
<p>ç›®å‰ Linux å†…æ ¸æ€»å…±å®ç°äº†6ç§ Namespaceï¼š</p>
<ul>
<li>IPCï¼š éš”ç¦» System V IPC å’Œ POSIX æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>Networkï¼š éš”ç¦»ç½‘ç»œèµ„æº</li>
<li>Mountï¼š éš”ç¦»æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹</li>
<li>PIDï¼š éš”ç¦»è¿›ç¨‹ ID</li>
<li>UTSï¼š éš”ç¦»ä¸»æœºåå’ŒåŸŸå</li>
<li>Userï¼š éš”ç¦»ç”¨æˆ· ID å’Œ ç»„ ID</li>
</ul>
<p>Namespace å’Œ Cgroup çš„ä½¿ç”¨æ˜¯çµæ´»çš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸å°‘éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå› æ­¤ç›´æ¥æ“ä½œ Namespace å’Œ Cgroup å¹¶ä¸æ˜¯å¾ˆå®¹æ˜“ã€‚æ­£æ˜¯å› ä¸ºè¿™äº›åŸå› ï¼ŒDocker é€šè¿‡ Libcontainer æ¥å¤„ç†è¿™äº›åº•å±‚çš„äº‹æƒ…ã€‚è¿™æ ·ä¸€æ¥ï¼ŒDocker åªéœ€ç®€å•åœ°è°ƒç”¨ Libcontainer çš„ API ï¼Œå°±èƒ½å°†å®Œæ•´çš„å®¹å™¨æ­å»ºèµ·æ¥ã€‚è€Œä½œä¸º Docker çš„ç”¨æˆ·ï¼Œå°±æ›´ä¸ç”¨æ“å¿ƒè¿™äº›äº‹æƒ…äº†ã€‚</p>
<h1 id="å®¹å™¨é€ å°±-Docker"><a href="#å®¹å™¨é€ å°±-Docker" class="headerlink" title="å®¹å™¨é€ å°± Docker"></a>å®¹å™¨é€ å°± Docker</h1><p>å…³äºå®¹å™¨æ˜¯å¦æ˜¯ Docker çš„æŠ€æœ¯æ ¸å¿ƒæŠ€æœ¯ï¼Œä¸šç•Œä¸€ç›´å­˜åœ¨ç€äº‰è®®ã€‚</p>
<p>åœ¨ç†è§£äº†å®¹å™¨ï¼Œç†è§£äº†å®¹å™¨çš„æ ¸å¿ƒæŠ€æœ¯ Cgroup å’Œ Namespaceï¼Œç†è§£äº†å®¹å™¨æŠ€æœ¯å¦‚ä½•å·§å¦™ä¸”è½»é‡åœ°å®ç°â€œå®¹å™¨â€æœ¬èº«çš„èµ„æºæ§åˆ¶å’Œè®¿é—®éš”ç¦»ä¹‹åï¼Œå¯ä»¥çœ‹åˆ° Docker å’Œå®¹å™¨æ˜¯ä¸€ç§å®Œç¾çš„èåˆå’Œè¾…åŠ©ç›¸æˆçš„å…³ç³»ï¼Œå®ƒä»¬ä¸æ˜¯å”¯ä¸€çš„æ­é…ï¼Œä½†ä¸€å®šæ˜¯æœ€å®Œç¾çš„ç»“åˆï¼ˆç›®å‰æ¥è¯´ï¼‰ã€‚ä¸å…¶è¯´æ˜¯å®¹å™¨é€ å°±äº† Docker ï¼Œ ä¸å¦‚è¯´æ˜¯å®ƒä»¬é€ å°±äº†å½¼æ­¤ï¼Œå®¹å™¨æŠ€æœ¯è®© Docker å¾—åˆ°æ›´å¤šçš„åº”ç”¨å’Œæ¨å¹¿ï¼ŒDocker ä¹Ÿä½¿å¾—å®¹å™¨æŠ€æœ¯è¢«æ›´å¤šäººç†ŸçŸ¥ã€‚<br>[é¡»çŸ¥]ï¼š<b>è½¬è½½è¯·æ ‡æ˜å‡ºå¤„ï¼Œè¯·å°Šé‡ç¬”è€…å’Œä½œè€…çš„åŠŸåŠ³ï¼ŒO(âˆ©_âˆ©)Oè°¢è°¢ï¼</b><br>[å‚è€ƒ]:<b>Docker è¿›é˜¶ä¸å®è·µ  </b><i>åä¸ºDockerå®è·µå°ç»„ è‘—ï¼ˆæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼‰</i></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å­¦ä¹  Docker æŠ€æœ¯ï¼Œæ¯çœ‹å®Œä¸€ç« æˆ–å¤Ÿå†™ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™å°±ä¸Šä¼ ä¸€æ¬¡. è¿™ä¸€ç¯‡è®²å®¹å™¨æŠ€æœ¯ã€‚ä»¥ä¸‹æ­£æ–‡ã€‚ã€‚ã€‚&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Goddbye 2016 and Hello 2017</title>
    <link href="http://yusank.github.io/%E5%86%8D%E8%A7%81%E4%BA%862016%EF%BC%8C%E4%BD%A0%E5%A5%BD2017.html/"/>
    <id>http://yusank.github.io/å†è§äº†2016ï¼Œä½ å¥½2017.html/</id>
    <published>2016-12-31T09:07:55.000Z</published>
    <updated>2016-12-31T09:07:56.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>çªç„¶æƒ³å†™ä¸€ç¯‡æ–‡ç« çºªå¿µä¸€ä¸‹æˆ‘çš„2016ï¼Œè¯­æ–‡æ°´å¹³ä¸æ˜¯å¾ˆå¥½ï¼Œè¦æ˜¯å†™çš„ä¸å¥½ï¼Œå°±ä¸è¦åœ¨æ„å¤ªå¤šçš„ç»†èŠ‚äº†ï¼Œä»¥ä¸‹æ­£æ–‡ã€‚ã€‚ã€‚ã€‚<br><a id="more"></a></p>
<h2 id="å†è§äº†2016ï¼Œä½ å¥½2017"><a href="#å†è§äº†2016ï¼Œä½ å¥½2017" class="headerlink" title="å†è§äº†2016ï¼Œä½ å¥½2017"></a>å†è§äº†2016ï¼Œä½ å¥½2017</h2><p>æ¥ç‚¹éŸ³ä¹å§ï¼Œ</p>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=186560&auto=0&height=66"></iframe><br>â€‹    çºµè§‚è¿‡å»çš„è¿™ä¸€å¹´ï¼Œå‘ç”Ÿäº†å¾ˆå¤šæˆ‘æ²¡æœ‰é¢„æ–™çš„åˆ°æ—¶äº‹å„¿ï¼Œä¸ç®¡æ˜¯æ„Ÿæƒ…è¿˜æ˜¯å­¦ä¹ å·¥ä½œæ–¹é¢ã€‚</p>
<p>â€‹    å»å¹´çš„ä»Šå¤©æˆ‘åšäº†ä¸å°‘çš„è®¡åˆ’ï¼Œè®¸äº†ä¸å°‘çš„æ„¿ï¼Œä½†æ˜¯å®ç°äº†å‡ ä¸ªæ²¡åšåˆ°å‡ ä¸ªï¼Œç°åœ¨æˆ‘æ˜¯çœŸæƒ³ä¸å‡ºæ¥ã€‚ä»æˆ‘ç°åœ¨çš„æƒ…å†µæ¥çœ‹ï¼Œ2016è¿‡å¾—å¹¶ä¸æ˜¯å¾ˆç³Ÿç³•ï¼Œä¹Ÿè®¸å¯ä»¥ç”¨è¿‡å¾—è¿˜ä¸é”™çš„è¿™å¥è¯æ¥å½¢å®¹ã€‚</p>
<p>â€‹    å¯’å‡è·Ÿæ¯å¹´çš„å¯’å‡æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œç©å„¿åƒå–ï¼Œéè¦è¯´æœ‰åŒºåˆ«çš„è¯ï¼Œæˆ‘è¿˜æ˜¯æƒ³ä¸èµ·æ¥ä»»ä½•çš„åŒºåˆ«ã€å¾®ç¬‘ã€‘ã€‚3æœˆä»½å›å­¦æ ¡ï¼Œåšäº†æˆ‘äººç”Ÿç¬¬ä¸€æ¬¡çƒ«å‘ï¼Œè‡ªæˆ‘æ„Ÿè§‰è¿˜å¯ä»¥ã€‚ç”Ÿæ´»è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€ï¼Œå­¦ä¹ åƒé¥­å‘¨æœ«å‡ºå»é€šå®µã€‚å°±è¿™æ ·ï¼Œ2016å¹´ä¹Ÿå¿«ä¸€åŠäº†ï¼Œ6æœˆåˆçš„å‡ºå»æ—…æ¸¸ï¼Œç»™æˆ‘ä»¬æ¯ä¸ªäººä¸€æ¬¡éš¾å¿˜çš„å›å¿†ï¼Œé‚£å›å¿†å¦‚æ­¤çš„ç¾å¥½ï¼Œç”œèœœã€‚ç„¶è€Œå¥½æ¢¦æ€»æ˜¯ä¸é•¿çš„ï¼Œ6æœˆæœ«ï¼Œæˆ‘å¬åˆ°äº†ä¸€ä¸ªæˆ‘æœ€ä¸æƒ³å¬çš„ä¸€ä¸ªæ¶ˆæ¯ã€‚ä»¥å‰ä¸€ç›´ä»¥ä¸ºå¦‚æœçœŸæœ‰è¿™ä¹ˆä¸€å¤©ï¼Œæˆ‘ä¼šæ€ä¹ˆæ€ä¹ˆæ ·ã€‚ä½†æ˜¯çœŸçš„ç¢°åˆ°äº†è¿™ä¸ªæƒ…å†µçš„æ—¶å€™ï¼Œæˆ‘ä¸çŸ¥é“è¯¥å¹²å˜›äº†ï¼Œä¸çŸ¥é“è¯¥ä¸ºè‡ªå·±ä¼¤å¿ƒè¿˜æ˜¯ä¸ºå¥¹å¼€å¿ƒï¼Œä½†æ˜¯æˆ‘ä¸è®¤ä¸ºè¿™å°±æ˜¯æœ€ç»ˆç»“æœã€‚ä¸€ä¸ªå¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªä¸æ˜¯å¾ˆæ­£å¸¸çš„æš‘å‡çš„å¼€å§‹äº†ï¼Œé™¤äº†ä¸€ä¸ªæœˆå¸®è€çˆ¸è·‘è…¿å¼€è½¦ä»¥ä¸ºï¼Œæˆ‘è„‘å­é‡Œåªæœ‰ä¸€ä¸ªäººï¼Œä¹Ÿè®¸è¿™å°±æ˜¯çˆ±å§ã€‚ä½†æ˜¯æˆ‘ä¸€ç›´éƒ½åªåŠ¨å˜´çš®å­ä¸å¹²å®é™…æ€§çš„ï¼Œåˆ°ç›®å‰æˆ‘éƒ½å¾ˆåæ‚”è¿™äº‹å„¿ã€‚</p>
<p>â€‹    æš‘å‡ç»“æŸå›åˆ°å­¦æ ¡ä¸åˆ°ä¸¤ä¸ªæœˆï¼Œæˆ‘é‡åˆ°äº†æ€å¼‚ï¼Œé‡åˆ°äº†æˆ‘çš„äººç”Ÿè½¬æŠ˜ç‚¹ã€‚å¤§å­¦ä¸¤å¹´è’åºŸè¿‡å»çš„æˆ‘ç»ˆäºè§åˆ°ä¸€ä¸ç‚¹æ›™å…‰åœ¨è¿œå¤„å‘æˆ‘æ‹›æ‰‹ï¼Œæˆ‘ä¸èƒ½å†è’åºŸä¸‹å»äº†ï¼Œæˆ‘å¾—åŠªåŠ›ï¼Œæˆ‘å¾—ä¸ºä»¥åæ‰¾å‡ºè·¯ã€‚å°±è¿™æ ·ï¼Œæˆ‘çš„å‡ ä¹æ¯ä¸€å¤©éƒ½æ˜¯è¦ä¹ˆåœ¨å®ä¹ è¦ä¹ˆåœ¨å»å®ä¹ çš„è·¯ä¸Šåº¦è¿‡ï¼Œä¸€ç›´åˆ°ç°åœ¨ï¼Œ2016çš„æœ€åä¸€å¤©ã€‚</p>
<p>â€‹    è¿™å‡ ä¸ªæœˆï¼Œè·Ÿå¥¹å…³ç³»è¶Šæ¥è¶Šå¥½ï¼Œæ„Ÿè§‰å·²ç»ç¦»ä¸å¼€å¥¹äº†ã€‚æ¯æ¬¡è§åˆ°åˆ°éƒ½æ˜¯ä¸€ç§å¹¸ç¦æ»¡ï¼Œé‡åˆ°å¥¹æ˜¯æˆ‘å¤§å­¦ç”Ÿæ´»å‘ç”Ÿçš„æœ€å¹¸è¿æœ€å¹¸ç¦çš„äº‹æƒ…ï¼Œç»å¯¹æ²¡æœ‰ä¹‹ä¸€ã€‚</p>
<p>â€‹    æ—¶é—´æ€»æ˜¯è¿‡å¾—å¾ˆå¿«ï¼Œä¸€å¹´æ—¶é—´è¯´é•¿å¾ˆé•¿è¯´çŸ­å¾ˆçŸ­ï¼Œä¾ç„¶è®°å¾—å»å¹´çš„ä»Šå¤©ï¼Œä½†æ˜¯åˆè§‰å¾—æ˜¯å¾ˆä¹…ä¹‹å‰çš„äº‹å„¿ã€‚å†è¿‡å‡ ä¸ªå°æ—¶ï¼Œå°±å¾—é€2016äº†ï¼Œåœ¨é€å®ƒä¹‹å‰ï¼Œæˆ‘è¿˜æ˜¯è¦å¥½å¥½çš„æ„Ÿè°¢2016ï¼Œç»™æˆ‘è¿™ä¹ˆå¤šçš„å¿«ä¹çš„æ—¶å…‰ï¼Œç»™æˆ‘äº†é…å®¶äººé…çˆ±äººçš„æ—¶é—´ï¼Œè°¢è°¢ä½ ï¼ï¼ï¼</p>
<p>â€‹    åœ¨è¿™å„¿æˆ‘ä¸ä¼šè®¸ä»€ä¹ˆæ„¿åšä»€ä¹ˆè®¡åˆ’ï¼Œæˆ‘åªæ˜¯é™é™çš„ç­‰2017çš„åˆ°æ¥ï¼Œé™é™åœ°æ¬¢è¿å®ƒï¼Œä¸ç®¡æ˜¯åˆ°æ¥çš„æ˜¯å“ªä¸€å¹´ï¼Œæˆ‘åªæ˜¯å¸Œæœ›é™ªæˆ‘æ¬¢è¿æ–°ä¸€å¹´çš„äººï¼Œä¾ç„¶æ˜¯å¥¹ï¼</p>
<p>å†è§äº†2016ï¼Œ</p>
<p>â€‹                ä½ å¥½2017.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çªç„¶æƒ³å†™ä¸€ç¯‡æ–‡ç« çºªå¿µä¸€ä¸‹æˆ‘çš„2016ï¼Œè¯­æ–‡æ°´å¹³ä¸æ˜¯å¾ˆå¥½ï¼Œè¦æ˜¯å†™çš„ä¸å¥½ï¼Œå°±ä¸è¦åœ¨æ„å¤ªå¤šçš„ç»†èŠ‚äº†ï¼Œä»¥ä¸‹æ­£æ–‡ã€‚ã€‚ã€‚ã€‚&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>linuxå‘½ä»¤</title>
    <link href="http://yusank.github.io/linux%E5%91%BD%E4%BB%A4.html/"/>
    <id>http://yusank.github.io/linuxå‘½ä»¤.html/</id>
    <published>2016-12-28T05:13:13.000Z</published>
    <updated>2016-12-28T05:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>welcome to learn terminal command!!!<br><a id="more"></a></p>
<h1 id="linuxå‘½ä»¤"><a href="#linuxå‘½ä»¤" class="headerlink" title="linuxå‘½ä»¤"></a>linuxå‘½ä»¤</h1><h3 id="æ°¸ï¼è¿œï¼ä¸ï¼è¦ï¼æ‰§ï¼è¡Œï¼ä½ ï¼ä¸ï¼æ¸…ï¼æ¥šï¼åœ¨ï¼å¹²ï¼å•¥ï¼çš„ï¼å‘½ï¼ä»¤ï¼"><a href="#æ°¸ï¼è¿œï¼ä¸ï¼è¦ï¼æ‰§ï¼è¡Œï¼ä½ ï¼ä¸ï¼æ¸…ï¼æ¥šï¼åœ¨ï¼å¹²ï¼å•¥ï¼çš„ï¼å‘½ï¼ä»¤ï¼" class="headerlink" title="æ°¸ï¼è¿œï¼ä¸ï¼è¦ï¼æ‰§ï¼è¡Œï¼ä½ ï¼ä¸ï¼æ¸…ï¼æ¥šï¼åœ¨ï¼å¹²ï¼å•¥ï¼çš„ï¼å‘½ï¼ä»¤ï¼"></a>æ°¸ï¼è¿œï¼ä¸ï¼è¦ï¼æ‰§ï¼è¡Œï¼ä½ ï¼ä¸ï¼æ¸…ï¼æ¥šï¼åœ¨ï¼å¹²ï¼å•¥ï¼çš„ï¼å‘½ï¼ä»¤ï¼</h3><h2 id="å®ç”¨æ€§"><a href="#å®ç”¨æ€§" class="headerlink" title="å®ç”¨æ€§"></a>å®ç”¨æ€§</h2><pre class="line-numbers language-shell"><code class="language-shell">$ ls -l | sed '1d' | sort -n -k5 | awk '{printf "%15s %10s\n", $9,$5}'
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŒ‰æ–‡ä»¶å¤§å°å¢åºæ‰“å°å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ååŠå…¶æ–‡ä»¶å¤§å°(å•ä½å­—èŠ‚ï¼‰</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ history | awk '{print $2}' | sort | uniq -c | sort -rn | head -10
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¾“å‡ºä½ æœ€å¸¸ç”¨çš„åæ¡å‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ http POST http://localhost:4000/ < /<jsonæ–‡ä»¶è·¯å¾„>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åšæµ‹è¯•çš„æ—¶å€™å¾ˆæœ‰ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œéœ€è¦ä¸‹è½½http</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ brew install http
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ lsof -n -P -i TCP -s TCP:LISTEN

COMMAND  PID       USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
QQ       290 smartestee   33u  IPv4 0x2f3beaa58a62d73b      0t0  TCP 127.0.0.1:4300 (LISTEN)
QQ       290 smartestee   34u  IPv4 0x2f3beaa58c69673b      0t0  TCP 127.0.0.1:4301 (LISTEN)
idea    3257 smartestee  164u  IPv4 0x2f3beaa588d11e43      0t0  TCP 127.0.0.1:6942 (LISTEN)
idea    3257 smartestee  385u  IPv4 0x2f3beaa58c69316b      0t0  TCP 127.0.0.1:63342 (LISTEN)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æŸ¥çœ‹ç«¯å£çš„ä½¿ç”¨æƒ…å†µ</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ ps -ef
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŸ¥çœ‹è¿›ç¨‹</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ kill  xxxx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç«¯å£å†²çªæ—¶ï¼Œç”¨æ­¤å‘½ä»¤ï¼Œå…³é—­æŸä¸ªç«¯å£ã€‚ç”¨PIDæ›¿æ¢xxxx</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ history
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŸ¥çœ‹å†å²å‘½ä»¤è®°å½•</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ pwd
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å½“å‰ä½ç½®</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ which xx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>pathä½ç½®ï¼Œæ­å»ºç¯å¢ƒçš„æ—¶å€™è‚¯å®šä¼šç”¨å¾—åˆ°</p>
<h3 id="Linux-æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤"><a href="#Linux-æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤" class="headerlink" title="Linux æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤"></a>Linux æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤</h3><p>ä¿®æ”¹é—®ä»·æ‹¥æœ‰è€…</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ chgrp -R ç»„å æ–‡ä»¶ / ç›®å½•
$ chown -R è´¦æˆ·å æ–‡ä»¶ / ç›®å½•
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¿®æ”¹æ–‡ä»¶æƒé™</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ chmod
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>ä½¿ç”¨æ•°å­—<ul>
<li>rï¼š4, wï¼š2, xï¼š1</li>
<li>æ¯ç§èº«ä»½çš„æƒé™çš„ç´¯åŠ çš„ã€‚</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">$ chmod 777 test
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><p>ä½¿ç”¨ç¬¦å·ä¿®æ”¹</p>
<ul>
<li><p>u: user, g: group, o: others, a: all</p>
</li>
<li><p>æ·»åŠ æƒé™ç”¨+ï¼Œ é™¤å»ç”¨-ï¼Œ è®¾ç½®ç”¨=</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ chmod u=rwx, g=rw, o=r test
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ chmod a-x test
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ chmod go+r test
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>â€‹</p>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo !!
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä»¥rootæƒé™æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ï¼ˆæ³¨æ„ä¸Šä¸€æ¡å‘½ä»¤çš„å†…å®¹ï¼Œä»¥å…å‘ç”Ÿæ„å¤–ï¼‰</p>
<p>ä¾‹å¦‚ï¼šåœ¨Ubuntu å®‰è£…è½¯ä»¶æˆ–æ’ä»¶çš„æ—¶å€™éœ€è¦ç”¨åˆ°è¿™ä¸ªå‘½ä»¤</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ sudo apt-get install nginx
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æŸ¥çœ‹å’Œä¿®æ”¹ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ cat
$ more
$ less
$ head
$ tail

$ vi
$ vim

$ mkdir
$ touch
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><pre class="line-numbers language-shell"><code class="language-shell">$ git
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å…ˆç»™å‡ºæ¯”è¾ƒå¸¸ç”¨çš„</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ git add <ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶å(æ–‡ä»¶åä¹‹é—´æ˜¯ç”¨ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç‚¹ï¼Œè¡¨ç¤ºæ·»åŠ å…¨éƒ¨)>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ git commit -m "æ³¨é‡Š"
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æœ¬åœ°æäº¤</p>
<pre class="line-numbers language-powershell"><code class="language-powershell">$ git checkout &lt;åˆ†æ”¯åæˆ–master>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åˆ‡æ¢åˆ†æ”¯ä¸master</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ git branch <åˆ†æ”¯å>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ–°å¼€ä¸€ä¸ªåˆ†æ”¯</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ git merge <åˆ†æ”¯å>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä¸»åˆ†æ”¯ä¸åˆ†æ”¯çš„åˆå¹¶</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ git push origin master
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æäº¤åˆ°githubä¸Š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ fuck
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>çº æ­£å‘½ä»¤è¡Œè¾“å…¥çš„é”™è¯¯ï¼Œæ¯”æ‰‹åŠ¨æ”¹å¿«ï¼Œå®ç”¨ã€‚</p>
<p>å®‰è£…ï¼š</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ brew install thefuck
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="å¨±ä¹"><a href="#å¨±ä¹" class="headerlink" title="å¨±ä¹"></a>å¨±ä¹</h2><pre class="line-numbers language-shell"><code class="language-shell">$ cmatrix
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-shell"><code class="language-shell">$ telnet towel.blinkenlights.nl
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>telnetæ˜¯åŸºäºTelnetåè®®çš„è¿œç¨‹ç™»å½•å®¢æˆ·ç«¯ç¨‹åº,ç»å¸¸ç”¨æ¥è¿œç¨‹ç™»å½•æœåŠ¡å™¨.é™¤æ­¤è¿˜å¯ä»¥ç”¨å®ƒæ¥è§‚çœ‹æ˜Ÿçƒå¤§æˆ˜</p>
<pre class="line-numbers language-shell"><code class="language-shell">$ fortune
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>éšæœºè¾“å‡ºåè¨€æˆ–è€…ç¬‘è¯ï¼Œ</p>
<p>è¿˜æœ‰å¾ˆå¤šï¼Œæœ‰å…´è¶£çš„å¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥å»çœ‹ï¼š<a href="https://www.zhihu.com/question/20273259" target="_blank" rel="external">çŸ¥ä¹</a></p>
<p>ä¸ªäººåšå®¢ <a href="http://aa.yusank.space/2016/12/28/linux%E5%91%BD%E4%BB%A4/" target="_blank" rel="external">yusank</a></p>
<p>æ¯”è¾ƒç‰›é€¼çš„ä¸€ä¸ªæŸ¥æ‰¾å‘½ä»¤çš„ç½‘ç«™ï¼š<a href="http://www.commandlinefu.com/commands/browse/sort-by-votes" target="_blank" rel="external">http://www.commandlinefu.com/commands/browse/sort-by-votes</a></p>
<p>æ¯å¤©éƒ½æœ‰æ›´æ–°å„ç§å‘½ä»¤ç»„åˆ</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;welcome to learn terminal command!!!&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Material çš„é…ç½®</title>
    <link href="http://yusank.github.io/%20Material%20%E5%8E%9F%E8%B4%A8.html/"/>
    <id>http://yusank.github.io/ Material åŸè´¨.html/</id>
    <published>2016-12-18T06:14:14.000Z</published>
    <updated>2016-12-19T06:14:14.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Material-åŸè´¨"><a href="#Material-åŸè´¨" class="headerlink" title="Material åŸè´¨"></a>Material åŸè´¨</h1><p><a href="https://material.vss.im" target="_blank" rel="external">Material Theme</a></p>
<blockquote>
<p>Nature, Source</p>
<p>stay with light`s</p>
</blockquote>
<h2 id="Contents-ç›®å½•"><a href="#Contents-ç›®å½•" class="headerlink" title="Contents ç›®å½•"></a>Contents ç›®å½•</h2><ul>
<li><a href="#general-æ¦‚æ‹¬">General æ¦‚æ‹¬</a></li>
<li><a href="#demo-æ¼”ç¤º">Demo æ¼”ç¤º</a></li>
<li><a href="#quick-start-å¿«é€Ÿå¼€å§‹">Quick start å¿«é€Ÿå¼€å§‹</a></li>
<li><a href="#docs-æ–‡æ¡£">Docs æ–‡æ¡£</a></li>
<li><a href="#contributing-è´¡çŒ®">Contributing è´¡çŒ®</a></li>
<li><a href="#license-è®¸å¯è¯">License è®¸å¯è¯</a></li>
<li><a href="#render-æ¸²æŸ“">Render æ¸²æŸ“</a></li>
<li><a href="https://material.vss.im/changelog/" target="_blank" rel="external">Changelog å¼€å‘æ—¥å¿—</a></li>
</ul>
<h2 id="General-æ¦‚æ‹¬"><a href="#General-æ¦‚æ‹¬" class="headerlink" title="General æ¦‚æ‹¬"></a>General æ¦‚æ‹¬</h2><p><a href="https://viosey.com" target="_blank" rel="external"><img src="https://img.shields.io/badge/author-Viosey-blue.svg?style=flat-square" alt="Author"></a><br><a href=""><img src="https://img.shields.io/badge/version-1.2.4-green.svg?style=flat-square" alt="Version"></a><br><a href="https://hexo.io" target="_blank" rel="external"><img src="https://img.shields.io/badge/hexo-3.0+-green.svg?style=flat-square" alt="Hexo"></a><br><a href="https://travis-ci.org/viosey/hexo-theme-material" target="_blank" rel="external"><img src="https://img.shields.io/travis/viosey/hexo-theme-material.svg?style=flat-square" alt="Build Status"></a><br><a href="http://jq.qq.com/?_wv=1027&amp;k=40Vdy24" target="_blank" rel="external"><img src="https://img.shields.io/badge/QQ%20%E7%BE%A4-566308505-brightgreen.svg?style=flat-square" alt="QQ Group"></a></p>
<h2 id="Demo-æ¼”ç¤º"><a href="#Demo-æ¼”ç¤º" class="headerlink" title="Demo æ¼”ç¤º"></a>Demo æ¼”ç¤º</h2><p><a href="https://blog.viosey.com" target="_blank" rel="external">Vioseyâ€™s Blog</a></p>
<h2 id="Quick-start-å¿«é€Ÿå¼€å§‹"><a href="#Quick-start-å¿«é€Ÿå¼€å§‹" class="headerlink" title="Quick start å¿«é€Ÿå¼€å§‹"></a>Quick start å¿«é€Ÿå¼€å§‹</h2><p><a href="https://material.vss.im/en/start/#install-material" target="_blank" rel="external">Install Material</a>    </p>
<p><a href="https://material.vss.im/start/#install-material" target="_blank" rel="external">å®‰è£… Material</a></p>
<h2 id="Docs-æ–‡æ¡£"><a href="#Docs-æ–‡æ¡£" class="headerlink" title="Docs æ–‡æ¡£"></a>Docs æ–‡æ¡£</h2><p><a href="https://material.vss.im/en/" target="_blank" rel="external">Material Theme Docs</a></p>
<p><a href="https://material.vss.im" target="_blank" rel="external">Material ä¸»é¢˜æ–‡æ¡£</a></p>
<blockquote>
<p><a href="https://github.com/viosey/material-theme-docs" target="_blank" rel="external">Docs Markdown Files</a></p>
</blockquote>
<h2 id="Contributing-è´¡çŒ®"><a href="#Contributing-è´¡çŒ®" class="headerlink" title="Contributing è´¡çŒ®"></a>Contributing è´¡çŒ®</h2><p>All kinds of contributions (enhancements, new features, documentation &amp; code improvements, issues &amp; bugs reporting) are welcome.</p>
<p>æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä¼˜åŒ–ï¼Œæ·»åŠ åŠŸèƒ½ï¼Œæ–‡æ¡£ &amp; ä»£ç çš„æ”¹è¿›ï¼Œé—®é¢˜å’Œ bugs çš„æŠ¥å‘Šã€‚æœŸå¾…æ‚¨çš„ <code>Pull Request</code>ã€‚</p>
<h2 id="License-è®¸å¯è¯"><a href="#License-è®¸å¯è¯" class="headerlink" title="License è®¸å¯è¯"></a>License è®¸å¯è¯</h2><p><a href="https://github.com/viosey/hexo-theme-material/blob/master/LICENSE" target="_blank" rel="external"><img src="https://img.shields.io/github/license/viosey/hexo-theme-material.svg?style=flat-square" alt="license"></a></p>
<p>Open sourced under the GPL v3.0 license.</p>
<p>æ ¹æ® GPL V3.0 è®¸å¯è¯å¼€æºã€‚</p>
<h2 id="Render-æ¸²æŸ“"><a href="#Render-æ¸²æŸ“" class="headerlink" title="Render æ¸²æŸ“"></a>Render æ¸²æŸ“</h2><p><img src="https://qiniu.viosey.com/img/Material-Phone-Render.png" alt=""></p>
<p><img src="https://qiniu.viosey.com/img/Materia-themel-overview-tiny.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;Material-åŸè´¨&quot;&gt;&lt;a href=&quot;#Material-
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Python èµ„æºå¤§å…¨</title>
    <link href="http://yusank.github.io/awesomepython.html/"/>
    <id>http://yusank.github.io/awesomepython.html/</id>
    <published>2016-12-17T12:55:55.000Z</published>
    <updated>2016-12-16T12:48:35.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h1 id="Python-èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆ"><a href="#Python-èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆ" class="headerlink" title="Python èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆ"></a>Python èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆ</h1><a id="more"></a>
<p>æˆ‘æƒ³å¾ˆå¤šç¨‹åºå‘˜åº”è¯¥è®°å¾— GitHub ä¸Šæœ‰ä¸€ä¸ª Awesome - XXX ç³»åˆ—çš„èµ„æºæ•´ç†ã€‚<a href="https://github.com/vinta/awesome-python" target="_blank" rel="external">awesome-python</a> æ˜¯ vinta å‘èµ·ç»´æŠ¤çš„ Python èµ„æºåˆ—è¡¨ï¼Œå†…å®¹åŒ…æ‹¬ï¼šWebæ¡†æ¶ã€ç½‘ç»œçˆ¬è™«ã€ç½‘ç»œå†…å®¹æå–ã€æ¨¡æ¿å¼•æ“ã€æ•°æ®åº“ã€æ•°æ®å¯è§†åŒ–ã€å›¾ç‰‡å¤„ç†ã€æ–‡æœ¬å¤„ç†ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æœºå™¨å­¦ä¹ ã€æ—¥å¿—ã€ä»£ç åˆ†æç­‰ã€‚ç”±ä¼¯ä¹åœ¨çº¿æŒç»­æ›´æ–°ã€‚</p>
<p>Awesome ç³»åˆ—è™½ç„¶æŒºå…¨ï¼Œä½†åŸºæœ¬åªå¯¹æ”¶å½•çš„èµ„æºåšäº†æä¸ºç®€è¦çš„ä»‹ç»ï¼Œå¦‚æœæœ‰æ›´è¯¦ç»†çš„ä¸­æ–‡ä»‹ç»ï¼Œå¯¹ç›¸åº”å¼€å‘è€…çš„å¸®åŠ©ä¼šæ›´å¤§ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å‘èµ·è¿™ä¸ªå¼€æºé¡¹ç›®çš„åˆè¡·ã€‚</p>
<hr>
<h3 id="æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Ÿ"><a href="#æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Ÿ"></a>æˆ‘ä»¬è¦åšä»€ä¹ˆï¼Ÿ</h3><ul>
<li>åŸºäº awesome-python åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†å¯¹å…¶ä¸­çš„å„ä¸ªèµ„æºé¡¹è¿›è¡Œç¼–è¯‘æ•´ç†ã€‚æ­¤å¤–è¿˜å°†ä»å…¶ä»–æ¥æºè¡¥å……å¥½èµ„æºã€‚</li>
<li>æ•´ç†åçš„å†…å®¹ï¼Œå°†æ”¶å½•åœ¨<a href="http://hao.jobbole.com/" target="_blank" rel="external">ä¼¯ä¹åœ¨çº¿èµ„æºé¢‘é“</a>ã€‚å¯å‚è€ƒå·²æ•´ç†çš„å†…å®¹ï¼š<ul>
<li>ã€Š<a href="http://hao.jobbole.com/python-scrapy/" target="_blank" rel="external">Scrapyï¼šPythonçš„çˆ¬è™«æ¡†æ¶</a>ã€‹</li>
<li>ã€Š<a href="http://hao.jobbole.com/flask/" target="_blank" rel="external">Flaskï¼šä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶</a>ã€‹</li>
</ul>
</li>
</ul>
<hr>
<h3 id="å¦‚ä½•å‚ä¸æœ¬é¡¹ç›®ï¼Ÿ"><a href="#å¦‚ä½•å‚ä¸æœ¬é¡¹ç›®ï¼Ÿ" class="headerlink" title="å¦‚ä½•å‚ä¸æœ¬é¡¹ç›®ï¼Ÿ"></a>å¦‚ä½•å‚ä¸æœ¬é¡¹ç›®ï¼Ÿ</h3><p>ä»ä¸‹é¢çš„ç›®å½•æ¥çœ‹ï¼Œæœ¬é¡¹ç›®çš„å·¥ä½œé‡å°ä¸äº†ï¼Œæ‰€ä»¥éå¸¸æœŸå¾…èƒ½æœ‰æ›´å¤šç¨‹åºå‘˜ä¸€èµ·æ¥å‚ä¸ã€‚</p>
<p>ä¸è¿‡åŠ å…¥å‰ï¼Œæœ‰å‡ ä¸ªå°è¦æ±‚ï¼š</p>
<ul>
<li>è‹±æ–‡è¿˜ä¸é”™ï¼Œèƒ½è¯»æ‡‚è‹±æ–‡å¹¶ç”¨è‡ªå·±çš„è¯å¤è¿°ï¼›</li>
<li>åœ¨ç”¨ Pythonï¼›</li>
</ul>
<p>å¦‚æœ‰å…´è¶£ï¼Œè¯·åŠ  QQï¼š50872495ã€‚åŠ  Q æ—¶è¯·æ³¨æ˜ã€ŒPythonå¤§å…¨ã€</p>
<hr>
<h3 id="å¦‚ä½•ä¸ºåˆ—è¡¨è´¡çŒ®æ–°èµ„æºï¼Ÿ"><a href="#å¦‚ä½•ä¸ºåˆ—è¡¨è´¡çŒ®æ–°èµ„æºï¼Ÿ" class="headerlink" title="å¦‚ä½•ä¸ºåˆ—è¡¨è´¡çŒ®æ–°èµ„æºï¼Ÿ"></a>å¦‚ä½•ä¸ºåˆ—è¡¨è´¡çŒ®æ–°èµ„æºï¼Ÿ</h3><p>æ¬¢è¿å¤§å®¶ä¸ºåˆ—è¡¨è´¡çŒ®é«˜è´¨é‡çš„æ–°èµ„æºï¼Œæäº¤PRæ—¶è¯·å‚ç…§ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>è¯·ç¡®ä¿æ¨èçš„èµ„æºè‡ªå·±ä½¿ç”¨è¿‡</li>
<li>æäº¤PRæ—¶è¯·æ³¨æ˜æ¨èç†ç”±</li>
</ul>
<p>èµ„æºåˆ—è¡¨ç®¡ç†æ”¶åˆ°PRè¯·æ±‚åï¼Œä¼šå®šæœŸï¼ˆæ¯å‘¨ï¼‰åœ¨å¾®åšè½¬å‘æœ¬å‘¨æäº¤çš„PRåˆ—è¡¨ï¼Œå¹¶åœ¨å¾®åšä¸Šé¢å¬å–ä½¿ç”¨è¿‡è¿™äº›èµ„æºçš„æ„è§ã€‚ç¡®è®¤é€šè¿‡åï¼Œä¼šåŠ å…¥èµ„æºå¤§å…¨ã€‚</p>
<p>æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼</p>
<hr>
<h3 id="æœ¬é¡¹ç›®çš„å‚ä¸è€…"><a href="#æœ¬é¡¹ç›®çš„å‚ä¸è€…" class="headerlink" title="æœ¬é¡¹ç›®çš„å‚ä¸è€…"></a>æœ¬é¡¹ç›®çš„å‚ä¸è€…</h3><ul>
<li>ç»´æŠ¤è€…ï¼š</li>
<li>è´¡çŒ®è€…ï¼š<a href="https://github.com/hanxiaomax" target="_blank" rel="external">è‰¾å‡Œé£</a>ã€Namcoã€<a href="https://github.com/Daetalus" target="_blank" rel="external">Daetalus</a>ã€<a href="http://www.jobbole.com/members/huanglimin/" target="_blank" rel="external">é»„åˆ©æ°‘</a>ã€<a href="http://www.jobbole.com/members/atupal/" target="_blank" rel="external">atupal</a>ã€<a href="http://www.jobbole.com/members/rainbow/" target="_blank" rel="external">rainbow</a>ã€<a href="https://github.com/mutoulbj" target="_blank" rel="external">æœ¨å¤´lbj</a>ã€<a href="http://www.jobbole.com/members/beyondwu/" target="_blank" rel="external">beyondwu</a>ã€<a href="https://github.com/cissoid" target="_blank" rel="external">cissoid</a>ã€<a href="https://github.com/liguangsheng" target="_blank" rel="external">æå¹¿èƒœ</a>ã€<a href="https://github.com/polyval" target="_blank" rel="external">polyval</a>ã€<a href="http://www.jobbole.com/members/libing1209/" target="_blank" rel="external">å†°æ–Œ</a>ã€<a href="http://www.jobbole.com/members/nelsonzhao/" target="_blank" rel="external">èµµå¶å®‡</a>ã€<a href="http://www.jobbole.com/members/fengfeng19910805/" target="_blank" rel="external">Ğ» stalgic</a>ã€<a href="http://www.jobbole.com/members/shawnw/" target="_blank" rel="external">ç¡•æ©</a></li>
</ul>
<p>æ³¨ï¼šåå•ä¸åˆ†æ’åï¼Œä¸å®šæœŸè¡¥å……æ›´æ–°</p>
<hr>
<h3 id="å¥–åŠ±è®¡åˆ’"><a href="#å¥–åŠ±è®¡åˆ’" class="headerlink" title="å¥–åŠ±è®¡åˆ’"></a>å¥–åŠ±è®¡åˆ’</h3><p>è™½ç„¶å¥–åŠ±å¯èƒ½å¹¶ä¸æ˜¯ä½ åŠ å…¥çš„ä¸»è¦åŸå› ï¼Œä½†è¿˜æ˜¯æœ‰å¿…è¦æä¸€ä¸‹ï¼š</p>
<ul>
<li>æ•´ç†è¶…è¿‡ 20 ä¸ªèµ„æºåï¼Œå¯åœ¨ä¼¯ä¹åœ¨çº¿ä¸Šå¼€é€šæ‰“èµï¼›</li>
<li>æ¯æ•´ç† 20 ä¸ªèµ„æºï¼Œæœ‰æœºä¼šè·å¾—æŠ€æœ¯ä¹¦ç±æˆ–å„ç§æœ‰æ„æ€çš„åˆ›æ„ã€æå®¢äº§å“ï¼›</li>
<li><a href="http://hao.jobbole.com/rewards/" target="_blank" rel="external">å¥–åŠ±è¯¦æƒ…</a></li>
</ul>
<hr>
<h3 id="ç¯å¢ƒç®¡ç†"><a href="#ç¯å¢ƒç®¡ç†" class="headerlink" title="ç¯å¢ƒç®¡ç†"></a>ç¯å¢ƒç®¡ç†</h3><p>ç®¡ç† Python ç‰ˆæœ¬å’Œç¯å¢ƒçš„å·¥å…·</p>
<ul>
<li>pï¼šéå¸¸ç®€å•çš„äº¤äº’å¼ python ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚<a href="https://github.com/qw3rtman/p" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyenvï¼šç®€å•çš„ Python ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚<a href="https://github.com/yyuu/pyenv" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Vexï¼šå¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œå‘½ä»¤ã€‚<a href="https://github.com/sashahart/vex" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>virtualenvï¼šåˆ›å»ºç‹¬ç«‹ Python ç¯å¢ƒçš„å·¥å…·ã€‚<a href="https://pypi.python.org/pypi/virtualenv" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>virtualenvwrapperï¼švirtualenv çš„ä¸€ç»„æ‰©å±•ã€‚<a href="https://pypi.python.org/pypi/virtualenvwrapper" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="åŒ…ç®¡ç†"><a href="#åŒ…ç®¡ç†" class="headerlink" title="åŒ…ç®¡ç†"></a>åŒ…ç®¡ç†</h3><p>ç®¡ç†åŒ…å’Œä¾èµ–çš„å·¥å…·ã€‚</p>
<ul>
<li>pipï¼šPython åŒ…å’Œä¾èµ–å…³ç³»ç®¡ç†å·¥å…·ã€‚<a href="https://pip.pypa.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pip-toolsï¼šä¿è¯ Python åŒ…ä¾èµ–å…³ç³»æ›´æ–°çš„ä¸€ç»„å·¥å…·ã€‚<a href="https://github.com/nvie/pip-tools" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>condaï¼šè·¨å¹³å°ï¼ŒPython äºŒè¿›åˆ¶åŒ…ç®¡ç†å·¥å…·ã€‚<a href="https://github.com/conda/conda/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Curdlingï¼šç®¡ç† Python åŒ…çš„å‘½ä»¤è¡Œå·¥å…·ã€‚<a href="http://clarete.li/curdling/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>wheelï¼šPython åˆ†å‘çš„æ–°æ ‡å‡†ï¼Œæ„åœ¨å–ä»£ eggsã€‚<a href="http://pythonwheels.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="åŒ…ä»“åº“"><a href="#åŒ…ä»“åº“" class="headerlink" title="åŒ…ä»“åº“"></a>åŒ…ä»“åº“</h3><p>æœ¬åœ° PyPI ä»“åº“æœåŠ¡å’Œä»£ç†ã€‚</p>
<ul>
<li>warehouseï¼šä¸‹ä¸€ä»£ PyPIã€‚<a href="https://github.com/pypa/warehouse" target="_blank" rel="external">å®˜ç½‘</a><ul>
<li>Warehouseï¼šPyPA æä¾›çš„ PyPI é•œåƒå·¥å…·ã€‚<a href="https://warehouse.python.org/" target="_blank" rel="external">å®˜ç½‘</a> <a href="https://bitbucket.org/pypa/bandersnatch" target="_blank" rel="external">bandersnatch</a></li>
</ul>
</li>
<li>devpiï¼šPyPI æœåŠ¡å’Œæ‰“åŒ…/æµ‹è¯•/åˆ†å‘å·¥å…·ã€‚<a href="http://doc.devpi.net/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>localshopï¼šæœ¬åœ° PyPI æœåŠ¡ï¼ˆè‡ªå®šä¹‰åŒ…å¹¶ä¸”è‡ªåŠ¨å¯¹ PyPI é•œåƒï¼‰ã€‚<a href="https://github.com/mvantellingen/localshop" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="åˆ†å‘"><a href="#åˆ†å‘" class="headerlink" title="åˆ†å‘"></a>åˆ†å‘</h3><p>æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ä»¥ä¾¿åˆ†å‘ã€‚</p>
<ul>
<li>PyInstallerï¼šå°† Python ç¨‹åºè½¬æ¢æˆç‹¬ç«‹çš„æ‰§è¡Œæ–‡ä»¶ï¼ˆè·¨å¹³å°ï¼‰ã€‚<a href="https://github.com/pyinstaller/pyinstaller" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dh-virtualenvï¼šæ„å»ºå¹¶å°† virtualenv è™šæ‹Ÿç¯å¢ƒä½œä¸ºä¸€ä¸ª Debian åŒ…æ¥å‘å¸ƒã€‚<a href="http://dh-virtualenv.readthedocs.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Nuitkaï¼šå°†è„šæœ¬ã€æ¨¡å—ã€åŒ…ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–æ‰©å±•æ¨¡å—ã€‚<a href="http://nuitka.net/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>py2appï¼šå°† Python è„šæœ¬å˜ä¸ºç‹¬ç«‹è½¯ä»¶åŒ…ï¼ˆMac OS Xï¼‰ã€‚<a href="http://pythonhosted.org/py2app/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>py2exeï¼šå°† Python è„šæœ¬å˜ä¸ºç‹¬ç«‹è½¯ä»¶åŒ…ï¼ˆWindowsï¼‰ã€‚<a href="http://www.py2exe.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pynsistï¼šä¸€ä¸ªç”¨æ¥åˆ›å»º Windows å®‰è£…ç¨‹åºçš„å·¥å…·ï¼Œå¯ä»¥åœ¨å®‰è£…ç¨‹åºä¸­æ‰“åŒ… Pythonæœ¬èº«ã€‚<a href="http://pynsist.readthedocs.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ„å»ºå·¥å…·"><a href="#æ„å»ºå·¥å…·" class="headerlink" title="æ„å»ºå·¥å…·"></a>æ„å»ºå·¥å…·</h3><p>å°†æºç ç¼–è¯‘æˆè½¯ä»¶ã€‚</p>
<ul>
<li>buildoutï¼šä¸€ä¸ªæ„å»ºç³»ç»Ÿï¼Œä»å¤šä¸ªç»„ä»¶æ¥åˆ›å»ºï¼Œç»„è£…å’Œéƒ¨ç½²åº”ç”¨ã€‚<a href="http://www.buildout.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>BitBakeï¼šé’ˆå¯¹åµŒå…¥å¼ Linux çš„ç±»ä¼¼ make çš„æ„å»ºå·¥å…·ã€‚<a href="http://www.yoctoproject.org/docs/1.6/bitbake-user-manual/bitbake-user-manual.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fabricateï¼šå¯¹ä»»ä½•è¯­è¨€è‡ªåŠ¨æ‰¾åˆ°ä¾èµ–å…³ç³»çš„æ„å»ºå·¥å…·ã€‚<a href="https://code.google.com/archive/p/fabricate" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PlatformIOï¼šå¤šå¹³å°å‘½ä»¤è¡Œæ„å»ºå·¥å…·ã€‚<a href="https://github.com/platformio/platformio" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyBuilderï¼šçº¯ Python å®ç°çš„æŒç»­åŒ–æ„å»ºå·¥å…·ã€‚<a href="https://github.com/pybuilder/pybuilder" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SConsï¼šè½¯ä»¶æ„å»ºå·¥å…·ã€‚<a href="http://www.scons.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="äº¤äº’å¼è§£æå™¨"><a href="#äº¤äº’å¼è§£æå™¨" class="headerlink" title="äº¤äº’å¼è§£æå™¨"></a>äº¤äº’å¼è§£æå™¨</h3><p>äº¤äº’å¼ Python è§£æå™¨ã€‚</p>
<ul>
<li>IPythonï¼šåŠŸèƒ½ä¸°å¯Œçš„å·¥å…·ï¼Œéå¸¸æœ‰æ•ˆçš„ä½¿ç”¨äº¤äº’å¼ Pythonã€‚<a href="https://github.com/ipython/ipython" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/bpython/" target="_blank" rel="external">bpython</a>ï¼šç•Œé¢ä¸°å¯Œçš„ Python è§£æå™¨ã€‚<a href="http://bpython-interpreter.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ptpythonï¼šé«˜çº§äº¤äº’å¼Pythonè§£æå™¨ï¼Œ æ„å»ºäº<a href="https://github.com/jonathanslenders/python-prompt-toolkit" target="_blank" rel="external">python-prompt-toolkit</a> ä¹‹ä¸Šã€‚<a href="https://github.com/jonathanslenders/ptpython" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h3><p>æ–‡ä»¶ç®¡ç†å’Œ MIMEï¼ˆå¤šç”¨é€”çš„ç½‘é™…é‚®ä»¶æ‰©å……åè®®ï¼‰ç±»å‹æ£€æµ‹ã€‚</p>
<ul>
<li>imghdrï¼šï¼ˆPython æ ‡å‡†åº“ï¼‰æ£€æµ‹å›¾ç‰‡ç±»å‹ã€‚<a href="https://docs.python.org/2/library/imghdr.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mimetypesï¼šï¼ˆPython æ ‡å‡†åº“ï¼‰å°†æ–‡ä»¶åæ˜ å°„ä¸º MIME ç±»å‹ã€‚<a href="https://docs.python.org/2/library/mimetypes.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>path.pyï¼šå¯¹ os.path è¿›è¡Œå°è£…çš„æ¨¡å—ã€‚<a href="https://github.com/jaraco/path.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pathlibï¼šï¼ˆPython3.4+ æ ‡å‡†åº“ï¼‰è·¨å¹³å°çš„ã€é¢å‘å¯¹è±¡çš„è·¯å¾„æ“ä½œåº“ã€‚<a href="https://pathlib.readthedocs.org/en/pep428/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-magicï¼šæ–‡ä»¶ç±»å‹æ£€æµ‹çš„ç¬¬ä¸‰æ–¹åº“ libmagic çš„ Python æ¥å£ã€‚<a href="https://github.com/ahupp/python-magic" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Unipathï¼šç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ“ä½œæ–‡ä»¶å’Œç›®å½•ã€‚<a href="https://github.com/mikeorr/Unipath" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>watchdogï¼šç®¡ç†æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶çš„ API å’Œ shell å·¥å…·<a href="https://github.com/gorakhargosh/watchdog" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ—¥æœŸå’Œæ—¶é—´"><a href="#æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´"></a>æ—¥æœŸå’Œæ—¶é—´</h3><p>æ“ä½œæ—¥æœŸå’Œæ—¶é—´çš„ç±»åº“ã€‚</p>
<ul>
<li>arrowï¼šæ›´å¥½çš„ Python æ—¥æœŸæ—¶é—´æ“ä½œç±»åº“ã€‚<a href="https://github.com/crsmithdev/arrow" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Chronykï¼šPython 3 çš„ç±»åº“ï¼Œç”¨äºè§£ææ‰‹å†™æ ¼å¼çš„æ—¶é—´å’Œæ—¥æœŸã€‚<a href="https://github.com/KoffeinFlummi/Chronyk" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dateutilï¼šPython datetime æ¨¡å—çš„æ‰©å±•ã€‚<a href="https://pypi.python.org/pypi/python-dateutil" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>deloreanï¼šè§£å†³ Python ä¸­æœ‰å…³æ—¥æœŸå¤„ç†çš„æ£˜æ‰‹é—®é¢˜çš„åº“ã€‚<a href="https://github.com/myusuf3/delorean/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>momentï¼šä¸€ä¸ªç”¨æ¥å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„Pythonåº“ã€‚çµæ„Ÿæ¥è‡ªäºMoment.jsã€‚<a href="https://github.com/zachwill/moment" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyTimeï¼šä¸€ä¸ªç®€å•æ˜“ç”¨çš„Pythonæ¨¡å—ï¼Œç”¨äºé€šè¿‡å­—ç¬¦ä¸²æ¥æ“ä½œæ—¥æœŸ/æ—¶é—´ã€‚<a href="https://github.com/shinux/PyTime" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pytzï¼šç°ä»£ä»¥åŠå†å²ç‰ˆæœ¬çš„ä¸–ç•Œæ—¶åŒºå®šä¹‰ã€‚å°†æ—¶åŒºæ•°æ®åº“å¼•å…¥Pythonã€‚<a href="https://launchpad.net/pytz" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>when.pyï¼šæä¾›ç”¨æˆ·å‹å¥½çš„å‡½æ•°æ¥å¸®åŠ©ç”¨æˆ·è¿›è¡Œå¸¸ç”¨çš„æ—¥æœŸå’Œæ—¶é—´æ“ä½œã€‚<a href="https://github.com/dirn/When.py" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ–‡æœ¬å¤„ç†"><a href="#æ–‡æœ¬å¤„ç†" class="headerlink" title="æ–‡æœ¬å¤„ç†"></a>æ–‡æœ¬å¤„ç†</h3><p>ç”¨äºè§£æå’Œæ“ä½œæ–‡æœ¬çš„åº“ã€‚</p>
<ul>
<li>é€šç”¨<ul>
<li><a href="http://hao.jobbole.com/chardet/" target="_blank" rel="external">chardet</a>ï¼šå­—ç¬¦ç¼–ç æ£€æµ‹å™¨ï¼Œå…¼å®¹ Python2 å’Œ Python3ã€‚<a href="https://github.com/chardet/chardet" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>difflibï¼š(Python æ ‡å‡†åº“)å¸®åŠ©æˆ‘ä»¬è¿›è¡Œå·®å¼‚åŒ–æ¯”è¾ƒã€‚<a href="https://docs.python.org/2/library/difflib.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ftfyï¼šè®©Unicodeæ–‡æœ¬æ›´å®Œæ•´æ›´è¿è´¯ã€‚<a href="https://github.com/LuminosoInsight/python-ftfy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fuzzywuzzyï¼šæ¨¡ç³Šå­—ç¬¦ä¸²åŒ¹é…ã€‚<a href="https://github.com/seatgeek/fuzzywuzzy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Levenshteinï¼šå¿«é€Ÿè®¡ç®—ç¼–è¾‘è·ç¦»ä»¥åŠå­—ç¬¦ä¸²çš„ç›¸ä¼¼åº¦ã€‚<a href="https://github.com/ztane/python-Levenshtein/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pangu.pyï¼šåœ¨ä¸­æ—¥éŸ©è¯­å­—ç¬¦å’Œæ•°å­—å­—æ¯ä¹‹é—´æ·»åŠ ç©ºæ ¼ã€‚<a href="https://github.com/vinta/pangu.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>yfiglet-figletï¼š<a href="https://github.com/pwaller/pyfiglet" target="_blank" rel="external">pyfiglet -figlet</a> çš„ Pythonå®ç°ã€‚</li>
<li>shortuuidï¼šä¸€ä¸ªç”Ÿæˆå™¨åº“ï¼Œç”¨ä»¥ç”Ÿæˆç®€æ´çš„ï¼Œæ˜ç™½çš„ï¼ŒURL å®‰å…¨çš„ UUIDã€‚<a href="https://github.com/stochastic-technologies/shortuuid" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>unidecodeï¼šUnicode æ–‡æœ¬çš„ ASCII è½¬æ¢å½¢å¼ ã€‚<a href="https://pypi.python.org/pypi/Unidecode" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>unioutï¼šæ‰“å°å¯è¯»çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯è½¬ä¹‰çš„å­—ç¬¦ä¸²ã€‚<a href="https://github.com/moskytw/uniout" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>xpinyinï¼šä¸€ä¸ªç”¨äºæŠŠæ±‰å­—è½¬æ¢ä¸ºæ‹¼éŸ³çš„åº“ã€‚<a href="https://github.com/lxneng/xpinyin" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>simplejsonï¼šPythonçš„JSONç¼–ç ã€è§£ç å™¨ã€‚<a href="https://simplejson.readthedocs.io/en/latest/" target="_blank" rel="external">å®˜ç½‘</a>ã€<a href="https://github.com/simplejson/simplejson" target="_blank" rel="external">GitHub</a></li>
</ul>
</li>
<li>SlugåŒ–<ul>
<li>awesome-slugifyï¼šä¸€ä¸ª Python slug åŒ–åº“ï¼Œå¯ä»¥ä¿æŒ Unicodeã€‚<a href="https://github.com/dimka665/awesome-slugify" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-slugifyï¼šPython slug åŒ–åº“ï¼Œå¯ä»¥æŠŠ unicode è½¬åŒ–ä¸º ASCIIã€‚<a href="https://github.com/un33k/python-slugify" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>unicode-slugifyï¼šä¸€ä¸ª slug å·¥å…·ï¼Œå¯ä»¥ç”Ÿæˆ unicode slugs ,éœ€è¦ä¾èµ– Django ã€‚<a href="https://github.com/mozilla/unicode-slugify" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>è§£æå™¨<ul>
<li>phonenumbersï¼šè§£æï¼Œæ ¼å¼åŒ–ï¼Œå‚¨å­˜ï¼ŒéªŒè¯ç”µè¯å·ç ã€‚<a href="https://github.com/daviddrysdale/python-phonenumbers" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PLYï¼šlex å’Œ yacc è§£æå·¥å…·çš„ Python å®ç°ã€‚<a href="http://www.dabeaz.com/ply/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pygmentsï¼šé€šç”¨è¯­æ³•é«˜äº®å·¥å…·ã€‚<a href="http://pygments.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyparsingï¼šç”Ÿæˆé€šç”¨è§£æå™¨çš„æ¡†æ¶ã€‚<a href="http://pyparsing.wikispaces.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-nameparserï¼šæŠŠä¸€ä¸ªäººååˆ†è§£ä¸ºå‡ ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ã€‚<a href="https://github.com/derek73/python-nameparser" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-user-agentsï¼šæµè§ˆå™¨ user agent è§£æå™¨ã€‚<a href="https://github.com/selwin/python-user-agents" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sqlparseï¼šä¸€ä¸ªæ— éªŒè¯çš„ SQL è§£æå™¨ã€‚<a href="https://sqlparse.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="ç‰¹æ®Šæ–‡æœ¬æ ¼å¼å¤„ç†"><a href="#ç‰¹æ®Šæ–‡æœ¬æ ¼å¼å¤„ç†" class="headerlink" title="ç‰¹æ®Šæ–‡æœ¬æ ¼å¼å¤„ç†"></a>ç‰¹æ®Šæ–‡æœ¬æ ¼å¼å¤„ç†</h3><p>ä¸€äº›ç”¨æ¥è§£æå’Œæ“ä½œç‰¹æ®Šæ–‡æœ¬æ ¼å¼çš„åº“ã€‚</p>
<ul>
<li>é€šç”¨<ul>
<li>tablibï¼šä¸€ä¸ªç”¨æ¥å¤„ç†ä¸­è¡¨æ ¼æ•°æ®çš„æ¨¡å—ã€‚<a href="https://github.com/kennethreitz/tablib" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Office<ul>
<li>Marmirï¼šæŠŠè¾“å…¥çš„Python æ•°æ®ç»“æ„è½¬æ¢ä¸ºç”µå­è¡¨å•ã€‚<a href="https://github.com/brianray/mm" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>openpyxlï¼šä¸€ä¸ªç”¨æ¥è¯»å†™ Excel 2010 xlsx/xlsm/xltx/xltm æ–‡ä»¶çš„åº“ã€‚<a href="https://openpyxl.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-docxï¼šè¯»å–ï¼ŒæŸ¥è¯¢ä»¥åŠä¿®æ”¹ Microsoft Word 2007/2008 docx æ–‡ä»¶ã€‚<a href="https://github.com/python-openxml/python-docx" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>unoconvï¼šåœ¨ LibreOffice/OpenOffice æ”¯æŒçš„ä»»æ„æ–‡ä»¶æ ¼å¼ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚<a href="https://github.com/dagwieers/unoconv" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>XlsxWriterï¼šä¸€ä¸ªç”¨äºåˆ›å»º Excel .xlsx æ–‡ä»¶çš„ Python æ¨¡å—ã€‚<a href="https://xlsxwriter.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>xlwingsï¼šä¸€ä¸ªä½¿å¾—åœ¨ Excel ä¸­æ–¹ä¾¿è°ƒç”¨ Python çš„åº“ï¼ˆåä¹‹äº¦ç„¶ï¼‰ï¼ŒåŸºäº BSD åè®®ã€‚<a href="http://xlwings.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/xlwt/" target="_blank" rel="external">xlwt</a>ï¼šè¯»å†™ Excel æ–‡ä»¶çš„æ•°æ®å’Œæ ¼å¼ä¿¡æ¯ã€‚<a href="https://github.com/python-excel/xlwt" target="_blank" rel="external">å®˜ç½‘</a> / <a href="https://github.com/python-excel/xlrd" target="_blank" rel="external">xlrd</a></li>
<li>relatorioï¼šæ¨¡æ¿åŒ–OpenDocument æ–‡ä»¶ã€‚<a href="http://relatorio.tryton.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>PDF<ul>
<li>PDFMinerï¼šä¸€ä¸ªç”¨äºä»PDFæ–‡æ¡£ä¸­æŠ½å–ä¿¡æ¯çš„å·¥å…·ã€‚<a href="https://github.com/euske/pdfminer" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyPDF2ï¼šä¸€ä¸ªå¯ä»¥åˆ†å‰²ï¼Œåˆå¹¶å’Œè½¬æ¢ PDF é¡µé¢çš„åº“ã€‚<a href="https://github.com/mstamy2/PyPDF2" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ReportLabï¼šå¿«é€Ÿåˆ›å»ºå¯Œæ–‡æœ¬ PDF æ–‡æ¡£ã€‚<a href="http://www.reportlab.com/opensource/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Markdown<ul>
<li>Mistuneï¼šå¿«é€Ÿå¹¶ä¸”åŠŸèƒ½é½å…¨çš„çº¯ Python å®ç°çš„ Markdown è§£æå™¨ã€‚<a href="https://github.com/lepture/mistune" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Python-Markdownï¼šJohn Gruberâ€™s Markdown çš„ Python ç‰ˆå®ç°ã€‚<a href="https://github.com/waylan/Python-Markdown" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Python-Markdiwn2ï¼šçº¯ Python å®ç°çš„ Markdown è§£æå™¨ï¼Œæ¯” Python-Markdown æ›´å¿«ï¼Œæ›´å‡†ç¡®ï¼Œå¯æ‰©å±•ã€‚<a href="https://github.com/trentm/python-markdown2" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>YAML<ul>
<li>PyYAMLï¼šPython ç‰ˆæœ¬çš„ YAML è§£æå™¨ã€‚<a href="http://pyyaml.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>CSV<ul>
<li>csvkitï¼šç”¨äºè½¬æ¢å’Œæ“ä½œ CSV çš„å·¥å…·ã€‚<a href="https://github.com/wireservice/csvkit" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Archive<ul>
<li>unpï¼šä¸€ä¸ªç”¨æ¥æ–¹ä¾¿è§£åŒ…å½’æ¡£æ–‡ä»¶çš„å‘½ä»¤è¡Œå·¥å…·ã€‚<a href="https://github.com/mitsuhiko/unp" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="è‡ªç„¶è¯­è¨€å¤„ç†"><a href="#è‡ªç„¶è¯­è¨€å¤„ç†" class="headerlink" title="è‡ªç„¶è¯­è¨€å¤„ç†"></a>è‡ªç„¶è¯­è¨€å¤„ç†</h3><p>ç”¨æ¥å¤„ç†äººç±»è¯­è¨€çš„åº“ã€‚</p>
<ul>
<li>NLTKï¼šä¸€ä¸ªå…ˆè¿›çš„å¹³å°ï¼Œç”¨ä»¥æ„å»ºå¤„ç†äººç±»è¯­è¨€æ•°æ®çš„ Python ç¨‹åºã€‚<a href="http://www.nltk.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>jiebaï¼šä¸­æ–‡åˆ†è¯å·¥å…·ã€‚<a href="https://github.com/fxsjy/jieba" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>langid.pyï¼šç‹¬ç«‹çš„è¯­è¨€è¯†åˆ«ç³»ç»Ÿã€‚<a href="https://github.com/saffsd/langid.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Patternï¼šPython ç½‘ç»œä¿¡æ¯æŒ–æ˜æ¨¡å—ã€‚<a href="http://www.clips.ua.ac.be/pattern" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SnowNLPï¼šä¸€ä¸ªç”¨æ¥å¤„ç†ä¸­æ–‡æ–‡æœ¬çš„åº“ã€‚<a href="https://github.com/isnowfy/snownlp" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TextBlobï¼šä¸ºè¿›è¡Œæ™®é€šè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡æä¾›ä¸€è‡´çš„ APIã€‚<a href="http://textblob.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TextGroceryï¼šä¸€ç®€å•é«˜æ•ˆçš„çŸ­æ–‡æœ¬åˆ†ç±»å·¥å…·ï¼ŒåŸºäº LibLinear å’Œ Jiebaã€‚<a href="https://github.com/2shou/TextGrocery" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h3><p>ç”¨ä»¥ç”Ÿæˆé¡¹ç›®æ–‡æ¡£çš„åº“ã€‚</p>
<ul>
<li><a href="http://hao.jobbole.com/sphinx/" target="_blank" rel="external">Sphinx</a>ï¼šPython æ–‡æ¡£ç”Ÿæˆå™¨ã€‚<a href="http://www.sphinx-doc.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a><ul>
<li>awesome-sphinxdocï¼š<a href="https://github.com/yoloseem/awesome-sphinxdoc" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>MkDocsï¼šå¯¹ Markdown å‹å¥½çš„æ–‡æ¡£ç”Ÿæˆå™¨ã€‚<a href="http://www.mkdocs.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pdocï¼šä¸€ä¸ªå¯ä»¥æ›¿æ¢Epydoc çš„åº“ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆ Python åº“çš„ API æ–‡æ¡£ã€‚<a href="https://github.com/BurntSushi/pdoc" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pyccoï¼šæ–‡å­¦ç¼–ç¨‹ï¼ˆliterate-programmingï¼‰é£æ ¼çš„æ–‡æ¡£ç”Ÿæˆå™¨ã€‚<a href="https://github.com/pycco-docs/pycco" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>ç”¨æ¥ä¿å­˜å’Œè§£æé…ç½®çš„åº“ã€‚</p>
<ul>
<li>configï¼š<a href="https://docs.python.org/2/library/logging.html" target="_blank" rel="external">logging</a> æ¨¡å—ä½œè€…å†™çš„åˆ†çº§é…ç½®æ¨¡å—ã€‚<a href="https://www.red-dove.com/config-doc/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ConfigObjï¼šINI æ–‡ä»¶è§£æå™¨ï¼Œå¸¦éªŒè¯åŠŸèƒ½ã€‚<a href="http://www.voidspace.org.uk/python/configobj.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ConfigParserï¼š(Python æ ‡å‡†åº“) INI æ–‡ä»¶è§£æå™¨ã€‚<a href="https://docs.python.org/2/library/configparser.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>profigï¼šé€šè¿‡å¤šç§æ ¼å¼è¿›è¡Œé…ç½®ï¼Œå…·æœ‰æ•°å€¼è½¬æ¢åŠŸèƒ½ã€‚<a href="http://profig.readthedocs.org/en/default/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-decoupleï¼šå°†è®¾ç½®å’Œä»£ç å®Œå…¨éš”ç¦»ã€‚<a href="https://github.com/henriquebastos/python-decouple" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å‘½ä»¤è¡Œå·¥å…·"><a href="#å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="å‘½ä»¤è¡Œå·¥å…·"></a>å‘½ä»¤è¡Œå·¥å…·</h3><p>ç”¨äºåˆ›å»ºå‘½ä»¤è¡Œç¨‹åºçš„åº“ã€‚</p>
<ul>
<li>å‘½ä»¤è¡Œç¨‹åºå¼€å‘<ul>
<li>cementï¼šPython çš„å‘½ä»¤è¡Œç¨‹åºæ¡†æ¶ã€‚<a href="http://builtoncement.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>clickï¼šä¸€ä¸ªé€šè¿‡ç»„åˆçš„æ–¹å¼æ¥åˆ›å»ºç²¾ç¾å‘½ä»¤è¡Œç•Œé¢çš„åŒ…ã€‚<a href="http://click.pocoo.org/dev/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>cliffï¼šä¸€ä¸ªç”¨äºåˆ›å»ºå‘½ä»¤è¡Œç¨‹åºçš„æ¡†æ¶ï¼Œå¯ä»¥åˆ›å»ºå…·æœ‰å¤šå±‚å‘½ä»¤çš„å‘½ä»¤è¡Œç¨‹åºã€‚<a href="http://docs.openstack.org/developer/cliff/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>clintï¼šPython å‘½ä»¤è¡Œç¨‹åºå·¥å…·ã€‚<a href="https://github.com/kennethreitz/clint" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>coloramaï¼šè·¨å¹³å°å½©è‰²ç»ˆç«¯æ–‡æœ¬ã€‚<a href="https://pypi.python.org/pypi/colorama" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>docoptï¼šPython é£æ ¼çš„å‘½ä»¤è¡Œå‚æ•°è§£æå™¨ã€‚<a href="http://docopt.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Gooeyï¼šä¸€æ¡å‘½ä»¤ï¼Œå°†å‘½ä»¤è¡Œç¨‹åºå˜æˆä¸€ä¸ª GUI ç¨‹åºã€‚<a href="https://github.com/chriskiehl/Gooey" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-prompt-toolkitï¼šä¸€ä¸ªç”¨äºæ„å»ºå¼ºå¤§çš„äº¤äº’å¼å‘½ä»¤è¡Œç¨‹åºçš„åº“ã€‚<a href="https://github.com/jonathanslenders/python-prompt-toolkit" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pythonpy/" target="_blank" rel="external">Pythonpy</a>ï¼šåœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥æ‰§è¡Œä»»ä½•PythonæŒ‡ä»¤ã€‚<a href="https://github.com/Russell91/pythonpy/wiki" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>ç”Ÿäº§åŠ›å·¥å…·<ul>
<li>aws-cliï¼šAmazon Web Services çš„é€šç”¨å‘½ä»¤è¡Œç•Œé¢ã€‚<a href="https://github.com/aws/aws-cli" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>bashplotlibï¼šåœ¨ç»ˆç«¯ä¸­è¿›è¡ŒåŸºæœ¬ç»˜å›¾ã€‚<a href="https://github.com/glamp/bashplotlib" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>caniusepython3ï¼šåˆ¤æ–­æ˜¯å“ªä¸ªé¡¹ç›®å¦¨ç¢ä½ ä½ ç§»æ¤åˆ° Python 3ã€‚<a href="https://github.com/brettcannon/caniusepython3" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>cookiecutterï¼šä» cookiecuttersï¼ˆé¡¹ç›®æ¨¡æ¿ï¼‰åˆ›å»ºé¡¹ç›®çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ã€‚<a href="https://github.com/audreyr/cookiecutter" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>doitliveï¼šä¸€ä¸ªç”¨æ¥åœ¨ç»ˆç«¯ä¸­è¿›è¡Œç°åœºæ¼”ç¤ºçš„å·¥å…·ã€‚<a href="https://github.com/sloria/doitlive" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>howdoiï¼šé€šè¿‡å‘½ä»¤è¡Œè·å–å³æ—¶çš„ç¼–ç¨‹é—®é¢˜è§£ç­”ã€‚<a href="https://github.com/gleitz/howdoi" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>httpieï¼šä¸€ä¸ªå‘½ä»¤è¡ŒHTTP å®¢æˆ·ç«¯ï¼ŒcURL çš„æ›¿ä»£å“ï¼Œæ˜“ç”¨æ€§æ›´å¥½ã€‚<a href="https://github.com/jkbrzt/httpie" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PathPickerï¼šä»bashè¾“å‡ºä¸­é€‰å‡ºæ–‡ä»¶ã€‚<a href="https://github.com/facebook/PathPicker" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>percolï¼šå‘UNIX shell ä¼ ç»Ÿç®¡é“æ¦‚å¿µä¸­åŠ å…¥äº¤äº’å¼é€‰æ‹©åŠŸèƒ½ã€‚<a href="https://github.com/mooz/percol" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SAWSï¼šä¸€ä¸ªåŠ å¼ºç‰ˆçš„ AWS å‘½ä»¤è¡Œã€‚<a href="https://github.com/donnemartin/saws" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>thefuckï¼šä¿®æ­£ä½ ä¹‹å‰çš„å‘½ä»¤è¡ŒæŒ‡ä»¤ã€‚<a href="https://github.com/nvbn/thefuck" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mycliï¼šä¸€ä¸ª MySQL å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå…·æœ‰è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº®åŠŸèƒ½ã€‚<a href="https://github.com/dbcli/mycli" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pgcliï¼šPostgres å‘½ä»¤è¡Œå·¥å…·ï¼Œå…·æœ‰è‡ªåŠ¨è¡¥å…¨å’Œè¯­æ³•é«˜äº®åŠŸèƒ½ã€‚<a href="https://github.com/dbcli/pgcli" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="ä¸‹è½½å™¨"><a href="#ä¸‹è½½å™¨" class="headerlink" title="ä¸‹è½½å™¨"></a>ä¸‹è½½å™¨</h3><p>ç”¨æ¥è¿›è¡Œä¸‹è½½çš„åº“.</p>
<ul>
<li>s3cmdï¼šä¸€ä¸ªç”¨æ¥ç®¡ç†Amazon S3 å’Œ CloudFront çš„å‘½ä»¤è¡Œå·¥å…·ã€‚<a href="https://github.com/s3tools/s3cmd" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>s4cmdï¼šè¶…çº§ S3 å‘½ä»¤è¡Œå·¥å…·ï¼Œæ€§èƒ½æ›´åŠ å¼ºåŠ²ã€‚<a href="https://github.com/bloomreach/s4cmd" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>you-getï¼šä¸€ä¸ª YouTube/Youku/Niconico è§†é¢‘ä¸‹è½½å™¨ï¼Œä½¿ç”¨ Python3 ç¼–å†™ã€‚<a href="https://www.soimort.org/you-get/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>youtube-dlï¼šä¸€ä¸ªå°å·§çš„å‘½ä»¤è¡Œç¨‹åºï¼Œç”¨æ¥ä¸‹è½½ YouTube è§†é¢‘ã€‚<a href="http://rg3.github.io/youtube-dl/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å›¾åƒå¤„ç†"><a href="#å›¾åƒå¤„ç†" class="headerlink" title="å›¾åƒå¤„ç†"></a>å›¾åƒå¤„ç†</h3><p>ç”¨æ¥æ“ä½œå›¾åƒçš„åº“.</p>
<ul>
<li><a href="http://hao.jobbole.com/pillow/" target="_blank" rel="external">pillow</a>ï¼šPillow æ˜¯ä¸€ä¸ªæ›´åŠ æ˜“ç”¨ç‰ˆçš„ <a href="http://www.pythonware.com/products/pil/" target="_blank" rel="external">PIL</a>ã€‚<a href="http://pillow.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hmapï¼šå›¾åƒç›´æ–¹å›¾æ˜ å°„ã€‚<a href="https://github.com/rossgoodwin/hmap" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>imgSeekï¼šä¸€ä¸ªä½¿ç”¨è§†è§‰ç›¸ä¼¼æ€§æœç´¢ä¸€ç»„å›¾ç‰‡é›†åˆçš„é¡¹ç›®ã€‚<a href="https://sourceforge.net/projects/imgseek/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>nude.pyï¼šè£¸ä½“æ£€æµ‹ã€‚<a href="https://github.com/hhatto/nude.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyBarcodeï¼šä¸å€ŸåŠ© PIL åº“åœ¨ Python ç¨‹åºä¸­ç”Ÿæˆæ¡å½¢ç ã€‚<a href="https://pythonhosted.org/pyBarcode/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pygramï¼šç±»ä¼¼ Instagram çš„å›¾åƒæ»¤é•œã€‚<a href="https://github.com/ajkumar25/pygram" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-qrcodeï¼šä¸€ä¸ªçº¯ Python å®ç°çš„äºŒç»´ç ç”Ÿæˆå™¨ã€‚<a href="https://github.com/lincolnloop/python-qrcode" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Quadsï¼šåŸºäºå››å‰æ ‘çš„è®¡ç®—æœºè‰ºæœ¯ã€‚<a href="https://github.com/fogleman/Quads" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>scikit-imageï¼šä¸€ä¸ªç”¨äºï¼ˆç§‘å­¦ï¼‰å›¾åƒå¤„ç†çš„ Python åº“ã€‚<a href="http://scikit-image.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>thumborï¼šä¸€ä¸ªå°å‹å›¾åƒæœåŠ¡ï¼Œå…·æœ‰å‰ªè£ï¼Œå°ºå¯¸é‡è®¾å’Œç¿»è½¬åŠŸèƒ½ã€‚<a href="https://github.com/thumbor/thumbor" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>wandï¼š<a href="http://www.imagemagick.org/script/magick-wand.php" target="_blank" rel="external">MagickWand</a>çš„Python ç»‘å®šã€‚MagickWand æ˜¯ ImageMagickçš„ C API ã€‚<a href="https://github.com/dahlia/wand" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="OCR"><a href="#OCR" class="headerlink" title="OCR"></a>OCR</h3><p>å…‰å­¦å­—ç¬¦è¯†åˆ«åº“ã€‚</p>
<ul>
<li>pyocrï¼šTesseract å’Œ Cuneiform çš„ä¸€ä¸ªå°è£…(wrapper)ã€‚<a href="https://github.com/jflesch/pyocr" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pytesseract/" target="_blank" rel="external">pytesseract</a>ï¼š<a href="https://github.com/tesseract-ocr" target="_blank" rel="external">Google Tesseract OCR</a> çš„å¦ä¸€ä¸ªå°è£…(wrapper)ã€‚<a href="https://github.com/madmaze/pytesseract" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-tesseract - <a href="https://github.com/tesseract-ocr" target="_blank" rel="external">Google Tesseract OCR</a> çš„ä¸€ä¸ªåŒ…è£…ç±»ã€‚</li>
</ul>
<h3 id="éŸ³é¢‘"><a href="#éŸ³é¢‘" class="headerlink" title="éŸ³é¢‘"></a>éŸ³é¢‘</h3><p>ç”¨æ¥æ“ä½œéŸ³é¢‘çš„åº“</p>
<ul>
<li>audiolazyï¼šPython çš„æ•°å­—ä¿¡å·å¤„ç†åŒ…ã€‚<a href="https://github.com/danilobellini/audiolazy" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>audioreadï¼šäº¤å‰åº“ (GStreamer + Core Audio + MAD + FFmpeg) éŸ³é¢‘è§£ç ã€‚<a href="https://github.com/beetbox/audioread" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>beetsï¼šä¸€ä¸ªéŸ³ä¹åº“ç®¡ç†å·¥å…·åŠ <a href="https://musicbrainz.org/" target="_blank" rel="external">MusicBrainz</a> æ ‡ç­¾æ·»åŠ å·¥å…·<a href="http://beets.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dejavuï¼šéŸ³é¢‘æŒ‡çº¹æå–å’Œè¯†åˆ«<a href="https://github.com/worldveil/dejavu" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/django-elastic-transcoder/" target="_blank" rel="external">django-elastic-transcoder</a>ï¼šDjango + <a href="http://aws.amazon.com/elastictranscoder/" target="_blank" rel="external">Amazon Elastic Transcoder</a>ã€‚<a href="https://github.com/StreetVoice/django-elastic-transcoder" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>eyeD3ï¼šä¸€ä¸ªç”¨æ¥æ“ä½œéŸ³é¢‘æ–‡ä»¶çš„å·¥å…·ï¼Œå…·ä½“æ¥è®²å°±æ˜¯åŒ…å« ID3 å…ƒä¿¡æ¯çš„ MP3 æ–‡ä»¶ã€‚<a href="http://eyed3.nicfit.net/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>id3readerï¼šä¸€ä¸ªç”¨æ¥è¯»å– MP3 å…ƒæ•°æ®çš„ Python æ¨¡å—ã€‚<a href="http://nedbatchelder.com/code/modules/id3reader.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>m3u8ï¼šä¸€ä¸ªç”¨æ¥è§£æ m3u8 æ–‡ä»¶çš„æ¨¡å—ã€‚<a href="https://github.com/globocom/m3u8" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mutagenï¼šä¸€ä¸ªç”¨æ¥å¤„ç†éŸ³é¢‘å…ƒæ•°æ®çš„ Python æ¨¡å—ã€‚<a href="https://bitbucket.org/lazka/mutagen" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pydubï¼šé€šè¿‡ç®€å•ã€ç®€æ´çš„é«˜å±‚æ¥å£æ¥æ“ä½œéŸ³é¢‘æ–‡ä»¶ã€‚<a href="https://github.com/jiaaro/pydub" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyechonestï¼š<a href="http://developer.echonest.com/" target="_blank" rel="external">Echo Nest</a> API çš„ Python å®¢æˆ·ç«¯<a href="https://github.com/echonest/pyechonest" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>talkboxï¼šä¸€ä¸ªç”¨æ¥å¤„ç†æ¼”è®²/ä¿¡å·çš„ Python åº“<a href="http://scikits.appspot.com/talkbox" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TimeSideï¼šå¼€æº web éŸ³é¢‘å¤„ç†æ¡†æ¶ã€‚<a href="https://github.com/Parisson/TimeSide" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>tinytagï¼šä¸€ä¸ªç”¨æ¥è¯»å–MP3, OGG, FLAC ä»¥åŠ Wave æ–‡ä»¶éŸ³ä¹å…ƒæ•°æ®çš„åº“ã€‚<a href="https://github.com/devsnd/tinytag" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mingusï¼šä¸€ä¸ªé«˜çº§éŸ³ä¹ç†è®ºå’Œæ›²è°±åŒ…ï¼Œæ”¯æŒ MIDI æ–‡ä»¶å’Œå›æ”¾åŠŸèƒ½ã€‚<a href="http://bspaans.github.io/python-mingus/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h3><p>ç”¨æ¥æ“ä½œè§†é¢‘å’ŒGIFçš„åº“ã€‚</p>
<ul>
<li>moviepyï¼šä¸€ä¸ªç”¨æ¥è¿›è¡ŒåŸºäºè„šæœ¬çš„è§†é¢‘ç¼–è¾‘æ¨¡å—ï¼Œé€‚ç”¨äºå¤šç§æ ¼å¼ï¼ŒåŒ…æ‹¬åŠ¨å›¾ GIFsã€‚<a href="http://zulko.github.io/moviepy/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>scikit-videoï¼šSciPy è§†é¢‘å¤„ç†å¸¸ç”¨ç¨‹åºã€‚<a href="https://github.com/aizvorski/scikit-video" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="åœ°ç†ä½ç½®"><a href="#åœ°ç†ä½ç½®" class="headerlink" title="åœ°ç†ä½ç½®"></a>åœ°ç†ä½ç½®</h3><p>åœ°ç†ç¼–ç åœ°å€ä»¥åŠç”¨æ¥å¤„ç†ç»çº¬åº¦çš„åº“ã€‚</p>
<ul>
<li>GeoDjangoï¼šä¸–ç•Œçº§åœ°ç†å›¾å½¢ web æ¡†æ¶ã€‚<a href="https://docs.djangoproject.com/en/dev/ref/contrib/gis/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>GeoIPï¼šMaxMind GeoIP Legacy æ•°æ®åº“çš„ Python APIã€‚<a href="https://github.com/maxmind/geoip-api-python" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>geojsonï¼šGeoJSON çš„ Python ç»‘å®šåŠå·¥å…·ã€‚<a href="https://github.com/frewsxcv/python-geojson" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>geopyï¼šPython åœ°å€ç¼–ç å·¥å…·ç®±ã€‚<a href="https://github.com/geopy/geopy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pygeoipï¼šçº¯ Python GeoIP APIã€‚<a href="https://github.com/appliedsec/pygeoip" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-countriesï¼šä¸€ä¸ª Django åº”ç”¨ç¨‹åºï¼Œæä¾›ç”¨äºè¡¨æ ¼çš„å›½å®¶é€‰æ‹©åŠŸèƒ½ï¼Œå›½æ——å›¾æ ‡é™æ€æ–‡ä»¶ä»¥åŠæ¨¡å‹ä¸­çš„å›½å®¶å­—æ®µã€‚<a href="https://github.com/SmileyChris/django-countries" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p>ä½¿ç”¨HTTPçš„åº“ã€‚</p>
<ul>
<li>requestsï¼šäººæ€§åŒ–çš„HTTPè¯·æ±‚åº“ã€‚<a href="http://docs.python-requests.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>grequestsï¼šrequests åº“ + gevent ï¼Œç”¨äºå¼‚æ­¥ HTTP è¯·æ±‚.<a href="https://github.com/kennethreitz/grequests" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>httplib2ï¼šå…¨é¢çš„ HTTP å®¢æˆ·ç«¯åº“ã€‚<a href="https://github.com/jcgregorio/httplib2" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>treqï¼šç±»ä¼¼ requests çš„Python API æ„å»ºäº Twisted HTTP å®¢æˆ·ç«¯ä¹‹ä¸Šã€‚<a href="https://github.com/twisted/treq" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>urllib3ï¼šä¸€ä¸ªå…·æœ‰çº¿ç¨‹å®‰å…¨è¿æ¥æ± ï¼Œæ”¯æŒæ–‡ä»¶ postï¼Œæ¸…æ™°å‹å¥½çš„ HTTP åº“ã€‚<a href="https://github.com/shazow/urllib3" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h3><p>Pythonå®ç°çš„æ•°æ®åº“ã€‚</p>
<ul>
<li>pickleDBï¼šä¸€ä¸ªç®€å•ï¼Œè½»é‡çº§é”®å€¼å‚¨å­˜æ•°æ®åº“ã€‚<a href="https://pythonhosted.org/pickleDB/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PipelineDBï¼šæµå¼ SQL æ•°æ®åº“ã€‚<a href="https://www.pipelinedb.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TinyDBï¼šä¸€ä¸ªå¾®å‹çš„ï¼Œé¢å‘æ–‡æ¡£å‹æ•°æ®åº“ã€‚<a href="https://github.com/msiemens/tinydb" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ZODBï¼šä¸€ä¸ª Python åŸç”Ÿå¯¹è±¡æ•°æ®åº“ã€‚ä¸€ä¸ªé”®å€¼å’Œå¯¹è±¡å›¾æ•°æ®åº“ã€‚<a href="http://www.zodb.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ•°æ®åº“é©±åŠ¨"><a href="#æ•°æ®åº“é©±åŠ¨" class="headerlink" title="æ•°æ®åº“é©±åŠ¨"></a>æ•°æ®åº“é©±åŠ¨</h3><p>ç”¨æ¥è¿æ¥å’Œæ“ä½œæ•°æ®åº“çš„åº“ã€‚</p>
<ul>
<li>MySQLï¼š<a href="http://shlomi-noach.github.io/awesome-mysql/" target="_blank" rel="external">awesome-mysql</a>ç³»åˆ—<ul>
<li>mysql-pythonï¼šPython çš„ MySQL æ•°æ®åº“è¿æ¥å™¨ã€‚<a href="https://sourceforge.net/projects/mysql-python/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ysqlclientï¼š<a href="https://github.com/PyMySQL/mysqlclient-python" target="_blank" rel="external">mysql-python</a> åˆ†æ”¯ï¼Œæ”¯æŒ Python 3ã€‚</li>
<li>oursqlï¼šä¸€ä¸ªæ›´å¥½çš„ MySQL è¿æ¥å™¨ï¼Œæ”¯æŒåŸç”Ÿé¢„ç¼–è¯‘æŒ‡ä»¤å’Œ BLOBs.<a href="https://pythonhosted.org/oursql/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyMySQLï¼šçº¯ Python MySQL é©±åŠ¨ï¼Œå…¼å®¹ mysql-pythonã€‚<a href="https://github.com/PyMySQL/PyMySQL" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>PostgreSQL<ul>
<li>psycopg2ï¼šPython ä¸­æœ€æµè¡Œçš„ PostgreSQL é€‚é…å™¨ã€‚<a href="http://initd.org/psycopg/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>queriesï¼špsycopg2 åº“çš„å°è£…ï¼Œç”¨æ¥å’Œ PostgreSQL è¿›è¡Œäº¤äº’ã€‚<a href="https://github.com/gmr/queries" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>txpostgresï¼šåŸºäº Twisted çš„å¼‚æ­¥ PostgreSQL é©±åŠ¨ã€‚<a href="http://txpostgres.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>å…¶ä»–å…³ç³»å‹æ•°æ®åº“<ul>
<li>apswï¼šå¦ä¸€ä¸ª Python SQLiteå°è£…ã€‚<a href="http://rogerbinns.github.io/apsw/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>datasetï¼šåœ¨æ•°æ®åº“ä¸­å­˜å‚¨Pythonå­—å…¸</li>
<li>pymssqlï¼šä¸€ä¸ªç®€å•çš„Microsoft SQL Serveræ•°æ®åº“æ¥å£ã€‚<a href="http://www.pymssql.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>NoSQL æ•°æ®åº“<ul>
<li>cassandra-python-driverï¼šCassandra çš„ Python é©±åŠ¨ã€‚<a href="https://github.com/datastax/python-driver" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>HappyBaseï¼šä¸€ä¸ªä¸º Apache HBase è®¾è®¡çš„ï¼Œå¯¹å¼€å‘è€…å‹å¥½çš„åº“ã€‚<a href="http://happybase.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Plyvelï¼šä¸€ä¸ªå¿«é€Ÿä¸”åŠŸèƒ½ä¸°å¯Œçš„ LevelDB çš„ Python æ¥å£ã€‚<a href="https://plyvel.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>py2neoï¼šNeo4j restful æ¥å£çš„Python å°è£…å®¢æˆ·ç«¯ã€‚<a href="http://py2neo.org/2.0/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pycassaï¼šCassandra çš„ Python Thrift é©±åŠ¨ã€‚<a href="https://github.com/pycassa/pycassa" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyMongoï¼šMongoDB çš„å®˜æ–¹ Python å®¢æˆ·ç«¯ã€‚<a href="https://docs.mongodb.org/ecosystem/drivers/python/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>redis-pyï¼šRedis çš„ Python å®¢æˆ·ç«¯ã€‚<a href="https://github.com/andymccurdy/redis-py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>telephusï¼šåŸºäº Twisted çš„ Cassandra å®¢æˆ·ç«¯ã€‚<a href="https://github.com/driftx/Telephus" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>txRedisï¼šåŸºäº Twisted çš„ Redis å®¢æˆ·ç«¯ã€‚<a href="https://github.com/deldotdr/txRedis" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h3><p>å®ç°å¯¹è±¡å…³ç³»æ˜ å°„æˆ–æ•°æ®æ˜ å°„æŠ€æœ¯çš„åº“ã€‚</p>
<ul>
<li>å…³ç³»å‹æ•°æ®åº“<ul>
<li>Django Modelsï¼šDjango çš„ä¸€éƒ¨åˆ†ã€‚<a href="https://docs.djangoproject.com/en/dev/topics/db/models/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SQLAlchemyï¼šPython SQL å·¥å…·ä»¥åŠå¯¹è±¡å…³ç³»æ˜ å°„å·¥å…·ã€‚<a href="http://www.sqlalchemy.org/" target="_blank" rel="external">å®˜ç½‘</a><ul>
<li><a href="https://github.com/dahlia/awesome-sqlalchemy" target="_blank" rel="external">awesome-sqlalchemy</a>ç³»åˆ—</li>
</ul>
</li>
<li><a href="http://hao.jobbole.com/peewee/" target="_blank" rel="external">Peewee</a>ï¼šä¸€ä¸ªå°å·§ï¼Œå¯Œæœ‰è¡¨è¾¾åŠ›çš„ ORMã€‚<a href="https://github.com/coleifer/peewee" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PonyORMï¼šæä¾›é¢å‘ç”Ÿæˆå™¨çš„ SQL æ¥å£çš„ ORMã€‚<a href="https://ponyorm.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-sqlï¼šç¼–å†™ Python é£æ ¼çš„ SQL æŸ¥è¯¢ã€‚<a href="https://pypi.python.org/pypi/python-sql" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>NoSQL æ•°æ®åº“<ul>
<li>django-mongodb-engineï¼šDjango MongoDB åç«¯ã€‚<a href="https://github.com/django-nonrel/mongodb-engine" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PynamoDBï¼š<a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="external">Amazon DynamoDB</a> çš„ä¸€ä¸ª Python é£æ ¼æ¥å£ã€‚<a href="https://github.com/jlafon/PynamoDB" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flywheelï¼šAmazon DynamoDB çš„å¯¹è±¡æ˜ å°„å·¥å…·ã€‚<a href="https://github.com/mathcamp/flywheel" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>MongoEngineï¼šä¸€ä¸ªPython å¯¹è±¡æ–‡æ¡£æ˜ å°„å·¥å…·ï¼Œç”¨äº MongoDBã€‚<a href="http://mongoengine.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hot-redisï¼šä¸º Redis æä¾› Python ä¸°å¯Œçš„æ•°æ®ç±»å‹ã€‚<a href="https://github.com/stephenmcd/hot-redis" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>rediscoï¼šä¸€ä¸ª Python åº“ï¼Œæä¾›å¯ä»¥æŒç»­å­˜åœ¨åœ¨ Redis ä¸­çš„ç®€å•æ¨¡å‹å’Œå®¹å™¨ã€‚<a href="https://github.com/kiddouk/redisco" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>å…¶ä»–<ul>
<li>butterdbï¼šGoogle Drive ç”µå­è¡¨æ ¼çš„ Python ORMã€‚<a href="https://github.com/Widdershin/butterdb" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="Web-æ¡†æ¶"><a href="#Web-æ¡†æ¶" class="headerlink" title="Web æ¡†æ¶"></a>Web æ¡†æ¶</h3><p>å…¨æ ˆ Web æ¡†æ¶ã€‚</p>
<ul>
<li><a href="http://hao.jobbole.com/django/" target="_blank" rel="external">Django</a>ï¼šPython ç•Œæœ€æµè¡Œçš„ web æ¡†æ¶ã€‚<a href="https://www.djangoproject.com/" target="_blank" rel="external">å®˜ç½‘</a><ul>
<li><a href="https://github.com/rosarior/awesome-django" target="_blank" rel="external">awesome-django</a>ç³»åˆ—</li>
</ul>
</li>
<li><a href="http://hao.jobbole.com/flask/" target="_blank" rel="external">Flask</a>ï¼šä¸€ä¸ª Python å¾®å‹æ¡†æ¶ã€‚<a href="http://flask.pocoo.org/" target="_blank" rel="external">å®˜ç½‘</a><ul>
<li><a href="https://github.com/humiaozuzu/awesome-flask" target="_blank" rel="external">awesome-flask</a>ç³»åˆ—</li>
</ul>
</li>
<li>pyramidï¼šä¸€ä¸ªå°å·§ï¼Œå¿«é€Ÿï¼Œæ¥åœ°æ°”çš„å¼€æºPython web æ¡†æ¶ã€‚<ul>
<li><a href="https://github.com/uralbash/awesome-pyramid" target="_blank" rel="external">awesome-pyramid</a>ç³»åˆ—</li>
</ul>
</li>
<li><a href="http://hao.jobbole.com/bottle/" target="_blank" rel="external">Bottle</a>ï¼šä¸€ä¸ªå¿«é€Ÿå°å·§ï¼Œè½»é‡çº§çš„ WSGI å¾®å‹ web æ¡†æ¶ã€‚<a href="http://bottlepy.org/docs/dev/index.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>CherryPyï¼šä¸€ä¸ªæç®€çš„ Python web æ¡†æ¶ï¼Œæœä» HTTP/1.1 åè®®ä¸”å…·æœ‰WSGI çº¿ç¨‹æ± ã€‚<a href="http://www.cherrypy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TurboGearsï¼šä¸€ä¸ªå¯ä»¥æ‰©å±•ä¸ºå…¨æ ˆè§£å†³æ–¹æ¡ˆçš„å¾®å‹æ¡†æ¶ã€‚<a href="http://www.turbogears.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-webpy/" target="_blank" rel="external">web.py</a>ï¼šä¸€ä¸ª Python çš„ web æ¡†æ¶ï¼Œæ—¢ç®€å•ï¼Œåˆå¼ºå¤§ã€‚<a href="http://webpy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>web2pyï¼šä¸€ä¸ªå…¨æ ˆ web æ¡†æ¶å’Œå¹³å°ï¼Œä¸“æ³¨äºç®€å•æ˜“ç”¨ã€‚<a href="http://www.web2py.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/tornado/" target="_blank" rel="external">Tornado</a>ï¼šä¸€ä¸ªweb æ¡†æ¶å’Œå¼‚æ­¥ç½‘ç»œåº“ã€‚<a href="http://www.tornadoweb.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h3><p>å…è®¸æˆ–æ‹’ç»ç”¨æˆ·è®¿é—®æ•°æ®æˆ–åŠŸèƒ½çš„åº“ã€‚</p>
<ul>
<li>Carteblancheï¼šModule to align code with thoughts of users and designers. Also magically handles navigation and permissions.<a href="https://github.com/neuman/python-carteblanche/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-guardianï¼šDjango 1.2+ å®ç°äº†å•ä¸ªå¯¹è±¡æƒé™ã€‚<a href="https://github.com/django-guardian/django-guardian" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-rulesï¼šä¸€ä¸ªå°å·§ä½†æ˜¯å¼ºå¤§çš„åº”ç”¨ï¼Œæä¾›å¯¹è±¡çº§åˆ«çš„æƒé™ç®¡ç†ï¼Œä¸”ä¸éœ€è¦ä½¿ç”¨æ•°æ®åº“ã€‚<a href="https://github.com/dfunckt/django-rules" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="CMS"><a href="#CMS" class="headerlink" title="CMS"></a>CMS</h3><p>å†…å®¹ç®¡ç†ç³»ç»Ÿ</p>
<ul>
<li>odoo-cms: ä¸€ä¸ªå¼€æºçš„ï¼Œä¼ä¸šçº§ CMSï¼ŒåŸºäºodooã€‚<a href="http://www.odoo.com" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-cmsï¼šä¸€ä¸ªå¼€æºçš„ï¼Œä¼ä¸šçº§ CMSï¼ŒåŸºäº Djangoã€‚<a href="http://www.django-cms.org/en/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>djedi-cmsï¼šä¸€ä¸ªè½»é‡çº§ä½†å´éå¸¸å¼ºå¤§çš„ Django CMS ï¼Œè€ƒè™‘åˆ°äº†æ’ä»¶ï¼Œå†…è”ç¼–è¾‘ä»¥åŠæ€§èƒ½ã€‚<a href="http://djedi-cms.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>FeinCMSï¼šåŸºäº Django æ„å»ºçš„æœ€å…ˆè¿›çš„å†…å®¹ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ã€‚<a href="http://www.feincms.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Kottiï¼šä¸€ä¸ªé«˜çº§çš„ï¼ŒPython èŒƒçš„ web åº”ç”¨æ¡†æ¶ï¼ŒåŸºäº Pyramid æ„å»ºã€‚<a href="http://kotti.pylonsproject.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Mezzanineï¼šä¸€ä¸ªå¼ºå¤§çš„ï¼ŒæŒç»­çš„ï¼Œçµæ´»çš„å†…å®¹ç®¡ç†å¹³å°ã€‚<a href="http://mezzanine.jupo.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Oppsï¼šä¸€ä¸ªä¸ºæ‚å¿—ï¼ŒæŠ¥çº¸ç½‘ç«™ä»¥åŠå¤§æµé‡é—¨æˆ·ç½‘ç«™è®¾è®¡çš„ CMS å¹³å°ï¼ŒåŸºäº Djangoã€‚<a href="http://opps.github.io/opps/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Ploneï¼šä¸€ä¸ªæ„å»ºäºå¼€æºåº”ç”¨æœåŠ¡å™¨ Zope ä¹‹ä¸Šçš„ CMSã€‚<a href="https://plone.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Quokkaï¼šçµæ´»ï¼Œå¯æ‰©å±•çš„å°å‹ CMSï¼ŒåŸºäº Flask å’Œ MongoDBã€‚<a href="http://quokkaproject.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/wagtail/" target="_blank" rel="external">Wagtail</a>ï¼šä¸€ä¸ª Django å†…å®¹ç®¡ç†ç³»ç»Ÿã€‚<a href="https://wagtail.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Widgyï¼šæœ€æ–°çš„ CMS æ¡†æ¶ï¼ŒåŸºäº Djangoã€‚<a href="https://wid.gy/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç”µå­å•†åŠ¡"><a href="#ç”µå­å•†åŠ¡" class="headerlink" title="ç”µå­å•†åŠ¡"></a>ç”µå­å•†åŠ¡</h3><p>ç”¨äºç”µå­å•†åŠ¡ä»¥åŠæ”¯ä»˜çš„æ¡†æ¶å’Œåº“ã€‚</p>
<ul>
<li>django-oscarï¼šä¸€ä¸ªç”¨äº Django çš„å¼€æºçš„ç”µå­å•†åŠ¡æ¡†æ¶ã€‚<a href="http://oscarcommerce.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-shopï¼šä¸€ä¸ªåŸºäº Django çš„åº—é“ºç³»ç»Ÿã€‚<a href="https://github.com/awesto/django-shop" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Cartridgeï¼šä¸€ä¸ªåŸºäº Mezzanine æ„å»ºçš„è´­ç‰©è½¦åº”ç”¨ã€‚<a href="https://github.com/stephenmcd/cartridge" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>shoopï¼šä¸€ä¸ªåŸºäº Django çš„å¼€æºç”µå­å•†åŠ¡å¹³å°ã€‚<a href="https://www.shoop.io/en/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>alipayï¼šéå®˜æ–¹çš„ Python æ”¯ä»˜å® APIã€‚<a href="https://github.com/lxneng/alipay" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>merchantï¼šä¸€ä¸ªå¯ä»¥æ¥æ”¶æ¥è‡ªå¤šç§æ”¯ä»˜å¹³å°æ”¯ä»˜çš„ Django åº”ç”¨ã€‚<a href="https://github.com/agiliq/merchant" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>moneyï¼šè´§å¸ç±»åº“with optional CLDR-backed locale-aware formatting and an extensible currency exchange solution.<a href="https://github.com/carlospalol/money" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-currenciesï¼šæ˜¾ç¤ºè´§å¸æ ¼å¼ä»¥åŠå®ƒçš„æ•°å€¼ã€‚<a href="https://github.com/Alir3z4/python-currencies" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h3><p>ç”¨æ¥å¼€å‘RESTful APIsçš„åº“</p>
<ul>
<li>Django<ul>
<li><a href="http://hao.jobbole.com/django-rest-framework/" target="_blank" rel="external">django-rest-framework</a>ï¼šä¸€ä¸ªå¼ºå¤§çµæ´»çš„å·¥å…·ï¼Œç”¨æ¥æ„å»º web APIã€‚<a href="http://www.django-rest-framework.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-tastypieï¼šä¸ºDjango åº”ç”¨å¼€å‘APIã€‚<a href="http://tastypieapi.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-formapiï¼šä¸º Django çš„è¡¨å•éªŒè¯ï¼Œåˆ›å»º JSON APIs ã€‚<a href="https://github.com/5monkeys/django-formapi" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Flask<ul>
<li>flask-apiï¼šä¸º flask å¼€å‘çš„ï¼Œå¯æµè§ˆ Web APIs ã€‚<a href="http://www.flaskapi.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flask-restfulï¼šä¸º flask å¿«é€Ÿåˆ›å»ºREST APIs ã€‚<a href="http://flask-restful.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flask-restlessï¼šä¸º SQLAlchemy å®šä¹‰çš„æ•°æ®åº“æ¨¡å‹åˆ›å»º RESTful APIs ã€‚<a href="https://flask-restless.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flask-api-utilsï¼šä¸º Flask å¤„ç† API è¡¨ç¤ºå’ŒéªŒè¯ã€‚<a href="https://github.com/marselester/flask-api-utils" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>eveï¼šREST API æ¡†æ¶ï¼Œç”± Flask, MongoDB ç­‰é©±åŠ¨ã€‚<a href="https://github.com/nicolaiarocci/eve" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Pyramid<ul>
<li>corniceï¼šä¸€ä¸ªPyramid çš„ REST æ¡†æ¶ ã€‚<a href="https://cornice.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>ä¸æ¡†æ¶æ— å…³çš„<ul>
<li>falconï¼šä¸€ä¸ªç”¨æ¥å»ºç«‹äº‘ API å’Œ web app åç«¯çš„é«˜æ€§èƒ½æ¡†æ¶ã€‚<a href="http://falconframework.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sandmanï¼šä¸ºç°å­˜çš„æ•°æ®åº“é©±åŠ¨ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º REST APIs ã€‚<a href="https://github.com/jeffknupp/sandman" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>restlessï¼šæ¡†æ¶æ— å…³çš„ REST æ¡†æ¶ ï¼ŒåŸºäºä» Tastypie å­¦åˆ°çš„çŸ¥è¯†ã€‚<a href="http://restless.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ripozoï¼šå¿«é€Ÿåˆ›å»º REST/HATEOAS/Hypermedia APIsã€‚<a href="https://github.com/vertical-knowledge/ripozo" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>å®ç°éªŒè¯æ–¹æ¡ˆçš„åº“ã€‚</p>
<ul>
<li>OAuth<ul>
<li>Authomaticï¼šç®€å•ä½†æ˜¯å¼ºå¤§çš„æ¡†æ¶ï¼Œèº«ä»½éªŒè¯/æˆæƒå®¢æˆ·ç«¯ã€‚<a href="http://peterhudec.github.io/authomatic/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-allauthï¼šDjango çš„éªŒè¯åº”ç”¨ã€‚<a href="https://github.com/pennersr/django-allauth" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-oauth-toolkitï¼šä¸º Django ç”¨æˆ·å‡†å¤‡çš„ OAuth2ã€‚<a href="https://github.com/evonove/django-oauth-toolkit" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-oauth2-providerï¼šä¸º Django åº”ç”¨æä¾› OAuth2 æ¥å…¥ã€‚<a href="https://github.com/caffeinehit/django-oauth2-provider" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Flask-OAuthlibï¼šOAuth 1.0/a, 2.0 å®¢æˆ·ç«¯å®ç°ï¼Œä¾› Flask ä½¿ç”¨ã€‚<a href="https://github.com/lepture/flask-oauthlib" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>OAuthLibï¼šä¸€ä¸ª OAuth è¯·æ±‚-ç­¾åé€»è¾‘é€šç”¨ã€ å®Œæ•´çš„å®ç°ã€‚<a href="https://github.com/idan/oauthlib" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-oauth2ï¼šä¸€ä¸ªå®Œå…¨æµ‹è¯•çš„æŠ½è±¡æ¥å£ã€‚ç”¨æ¥åˆ›å»º OAuth å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚<a href="https://github.com/joestump/python-oauth2" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-social-authï¼šä¸€ä¸ªè®¾ç½®ç®€å•çš„ç¤¾ä¼šåŒ–éªŒè¯æ–¹å¼ã€‚<a href="https://github.com/omab/python-social-auth" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>rauthï¼šOAuth 1.0/a, 2.0, å’Œ Ofly çš„ Python åº“ã€‚<a href="https://github.com/litl/rauth" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sanctionï¼šä¸€ä¸ªè¶…çº§ç®€å•çš„OAuth2 å®¢æˆ·ç«¯å®ç°ã€‚<a href="https://github.com/demianbrecht/sanction" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>å…¶ä»–<ul>
<li>joseï¼šJavaScript å¯¹è±¡ç­¾åå’ŒåŠ å¯†è‰æ¡ˆçš„å®ç°ã€‚<a href="https://github.com/demonware/jose" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyJWTï¼šJSON Web ä»¤ç‰Œè‰æ¡ˆ 01ã€‚<a href="https://github.com/jpadilla/pyjwt" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-jwsï¼šJSON Web ç­¾åè‰æ¡ˆ 02 çš„å®ç°ã€‚<a href="https://github.com/brianloveswords/python-jws" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-jwtï¼šä¸€ä¸ªç”¨æ¥ç”Ÿæˆå’ŒéªŒè¯ JSON Web ä»¤ç‰Œçš„æ¨¡å—ã€‚<a href="https://github.com/davedoesdev/python-jwt" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="æ¨¡æ¿å¼•æ“"><a href="#æ¨¡æ¿å¼•æ“" class="headerlink" title="æ¨¡æ¿å¼•æ“"></a>æ¨¡æ¿å¼•æ“</h3><p>æ¨¡æ¿ç”Ÿæˆå’Œè¯æ³•è§£æçš„åº“å’Œå·¥å…·ã€‚</p>
<ul>
<li><a href="http://hao.jobbole.com/jinja2/" target="_blank" rel="external">Jinja2</a>ï¼šä¸€ä¸ªç°ä»£çš„ï¼Œå¯¹è®¾è®¡å¸ˆå‹å¥½çš„æ¨¡æ¿å¼•æ“ã€‚<a href="https://github.com/pallets/jinja" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Chameleonï¼šä¸€ä¸ª HTML/XML æ¨¡æ¿å¼•æ“ã€‚ æ¨¡ä»¿äº† ZPTï¼ˆZope Page Templatesï¼‰, è¿›è¡Œäº†é€Ÿåº¦ä¸Šçš„ä¼˜åŒ–ã€‚<a href="https://chameleon.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Genshiï¼šPython æ¨¡æ¿å·¥å…·ï¼Œç”¨ä»¥ç”Ÿæˆ web æ„ŸçŸ¥çš„ç»“æœã€‚<a href="https://genshi.edgewall.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Makoï¼šPython å¹³å°çš„è¶…é«˜é€Ÿè½»é‡çº§æ¨¡æ¿ã€‚<a href="http://www.makotemplates.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><p>å¤„ç†äº‹ä»¶ä»¥åŠä»»åŠ¡é˜Ÿåˆ—çš„åº“ã€‚</p>
<ul>
<li>celeryï¼šä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—/ä½œä¸šé˜Ÿåˆ—ï¼ŒåŸºäºåˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’ã€‚<a href="http://www.celeryproject.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hueyï¼šå°å‹å¤šçº¿ç¨‹ä»»åŠ¡é˜Ÿåˆ—ã€‚<a href="https://github.com/coleifer/huey" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/mrq/" target="_blank" rel="external">mrq</a>ï¼šMr. Queue -ä¸€ä¸ª Python çš„åˆ†å¸ƒå¼ worker ä»»åŠ¡é˜Ÿåˆ—ï¼Œ ä½¿ç”¨ Redis å’Œ geventã€‚<a href="https://github.com/pricingassistant/mrq" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>rqï¼šç®€å•çš„ Python ä½œä¸šé˜Ÿåˆ—ã€‚<a href="http://python-rq.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>simpleqï¼šä¸€ä¸ªç®€å•çš„ï¼Œå¯æ— é™æ‰©å¼ çš„ï¼ŒåŸºäºäºšé©¬é€Š SQS çš„é˜Ÿåˆ—ã€‚<a href="https://github.com/rdegges/simpleq" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h3><p>å¯¹æ•°æ®è¿›è¡Œç´¢å¼•å’Œæ‰§è¡Œæœç´¢æŸ¥è¯¢çš„åº“å’Œè½¯ä»¶ã€‚</p>
<ul>
<li>django-haystackï¼šDjango æ¨¡å—åŒ–æœç´¢ã€‚<a href="https://github.com/django-haystack/django-haystack" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>elasticsearch-pyï¼šElasticsearch çš„å®˜æ–¹åº•å±‚ Python å®¢æˆ·ç«¯ã€‚<a href="https://www.elastic.co/guide/en/elasticsearch/client/python-api/current/index.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>elasticsearch-dsl-pyï¼šElasticsearch çš„å®˜æ–¹é«˜çº§ Python å®¢æˆ·ç«¯ã€‚<a href="https://github.com/elastic/elasticsearch-dsl-py" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>solrpyï¼š<a href="http://lucene.apache.org/solr/" target="_blank" rel="external">solr</a>çš„ Python å®¢æˆ·ç«¯ã€‚<a href="https://github.com/edsu/solrpy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Whooshï¼šä¸€ä¸ªå¿«é€Ÿçš„çº¯ Python æœç´¢å¼•æ“åº“ã€‚<a href="http://whoosh.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="åŠ¨æ€æ¶ˆæ¯"><a href="#åŠ¨æ€æ¶ˆæ¯" class="headerlink" title="åŠ¨æ€æ¶ˆæ¯"></a>åŠ¨æ€æ¶ˆæ¯</h3><p>ç”¨æ¥åˆ›å»ºç”¨æˆ·æ´»åŠ¨çš„åº“ã€‚</p>
<ul>
<li>django-activity-streamï¼šä»ä½ çš„ç«™ç‚¹è¡Œä¸ºä¸­ç”Ÿæˆé€šç”¨æ´»åŠ¨ä¿¡æ¯æµã€‚<a href="https://github.com/justquick/django-activity-stream" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Stream-Frameworkï¼šä½¿ç”¨ Cassandra å’Œ Redis åˆ›å»ºåŠ¨æ€æ¶ˆæ¯å’Œé€šçŸ¥ç³»ç»Ÿã€‚<a href="https://github.com/tschellenbach/Stream-Framework" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="èµ„æºç®¡ç†"><a href="#èµ„æºç®¡ç†" class="headerlink" title="èµ„æºç®¡ç†"></a>èµ„æºç®¡ç†</h3><p>ç®¡ç†ã€å‹ç¼©ã€ç¼©å°ç½‘ç«™èµ„æºçš„å·¥å…·ã€‚</p>
<ul>
<li>django-compressorï¼šå°†é“¾æ¥å’Œå†…è”çš„ JavaScript æˆ– CSS å‹ç¼©åˆ°ä¸€ä¸ªå•ç‹¬çš„ç¼“å­˜æ–‡ä»¶ä¸­ã€‚<a href="https://github.com/django-compressor/django-compressor" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-storagesï¼šä¸€ä¸ªé’ˆå¯¹ Django çš„è‡ªå®šä¹‰å­˜å‚¨åç«¯çš„å·¥å…·é›†åˆã€‚<a href="http://django-storages.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fanstaticï¼šæ‰“åŒ…ã€ä¼˜åŒ–ï¼Œå¹¶ä¸”æŠŠé™æ€æ–‡ä»¶ä¾èµ–ä½œä¸º Python çš„åŒ…æ¥æä¾›ã€‚<a href="http://www.fanstatic.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>File Conveyorï¼šä¸€ä¸ªåå°é©»ç•™çš„ç¨‹åºï¼Œç”¨æ¥å‘ç°å’ŒåŒæ­¥æ–‡ä»¶åˆ° CDNs, S3 å’Œ FTPã€‚<a href="http://fileconveyor.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Flask-Assetsï¼šå¸®ä½ å°† web èµ„æºæ•´åˆåˆ°ä½ çš„ Flask app ä¸­ã€‚<a href="http://flask-assets.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>jinja-assets-compressorï¼šä¸€ä¸ª Jinja æ‰©å±•ï¼Œç”¨æ¥ç¼–è¯‘å’Œå‹ç¼©ä½ çš„èµ„æºã€‚<a href="https://github.com/jaysonsantos/jinja-assets-compressor" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>webassetsï¼šä¸ºä½ çš„é™æ€èµ„æºæ‰“åŒ…ã€ä¼˜åŒ–å’Œç®¡ç†ç”Ÿæˆç‹¬ä¸€æ— äºŒçš„ç¼“å­˜ URLã€‚<a href="http://webassets.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h3><p>ç¼“å­˜æ•°æ®çš„åº“ã€‚</p>
<ul>
<li>Beakerï¼šä¸€ä¸ªç¼“å­˜å’Œä¼šè¯åº“ï¼Œå¯ä»¥ç”¨åœ¨ web åº”ç”¨å’Œç‹¬ç«‹ Pythonè„šæœ¬å’Œåº”ç”¨ä¸Šã€‚<a href="http://beaker.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-cache-machineï¼šDjango æ¨¡å‹çš„è‡ªåŠ¨ç¼“å­˜å’Œå¤±æ•ˆã€‚<a href="https://github.com/django-cache-machine/django-cache-machine" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-cacheopsï¼šå…·æœ‰è‡ªåŠ¨é¢—ç²’åŒ–äº‹ä»¶é©±åŠ¨å¤±æ•ˆåŠŸèƒ½çš„ ORMã€‚<a href="https://github.com/Suor/django-cacheops" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-viewletï¼šæ¸²æŸ“æ¨¡æ¿ï¼ŒåŒæ—¶å…·æœ‰é¢å¤–çš„ç¼“å­˜æ§åˆ¶åŠŸèƒ½ã€‚<a href="https://github.com/5monkeys/django-viewlet" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dogpile.cacheï¼šdogpile.cache æ˜¯ Beaker çš„ä¸‹ä¸€ä»£æ›¿ä»£å“ï¼Œç”±åŒä¸€ä½œè€…å¼€å‘ã€‚<a href="http://dogpilecache.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>HermesCacheï¼šPython ç¼“å­˜åº“ï¼Œå…·æœ‰åŸºäºæ ‡ç­¾çš„å¤±æ•ˆå’Œ dogpile effect ä¿æŠ¤åŠŸèƒ½ã€‚<a href="https://pypi.python.org/pypi/HermesCache" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>johnny-cacheï¼šdjangoåº”ç”¨ç¼“å­˜æ¡†æ¶ã€‚<a href="https://github.com/jmoiron/johnny-cache" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pylibmcï¼š<a href="http://libmemcached.org/libMemcached.html" target="_blank" rel="external">libmemcached</a> æ¥å£çš„ Python å°è£…ã€‚<a href="https://github.com/lericson/pylibmc" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç”µå­é‚®ä»¶"><a href="#ç”µå­é‚®ä»¶" class="headerlink" title="ç”µå­é‚®ä»¶"></a>ç”µå­é‚®ä»¶</h3><p>ç”¨æ¥å‘é€å’Œè§£æç”µå­é‚®ä»¶çš„åº“ã€‚</p>
<ul>
<li>django-celery-sesï¼šå¸¦æœ‰ AWS SES å’Œ Celery çš„ Django email åç«¯ã€‚<a href="https://github.com/StreetVoice/django-celery-ses" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>envelopesï¼šä¾›äººç±»ä½¿ç”¨çš„ç”µå­é‚®ä»¶åº“ã€‚<a href="http://tomekwojcik.github.io/envelopes/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flankerï¼šä¸€ä¸ª email åœ°å€å’Œ Mime è§£æåº“ã€‚<a href="https://github.com/mailgun/flanker" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>imboxï¼šPython IMAP åº“<a href="https://github.com/martinrusev/imbox" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>inbox.pyï¼šPython SMTP æœåŠ¡å™¨ã€‚<a href="https://github.com/kennethreitz/inbox.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>inboxï¼šä¸€ä¸ªå¼€æºç”µå­é‚®ä»¶å·¥å…·ç®±ã€‚<a href="https://github.com/nylas/sync-engine" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>lamsonï¼šPython é£æ ¼çš„ SMTP åº”ç”¨æœåŠ¡å™¨ã€‚<a href="https://github.com/zedshaw/lamson" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mailjetï¼šMailjet API å®ç°ï¼Œç”¨æ¥æä¾›æ‰¹é‡å‘é€é‚®ä»¶ï¼Œç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚<a href="https://github.com/WoLpH/mailjet" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>marrow.mailerï¼šé«˜æ€§èƒ½å¯æ‰©å±•é‚®ä»¶åˆ†å‘æ¡†æ¶ã€‚<a href="https://github.com/marrow/mailer" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>modoboaï¼šä¸€ä¸ªé‚®ä»¶æ‰˜ç®¡å’Œç®¡ç†å¹³å°ï¼Œå…·æœ‰ç°ä»£çš„ã€ç®€çº¦çš„ Web UIã€‚<a href="https://github.com/tonioo/modoboa" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyzmailï¼šåˆ›å»ºï¼Œå‘é€å’Œè§£æç”µå­é‚®ä»¶ã€‚<a href="http://www.magiksys.net/pyzmail/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Talonï¼šMailgun åº“ï¼Œç”¨æ¥æŠ½å–ä¿¡æ¯å’Œç­¾åã€‚<a href="https://github.com/mailgun/talon" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å›½é™…åŒ–"><a href="#å›½é™…åŒ–" class="headerlink" title="å›½é™…åŒ–"></a>å›½é™…åŒ–</h3><p>ç”¨æ¥è¿›è¡Œå›½é™…åŒ–çš„åº“ã€‚</p>
<ul>
<li>Babelï¼šä¸€ä¸ªPython çš„å›½é™…åŒ–åº“ã€‚<a href="http://babel.pocoo.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Koreanï¼šä¸€ä¸ªéŸ©è¯­è¯æ€åº“ã€‚<a href="https://korean.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="URLå¤„ç†"><a href="#URLå¤„ç†" class="headerlink" title="URLå¤„ç†"></a>URLå¤„ç†</h3><p>è§£æURLsçš„åº“</p>
<ul>
<li>furlï¼šä¸€ä¸ªè®©å¤„ç† URL æ›´ç®€å•å°å‹ Python åº“ã€‚<a href="https://github.com/gruns/furl" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>purlï¼šä¸€ä¸ªç®€å•çš„ï¼Œä¸å¯å˜çš„URLç±»ï¼Œå…·æœ‰ç®€æ´çš„ API æ¥è¿›è¡Œè¯¢é—®å’Œå¤„ç†ã€‚<a href="https://github.com/codeinthehole/purl" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyshortenersï¼šä¸€ä¸ªçº¯ Python URL ç¼©çŸ­åº“ã€‚<a href="https://github.com/ellisonleao/pyshorteners" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>shorturlï¼šç”ŸæˆçŸ­å° URL å’Œç±»ä¼¼ bit.ly çŸ­é“¾çš„Python å®ç°ã€‚<a href="https://github.com/Alir3z4/python-shorturl" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>webargsï¼šä¸€ä¸ªè§£æ HTTP è¯·æ±‚å‚æ•°çš„åº“ï¼Œå†…ç½®å¯¹æµè¡Œ web æ¡†æ¶çš„æ”¯æŒï¼ŒåŒ…æ‹¬ Flask, Django, Bottle, Tornadoå’Œ Pyramidã€‚<a href="https://github.com/sloria/webargs" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="HTMLå¤„ç†"><a href="#HTMLå¤„ç†" class="headerlink" title="HTMLå¤„ç†"></a>HTMLå¤„ç†</h3><p>å¤„ç† HTMLå’ŒXMLçš„åº“ã€‚</p>
<ul>
<li>BeautifulSoupï¼šä»¥ Python é£æ ¼çš„æ–¹å¼æ¥å¯¹ HTML æˆ– XML è¿›è¡Œè¿­ä»£ï¼Œæœç´¢å’Œä¿®æ”¹ã€‚<a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>bleachï¼šä¸€ä¸ªåŸºäºç™½åå•çš„ HTML æ¸…ç†å’Œæ–‡æœ¬é“¾æ¥åº“ã€‚<a href="http://bleach.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>cssutilsï¼šä¸€ä¸ª Python çš„ CSS åº“ã€‚<a href="https://pypi.python.org/pypi/cssutils/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>html5libï¼šä¸€ä¸ªå…¼å®¹æ ‡å‡†çš„ HTML æ–‡æ¡£å’Œç‰‡æ®µè§£æåŠåºåˆ—åŒ–åº“ã€‚<a href="https://github.com/html5lib/html5lib-python" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>lxmlï¼šä¸€ä¸ªéå¸¸å¿«é€Ÿï¼Œç®€å•æ˜“ç”¨ï¼ŒåŠŸèƒ½é½å…¨çš„åº“ï¼Œç”¨æ¥å¤„ç† HTML å’Œ XMLã€‚<a href="http://lxml.de/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>MarkupSafeï¼šä¸ºPython å®ç° XML/HTML/XHTML æ ‡è®°å®‰å…¨å­—ç¬¦ä¸²ã€‚<a href="https://github.com/pallets/markupsafe" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyqueryï¼šä¸€ä¸ªè§£æ HTML çš„åº“ï¼Œç±»ä¼¼ jQueryã€‚<a href="https://github.com/gawel/pyquery" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>untangleï¼šå°†XMLæ–‡æ¡£è½¬æ¢ä¸ºPythonå¯¹è±¡ï¼Œä½¿å…¶å¯ä»¥æ–¹ä¾¿çš„è®¿é—®ã€‚<a href="https://github.com/stchris/untangle" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>xhtml2pdfï¼šHTML/CSS è½¬ PDF å·¥å…·ã€‚<a href="https://github.com/xhtml2pdf/xhtml2pdf" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>xmltodictï¼šåƒå¤„ç† JSON ä¸€æ ·å¤„ç† XMLã€‚<a href="https://github.com/martinblech/xmltodict" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<p>çˆ¬å–ç½‘ç»œç«™ç‚¹çš„åº“</p>
<ul>
<li>Scrapyï¼šä¸€ä¸ªå¿«é€Ÿé«˜çº§çš„å±å¹•çˆ¬å–åŠç½‘é¡µé‡‡é›†æ¡†æ¶ã€‚<a href="http://scrapy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>colaï¼šä¸€ä¸ªåˆ†å¸ƒå¼çˆ¬è™«æ¡†æ¶ã€‚<a href="https://github.com/chineking/cola" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Demiurgeï¼šåŸºäºPyQuery çš„çˆ¬è™«å¾®å‹æ¡†æ¶ã€‚<a href="https://github.com/matiasb/demiurge" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>feedparserï¼šé€šç”¨ feed è§£æå™¨ã€‚<a href="http://pythonhosted.org/feedparser/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Grabï¼šç«™ç‚¹çˆ¬å–æ¡†æ¶ã€‚<a href="http://grablib.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>MechanicalSoupï¼šç”¨äºè‡ªåŠ¨å’Œç½‘ç»œç«™ç‚¹äº¤äº’çš„ Python åº“ã€‚<a href="https://github.com/hickford/MechanicalSoup" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>portiaï¼šScrapy å¯è§†åŒ–çˆ¬å–ã€‚<a href="https://github.com/scrapinghub/portia" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyspiderï¼šä¸€ä¸ªå¼ºå¤§çš„çˆ¬è™«ç³»ç»Ÿã€‚<a href="https://github.com/binux/pyspider" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>RoboBrowserï¼šä¸€ä¸ªç®€å•çš„ï¼ŒPython é£æ ¼çš„åº“ï¼Œç”¨æ¥æµè§ˆç½‘ç«™ï¼Œè€Œä¸éœ€è¦ä¸€ä¸ªç‹¬ç«‹å®‰è£…çš„æµè§ˆå™¨ã€‚<a href="https://github.com/jmcarp/robobrowser" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç½‘é¡µå†…å®¹æå–"><a href="#ç½‘é¡µå†…å®¹æå–" class="headerlink" title="ç½‘é¡µå†…å®¹æå–"></a>ç½‘é¡µå†…å®¹æå–</h3><p>ç”¨äºè¿›è¡Œç½‘é¡µå†…å®¹æå–çš„åº“ã€‚</p>
<ul>
<li>Haulï¼šä¸€ä¸ªå¯ä»¥æ‰©å±•çš„å›¾åƒçˆ¬å–å·¥å…·ã€‚<a href="https://github.com/vinta/Haul" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>html2textï¼šå°† HTML è½¬æ¢ä¸º Markdown æ ¼å¼æ–‡æœ¬<a href="https://github.com/Alir3z4/html2text" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>lassieï¼šäººæ€§åŒ–çš„ç½‘é¡µå†…å®¹æ£€ç´¢åº“ã€‚<a href="https://github.com/michaelhelmick/lassie" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>micawberï¼šä¸€ä¸ªå°å‹ç½‘é¡µå†…å®¹æå–åº“ï¼Œç”¨æ¥ä» URLs æå–å¯Œå†…å®¹ã€‚<a href="https://github.com/coleifer/micawber" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li><a href="http://hao.jobbole.com/python-newspaper/" target="_blank" rel="external">newspaper</a>ï¼šä½¿ç”¨ Python è¿›è¡Œæ–°é—»æå–ï¼Œæ–‡ç« æå–ä»¥åŠå†…å®¹ç­–å±•ã€‚<a href="https://github.com/codelucas/newspaper" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>opengraphï¼šä¸€ä¸ªç”¨æ¥è§£æå¼€æ”¾å†…å®¹åè®®(Open Graph Protocol)çš„ Pythonæ¨¡å—ã€‚<a href="https://github.com/erikriver/opengraph" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-goose/" target="_blank" rel="external">python-goose</a>ï¼šHTMLå†…å®¹/æ–‡ç« æå–å™¨ã€‚<a href="https://github.com/grangier/python-goose" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-readabilityï¼šarc90 å…¬å¸ readability å·¥å…·çš„ Python é«˜é€Ÿç«¯å£ã€‚<a href="https://github.com/buriy/python-readability" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sanitizeï¼šä¸ºæ‚ä¹±çš„æ•°æ®ä¸–ç•Œå¸¦æ¥è°ƒç†æ€§ã€‚<a href="https://github.com/Alir3z4/python-sanitize" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sumyï¼šä¸€ä¸ªä¸ºæ–‡æœ¬æ–‡ä»¶å’Œ HTML é¡µé¢è¿›è¡Œè‡ªåŠ¨æ‘˜è¦çš„æ¨¡å—ã€‚<a href="https://github.com/miso-belica/sumy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>textractï¼šä»ä»»ä½•æ ¼å¼çš„æ–‡æ¡£ä¸­æå–æ–‡æœ¬ï¼ŒWordï¼ŒPowerPointï¼ŒPDFs ç­‰ç­‰ã€‚<a href="https://github.com/deanmalmgren/textract" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h3><p>è¿›è¡Œè¡¨å•æ“ä½œçš„åº“ã€‚</p>
<ul>
<li>Deformï¼šPython HTML è¡¨å•ç”Ÿæˆåº“ï¼Œå—åˆ°äº† formish è¡¨å•ç”Ÿæˆåº“çš„å¯å‘ã€‚<a href="http://deform.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-bootstrap3ï¼šé›†æˆäº† Bootstrap 3 çš„ Djangoã€‚<a href="https://github.com/dyve/django-bootstrap3" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-crispy-formsï¼šä¸€ä¸ª Django åº”ç”¨ï¼Œä»–å¯ä»¥è®©ä½ ä»¥ä¸€ç§éå¸¸ä¼˜é›…ä¸” DRYï¼ˆDonâ€™t repeat yourselfï¼‰ çš„æ–¹å¼æ¥åˆ›å»ºç¾è§‚çš„è¡¨å•ã€‚<a href="http://django-crispy-forms.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-remote-formsï¼šä¸€ä¸ªå¹³å°ç‹¬ç«‹çš„ Django è¡¨å•åºåˆ—åŒ–å·¥å…·ã€‚<a href="https://github.com/WiserTogether/django-remote-forms" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>WTFormsï¼šä¸€ä¸ªçµæ´»çš„è¡¨å•éªŒè¯å’Œå‘ˆç°åº“ã€‚<a href="http://wtforms.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>WTForms-JSONï¼šä¸€ä¸ª WTForms æ‰©å±•ï¼Œç”¨æ¥å¤„ç† JSON æ•°æ®ã€‚<a href="http://wtforms-json.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ•°æ®éªŒè¯"><a href="#æ•°æ®éªŒè¯" class="headerlink" title="æ•°æ®éªŒè¯"></a>æ•°æ®éªŒè¯</h3><p>æ•°æ®éªŒè¯åº“ã€‚å¤šç”¨äºè¡¨å•éªŒè¯ã€‚</p>
<ul>
<li>Cerberusï¼šA mappings-validator with a variety of rules, normalization-features and simple customization that uses a pythonic schema-definition.<a href="http://docs.python-cerberus.org/en/stable/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>colanderï¼šä¸€ä¸ªç”¨äºå¯¹ä» XML, JSONï¼ŒHTML è¡¨å•è·å–çš„æ•°æ®æˆ–å…¶ä»–åŒæ ·ç®€å•çš„åºåˆ—åŒ–æ•°æ®è¿›è¡ŒéªŒè¯å’Œååºåˆ—åŒ–çš„ç³»ç»Ÿã€‚<a href="http://docs.pylonsproject.org/projects/colander/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>kmatchï¼šä¸€ç§ç”¨äºåŒ¹é…/éªŒè¯/ç­›é€‰ Python å­—å…¸çš„è¯­è¨€ã€‚<a href="https://github.com/ambitioninc/kmatch" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>schemaï¼šä¸€ä¸ªç”¨äºå¯¹ Python æ•°æ®ç»“æ„è¿›è¡ŒéªŒè¯çš„åº“ã€‚<a href="https://github.com/keleshev/schema" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>Schematicsï¼šæ•°æ®ç»“æ„éªŒè¯ã€‚<a href="https://github.com/schematics/schematics" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>valideerï¼šè½»é‡çº§å¯æ‰©å±•çš„æ•°æ®éªŒè¯å’Œé€‚é…åº“ã€‚<a href="https://github.com/podio/valideer" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>voluptuousï¼šä¸€ä¸ª Python æ•°æ®éªŒè¯åº“ã€‚ä¸»è¦æ˜¯ä¸ºäº†éªŒè¯ä¼ å…¥ Pythonçš„ JSONï¼ŒYAML ç­‰æ•°æ®ã€‚<a href="https://github.com/alecthomas/voluptuous" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ååƒåœ¾æŠ€æœ¯"><a href="#ååƒåœ¾æŠ€æœ¯" class="headerlink" title="ååƒåœ¾æŠ€æœ¯"></a>ååƒåœ¾æŠ€æœ¯</h3><p>å¸®åŠ©ä½ å’Œç”µå­åƒåœ¾è¿›è¡Œæˆ˜æ–—çš„åº“ã€‚</p>
<ul>
<li>django-simple-captchaï¼šä¸€ä¸ªç®€å•ã€é«˜åº¦å¯å®šåˆ¶çš„Django åº”ç”¨ï¼Œå¯ä»¥ä¸ºä»»ä½•Djangoè¡¨å•æ·»åŠ éªŒè¯ç ã€‚<a href="https://github.com/mbi/django-simple-captcha" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-simple-spam-blockerï¼šä¸€ä¸ªç”¨äºDjangoçš„ç®€å•çš„ç”µå­åƒåœ¾å±è”½å·¥å…·ã€‚<a href="https://github.com/moqada/django-simple-spam-blocker" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ ‡è®°"><a href="#æ ‡è®°" class="headerlink" title="æ ‡è®°"></a>æ ‡è®°</h3><p>ç”¨æ¥è¿›è¡Œæ ‡è®°çš„åº“ã€‚</p>
<ul>
<li>django-taggitï¼šç®€å•çš„ Django æ ‡è®°å·¥å…·ã€‚<a href="https://github.com/alex/django-taggit" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç®¡ç†é¢æ¿"><a href="#ç®¡ç†é¢æ¿" class="headerlink" title="ç®¡ç†é¢æ¿"></a>ç®¡ç†é¢æ¿</h3><p>ç®¡ç†ç•Œé¢åº“ã€‚</p>
<ul>
<li>Ajentiï¼šä¸€ä¸ªä½ çš„æœåŠ¡å™¨å€¼å¾—æ‹¥æœ‰çš„ç®¡ç†é¢æ¿ã€‚<a href="https://github.com/Eugeny/ajenti" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-suitï¼šDjango ç®¡ç†ç•Œé¢çš„ä¸€ä¸ªæ›¿ä»£å“ (ä»…å¯¹äºéå•†ä¸šç”¨é€”æ˜¯å…è´¹çš„)ã€‚<a href="http://djangosuit.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-xadminï¼šDjango admin çš„ä¸€ä¸ªæ›¿ä»£å“ï¼Œå…·æœ‰å¾ˆå¤šä¸é”™çš„åŠŸèƒ½ã€‚<a href="https://github.com/sshwsfc/django-xadmin" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flask-adminï¼šä¸€ä¸ªç”¨äº Flask çš„ç®€å•å¯æ‰©å±•çš„ç®¡ç†ç•Œé¢æ¡†æ¶ã€‚<a href="https://github.com/flask-admin/flask-admin" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flowerï¼šä¸€ä¸ªå¯¹ Celery é›†ç¾¤è¿›è¡Œå®æ—¶ç›‘æ§å’Œæä¾› web ç®¡ç†ç•Œé¢çš„å·¥å…·ã€‚<a href="https://github.com/mher/flower" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Grappelliï¼šDjango ç®¡ç†ç•Œé¢çš„ä¸€ä¸ªæ¼‚äº®çš„çš®è‚¤ã€‚<a href="http://grappelliproject.com/" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>Wooeyï¼šä¸€ä¸ª Django åº”ç”¨ï¼Œå¯ä»¥ä¸º Python è„šæœ¬åˆ›å»º web ç”¨æˆ·ç•Œé¢ã€‚<a href="https://github.com/wooey/wooey" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="é™æ€ç«™ç‚¹ç”Ÿæˆå™¨"><a href="#é™æ€ç«™ç‚¹ç”Ÿæˆå™¨" class="headerlink" title="é™æ€ç«™ç‚¹ç”Ÿæˆå™¨"></a>é™æ€ç«™ç‚¹ç”Ÿæˆå™¨</h3><p>é™æ€ç«™ç‚¹ç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œå®ƒæŠŠæ–‡æœ¬å’Œæ¨¡æ¿ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¾“å‡ºHTMLæ–‡ä»¶ã€‚</p>
<ul>
<li>Pelicanï¼šä½¿ç”¨ Markdown æˆ– ReST æ¥å¤„ç†å†…å®¹ï¼Œ Jinja 2 æ¥åˆ¶ä½œä¸»é¢˜ã€‚æ”¯æŒ DVCS, Disqus.ã€‚AGPL è®¸å¯ã€‚<a href="http://blog.getpelican.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Cactusï¼šä¸ºè®¾è®¡å¸ˆè®¾è®¡çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ã€‚<a href="https://github.com/koenbok/Cactus/" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>Hydeï¼šåŸºäº Jinja2 çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ã€‚<a href="http://hyde.github.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Nikolaï¼šä¸€ä¸ªé™æ€ç½‘ç«™å’Œåšå®¢ç”Ÿæˆå™¨ã€‚<a href="https://www.getnikola.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Tinkererï¼šTinkerer æ˜¯ä¸€ä¸ªåšå®¢å¼•æ“/é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œç”±Sphinxé©±åŠ¨ã€‚<a href="http://tinkerer.me/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Lektorï¼šä¸€ä¸ªç®€å•æ˜“ç”¨çš„é™æ€ CMS å’Œåšå®¢å¼•æ“ã€‚<a href="https://www.getlektor.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h3><p>æ“ä½œç³»ç»Ÿè¿›ç¨‹å¯åŠ¨åŠé€šä¿¡åº“ã€‚</p>
<ul>
<li>envoyï¼šæ¯” Python <a href="https://docs.python.org/2/library/subprocess.html" target="_blank" rel="external">subprocess</a> æ¨¡å—æ›´äººæ€§åŒ–ã€‚<a href="https://github.com/kennethreitz/envoy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sargeï¼šå¦ä¸€ ç§ subprocess æ¨¡å—çš„å°è£…ã€‚<a href="http://sarge.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>shï¼šä¸€ä¸ªå®Œå¤‡çš„ subprocess æ›¿ä»£åº“ã€‚<a href="https://github.com/amoffat/sh" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å¹¶å‘å’Œå¹¶è¡Œ"><a href="#å¹¶å‘å’Œå¹¶è¡Œ" class="headerlink" title="å¹¶å‘å’Œå¹¶è¡Œ"></a>å¹¶å‘å’Œå¹¶è¡Œ</h3><p>ç”¨ä»¥è¿›è¡Œå¹¶å‘å’Œå¹¶è¡Œæ“ä½œçš„åº“ã€‚</p>
<ul>
<li>multiprocessingï¼š(Python æ ‡å‡†åº“) åŸºäºè¿›ç¨‹çš„â€œçº¿ç¨‹â€æ¥å£ã€‚<a href="https://docs.python.org/2/library/multiprocessing.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>threadingï¼š(Python æ ‡å‡†åº“)æ›´é«˜å±‚çš„çº¿ç¨‹æ¥å£ã€‚<a href="https://docs.python.org/2/library/threading.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>eventletï¼šæ”¯æŒ WSGI çš„å¼‚æ­¥æ¡†æ¶ã€‚<a href="http://eventlet.net/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>geventï¼šä¸€ä¸ªåŸºäºåç¨‹çš„ Python ç½‘ç»œåº“ï¼Œä½¿ç”¨<a href="https://github.com/python-greenlet/greenlet" target="_blank" rel="external">greenlet</a>ã€‚<a href="http://www.gevent.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Tomorrowï¼šç”¨äºäº§ç”Ÿå¼‚æ­¥ä»£ç çš„ç¥å¥‡çš„è£…é¥°å™¨è¯­æ³•å®ç°ã€‚<a href="https://github.com/madisonmay/Tomorrow" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><p>ç”¨äºç½‘ç»œç¼–ç¨‹çš„åº“ã€‚</p>
<ul>
<li>asyncioï¼š(Python æ ‡å‡†åº“) å¼‚æ­¥ I/O, äº‹ä»¶å¾ªç¯, åç¨‹ä»¥åŠä»»åŠ¡ã€‚<a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/twisted/" target="_blank" rel="external">Twisted</a>ï¼šä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„ç½‘ç»œå¼•æ“ã€‚<a href="https://twistedmatrix.com/trac/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pulsarï¼šäº‹ä»¶é©±åŠ¨çš„å¹¶å‘æ¡†æ¶ã€‚<a href="https://github.com/quantmind/pulsar" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dieselï¼šåŸºäºGreenlet çš„äº‹ä»¶ I/O æ¡†æ¶ã€‚<a href="https://github.com/dieseldev/diesel" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyzmqï¼šä¸€ä¸ª ZeroMQ æ¶ˆæ¯åº“çš„ Python å°è£…ã€‚<a href="http://zeromq.github.io/pyzmq/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>txZMQï¼šåŸºäº Twisted çš„ ZeroMQ æ¶ˆæ¯åº“çš„ Python å°è£…ã€‚<a href="https://github.com/smira/txZMQ" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p>å¸®åŠ©ä½¿ç”¨WebSocketçš„åº“ã€‚</p>
<ul>
<li>AutobahnPythonï¼šç»™ Python ã€ä½¿ç”¨çš„ WebSocket &amp; WAMP åŸºäº Twisted å’Œ <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="external">asyncio</a>ã€‚<a href="https://github.com/crossbario/autobahn-python" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Crossbarï¼šå¼€æºç»Ÿä¸€åº”ç”¨è·¯ç”±(Websocket &amp; WAMP for Python on Autobahn).<a href="https://github.com/crossbario/crossbar/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-socketioï¼šç»™ Django ç”¨çš„ WebSocketsã€‚<a href="https://github.com/stephenmcd/django-socketio" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>WebSocket-for-Pythonï¼šä¸ºPython2/3 ä»¥åŠ PyPy ç¼–å†™çš„ WebSocket å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åº“ã€‚<a href="https://github.com/Lawouach/WebSocket-for-Python" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="WSGI-æœåŠ¡å™¨"><a href="#WSGI-æœåŠ¡å™¨" class="headerlink" title="WSGI æœåŠ¡å™¨"></a>WSGI æœåŠ¡å™¨</h3><p>å…¼å®¹ WSGI çš„ web æœåŠ¡å™¨</p>
<ul>
<li>gunicornï¼šPre-forked, éƒ¨åˆ†æ˜¯ç”± C è¯­è¨€ç¼–å†™çš„ã€‚<a href="https://pypi.python.org/pypi/gunicorn" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>uwsgiï¼šuwsgi é¡¹ç›®çš„ç›®çš„æ˜¯å¼€å‘ä¸€ç»„å…¨æ ˆå·¥å…·ï¼Œç”¨æ¥å»ºç«‹æ‰˜ç®¡æœåŠ¡ï¼Œ ç”± C è¯­è¨€ç¼–å†™ã€‚<a href="https://uwsgi-docs.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/bjoern/" target="_blank" rel="external">bjoern</a>ï¼šå¼‚æ­¥ï¼Œéå¸¸å¿«é€Ÿï¼Œç”± C è¯­è¨€ç¼–å†™ã€‚<a href="https://pypi.python.org/pypi/bjoern" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fapws3ï¼šå¼‚æ­¥ (ä»…å¯¹äºç½‘ç»œç«¯)ï¼Œç”± C è¯­è¨€ç¼–å†™ã€‚<a href="http://www.fapws.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>meinheldï¼šå¼‚æ­¥ï¼Œéƒ¨åˆ†æ˜¯ç”± C è¯­è¨€ç¼–å†™çš„ã€‚<a href="https://pypi.python.org/pypi/meinheld" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>netiusï¼šå¼‚æ­¥ï¼Œéå¸¸å¿«é€Ÿã€‚<a href="https://github.com/hivesolutions/netius" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pasteï¼šå¤šçº¿ç¨‹ï¼Œç¨³å®šï¼Œä¹…ç»è€ƒéªŒã€‚<a href="http://pythonpaste.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>rocketï¼šå¤šçº¿ç¨‹ã€‚<a href="https://pypi.python.org/pypi/rocket" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>waitressï¼šå¤šçº¿ç¨‹, æ˜¯å®ƒé©±åŠ¨ç€ Pyramid æ¡†æ¶ã€‚<a href="https://waitress.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Werkzeugï¼šä¸€ä¸ª WSGI å·¥å…·åº“ï¼Œé©±åŠ¨ç€ Flask ï¼Œè€Œä¸”å¯ä»¥å¾ˆæ–¹ä¾¿å¤§åµŒå…¥åˆ°ä½ çš„é¡¹ç›®ä¸­å»ã€‚<a href="http://werkzeug.pocoo.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="RPC-æœåŠ¡å™¨"><a href="#RPC-æœåŠ¡å™¨" class="headerlink" title="RPC æœåŠ¡å™¨"></a>RPC æœåŠ¡å™¨</h3><p>å…¼å®¹ RPC çš„æœåŠ¡å™¨ã€‚</p>
<ul>
<li>SimpleJSONRPCServerï¼šè¿™ä¸ªåº“æ˜¯ JSON-RPC è§„èŒƒçš„ä¸€ä¸ªå®ç°ã€‚<a href="https://github.com/joshmarshall/jsonrpclib/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SimpleXMLRPCServerï¼š(Python æ ‡å‡†åº“) ç®€å•çš„ XML-RPC æœåŠ¡å™¨å®ç°ï¼Œå•çº¿ç¨‹ã€‚<a href="https://docs.python.org/2/library/simplexmlrpcserver.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>zeroRPCï¼šzerorpc æ˜¯ä¸€ä¸ªçµæ´»çš„ RPC å®ç°ï¼ŒåŸºäº ZeroMQ å’Œ MessagePackã€‚<a href="https://github.com/0rpc/zerorpc-python" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å¯†ç å­¦"><a href="#å¯†ç å­¦" class="headerlink" title="å¯†ç å­¦"></a>å¯†ç å­¦</h3><ul>
<li>cryptographyï¼šè¿™ä¸ªè½¯ä»¶åŒ…æ„åœ¨æä¾›å¯†ç å­¦åŸºæœ¬å†…å®¹å’Œæ–¹æ³•æä¾›ç»™ Python å¼€å‘è€…ã€‚<a href="https://cryptography.io/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hashidsï¼šåœ¨ Python ä¸­å®ç° <a href="http://hashids.org/" target="_blank" rel="external">hashids</a> ã€‚<a href="https://github.com/davidaurelio/hashids-python" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Paramikoï¼šSSHv2 åè®®çš„ Python (2.6+, 3.3+) ï¼Œæä¾›å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„åŠŸèƒ½ã€‚<a href="http://www.paramiko.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Passlibï¼šå®‰å…¨å¯†ç å­˜å‚¨ï¼å“ˆå¸Œåº“ï¼Œ<a href="https://pythonhosted.org/passlib/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyCryptoï¼šPython å¯†ç å­¦å·¥å…·ç®±ã€‚<a href="https://www.dlitz.net/software/pycrypto/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyNaclï¼šç½‘ç»œå’Œå¯†ç å­¦(NaCl) åº“çš„ Python ç»‘å®šã€‚<a href="https://github.com/pyca/pynacl" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å›¾å½¢ç”¨æˆ·ç•Œé¢"><a href="#å›¾å½¢ç”¨æˆ·ç•Œé¢" class="headerlink" title="å›¾å½¢ç”¨æˆ·ç•Œé¢"></a>å›¾å½¢ç”¨æˆ·ç•Œé¢</h3><p>ç”¨æ¥åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢ç¨‹åºçš„åº“ã€‚</p>
<ul>
<li>cursesï¼šå†…å»ºçš„ <a href="http://www.gnu.org/software/ncurses/" target="_blank" rel="external">ncurses</a> å°è£…ï¼Œç”¨æ¥åˆ›å»ºç»ˆç«¯å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚<a href="https://docs.python.org/2/library/curses.html#module-curses" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>enamlï¼šä½¿ç”¨ç±»ä¼¼ QML çš„Declaraticè¯­æ³•æ¥åˆ›å»ºç¾è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚<a href="https://github.com/nucleic/enaml" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/kivy/" target="_blank" rel="external">kivy</a>ï¼šä¸€ä¸ªç”¨æ¥åˆ›å»ºè‡ªç„¶ç”¨æˆ·äº¤äº’ï¼ˆNUIï¼‰åº”ç”¨ç¨‹åºçš„åº“ï¼Œå¯ä»¥è¿è¡Œåœ¨ Windows, Linux, Mac OS X, Android ä»¥åŠ iOSå¹³å°ä¸Šã€‚<a href="https://kivy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pygletï¼šä¸€ä¸ªPython çš„è·¨å¹³å°çª—å£åŠå¤šåª’ä½“åº“ã€‚<a href="https://bitbucket.org/pyglet/pyglet/wiki/Home" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyQtï¼šè·¨å¹³å°ç”¨æˆ·ç•Œé¢æ¡†æ¶ <a href="http://www.qt.io/" target="_blank" rel="external">Qt</a> çš„ Python ç»‘å®š ï¼Œæ”¯æŒQt v4 å’Œ Qt v5ã€‚<a href="https://riverbankcomputing.com/software/pyqt/intro" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PySideï¼šPè·¨å¹³å°ç”¨æˆ·ç•Œé¢æ¡†æ¶ <a href="http://www.qt.io/" target="_blank" rel="external">Qt</a> çš„ Python ç»‘å®š ï¼Œæ”¯æŒQt v4ã€‚<a href="https://wiki.qt.io/PySide" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Tkinterï¼šTkinter æ˜¯ Python GUI çš„ä¸€ä¸ªäº‹å®æ ‡å‡†åº“ã€‚<a href="https://wiki.python.org/moin/TkInter" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Togaï¼šä¸€ä¸ª Python åŸç”Ÿçš„, æ“ä½œç³»ç»ŸåŸç”Ÿçš„ GUI å·¥å…·åŒ…ã€‚<a href="https://github.com/pybee/toga" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>urwidï¼šä¸€ä¸ªç”¨æ¥åˆ›å»ºç»ˆç«¯ GUI åº”ç”¨çš„åº“ï¼Œæ”¯æŒç»„ä»¶ï¼Œäº‹ä»¶å’Œä¸°å¯Œçš„è‰²å½©ç­‰ã€‚<a href="http://urwid.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>wxPythonï¼šwxPython æ˜¯ wxWidgets C++ ç±»åº“å’Œ Python è¯­è¨€æ··åˆçš„äº§ç‰©ã€‚<a href="http://wxpython.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyGObjectï¼šGLib/GObject/GIO/GTK+ (GTK+3) çš„ Python ç»‘å®š<a href="https://wiki.gnome.org/Projects/PyGObject" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Flexxï¼šFlexx æ˜¯ä¸€ä¸ªçº¯ Python è¯­è¨€ç¼–å†™çš„ç”¨æ¥åˆ›å»º GUI ç¨‹åºçš„å·¥å…·é›†ï¼Œå®ƒä½¿ç”¨ web æŠ€æœ¯è¿›è¡Œç•Œé¢çš„å±•ç¤ºã€‚<a href="https://github.com/zoofIO/flexx" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ¸¸æˆå¼€å‘"><a href="#æ¸¸æˆå¼€å‘" class="headerlink" title="æ¸¸æˆå¼€å‘"></a>æ¸¸æˆå¼€å‘</h3><p>è¶…èµçš„æ¸¸æˆå¼€å‘åº“ã€‚</p>
<ul>
<li>Cocos2dï¼šcocos2d æ˜¯ä¸€ä¸ªç”¨æ¥å¼€å‘ 2D æ¸¸æˆï¼Œ ç¤ºä¾‹å’Œå…¶ä»–å›¾å½¢/äº¤äº’åº”ç”¨çš„æ¡†æ¶ã€‚åŸºäº pygletã€‚<a href="http://cocos2d.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Panda3Dï¼šç”±è¿ªå£«å°¼å¼€å‘çš„ 3D æ¸¸æˆå¼•æ“ï¼Œå¹¶ç”±å¡å†…åŸºæ¢…é™‡å¨±ä¹æŠ€æœ¯ä¸­å¿ƒè´Ÿè´£ç»´æŠ¤ã€‚ä½¿ç”¨C++ç¼–å†™, é’ˆå¯¹ Python è¿›è¡Œäº†å®Œå…¨çš„å°è£…ã€‚<a href="https://www.panda3d.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pygameï¼šPygame æ˜¯ä¸€ç»„ Python æ¨¡å—ï¼Œç”¨æ¥ç¼–å†™æ¸¸æˆã€‚<a href="http://www.pygame.org/news.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyOgreï¼šOgre 3D æ¸²æŸ“å¼•æ“çš„ Python ç»‘å®šï¼Œå¯ä»¥ç”¨æ¥å¼€å‘æ¸¸æˆå’Œä»¿çœŸç¨‹åºç­‰ä»»ä½• 3D åº”ç”¨ã€‚<a href="http://www.ogre3d.org/tikiwiki/PyOgre" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyOpenGLï¼šOpenGL çš„ Python ç»‘å®šåŠå…¶ç›¸å…³ APIsã€‚<a href="http://pyopengl.sourceforge.net/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PySDL2ï¼šSDL2 åº“çš„å°è£…ï¼ŒåŸºäº ctypesã€‚<a href="http://pysdl2.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>RenPyï¼šä¸€ä¸ªè§†è§‰å°è¯´ï¼ˆvisual novelï¼‰å¼•æ“ã€‚<a href="https://www.renpy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h3><p>ç”¨æ¥ç”Ÿæˆå’Œæ“ä½œæ—¥å¿—çš„åº“ã€‚</p>
<ul>
<li>loggingï¼š(Python æ ‡å‡†åº“) ä¸º Python æä¾›æ—¥å¿—åŠŸèƒ½ã€‚<a href="https://docs.python.org/2/library/logging.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>logbookï¼šLogging åº“çš„æ›¿ä»£å“ã€‚<a href="http://pythonhosted.org/Logbook/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Eliotï¼šä¸ºå¤æ‚çš„å’Œåˆ†å¸ƒå¼ç³»ç»Ÿåˆ›å»ºæ—¥å¿—ã€‚<a href="https://eliot.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Ravenï¼šSentryçš„ Python å®¢æˆ·ç«¯ã€‚<a href="http://raven.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Sentryï¼šå®æ—¶è®°å½•å’Œæ”¶é›†æ—¥å¿—çš„æœåŠ¡å™¨ã€‚<a href="https://pypi.python.org/pypi/sentry" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h3><p>è¿›è¡Œä»£ç åº“æµ‹è¯•å’Œç”Ÿæˆæµ‹è¯•æ•°æ®çš„åº“ã€‚</p>
<ul>
<li>æµ‹è¯•æ¡†æ¶<ul>
<li>unittestï¼š(Python æ ‡å‡†åº“) å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚<a href="https://docs.python.org/2/library/unittest.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>noseï¼šnose æ‰©å±•äº† unittest çš„åŠŸèƒ½ã€‚<a href="https://nose.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>contextsï¼šä¸€ä¸ª Python 3.3+ çš„ BDD æ¡†æ¶ã€‚å—åˆ°C# â€“ Machine.Specificationsçš„å¯å‘ã€‚<a href="https://github.com/benjamin-hodgson/Contexts" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hypothesisï¼šHypothesis æ˜¯ä¸€ä¸ªåŸºäºå…ˆè¿›çš„ Quickcheck é£æ ¼ç‰¹æ€§çš„æµ‹è¯•åº“ã€‚<a href="https://github.com/DRMacIver/hypothesis" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mambaï¼šPython çš„ç»ˆææµ‹è¯•å·¥å…·ï¼Œ æ‹¥æŠ¤BDDã€‚<a href="http://nestorsalceda.github.io/mamba/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyAutoGUIï¼šPyAutoGUI æ˜¯ä¸€ä¸ªäººæ€§åŒ–çš„è·¨å¹³å° GUI è‡ªåŠ¨æµ‹è¯•æ¨¡å—ã€‚<a href="https://github.com/asweigart/pyautogui" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyshouldï¼šShould é£æ ¼çš„æ–­è¨€ï¼ŒåŸºäº <a href="https://github.com/hamcrest/PyHamcrest" target="_blank" rel="external">PyHamcrest</a>ã€‚<a href="https://github.com/drslump/pyshould" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pytestï¼šä¸€ä¸ªæˆç†Ÿçš„å…¨åŠŸèƒ½ Python æµ‹è¯•å·¥å…·ã€‚<a href="http://pytest.org/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>greenï¼šå¹²å‡€ï¼Œå¤šå½©çš„æµ‹è¯•å·¥å…·ã€‚<a href="https://github.com/CleanCut/green" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyvowsï¼šBDD é£æ ¼çš„æµ‹è¯•å·¥å…·ï¼Œå—Vows.jsçš„å¯å‘ã€‚<a href="http://heynemann.github.io/pyvows/" target="_blank" rel="external">å®˜ç½‘</a>-</li>
<li>Robot Frameworkï¼šä¸€ä¸ªé€šç”¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ã€‚<a href="https://github.com/robotframework/robotframework" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Web æµ‹è¯•<ul>
<li>Seleniumï¼š<a href="http://www.seleniumhq.org/" target="_blank" rel="external">Selenium</a> WebDriver çš„ Python ç»‘å®šã€‚<a href="https://pypi.python.org/pypi/selenium" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>locustï¼šä½¿ç”¨ Python ç¼–å†™çš„ï¼Œå¯æ‰©å±•çš„ç”¨æˆ·åŠ è½½æµ‹è¯•å·¥å…·ã€‚<a href="https://github.com/locustio/locust" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sixpackï¼šä¸€ä¸ªå’Œè¯­è¨€æ— å…³çš„ A/B æµ‹è¯•æ¡†æ¶ã€‚<a href="https://github.com/seatgeek/sixpack" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>splinterï¼šå¼€æºçš„ web åº”ç”¨æµ‹è¯•å·¥å…·ã€‚<a href="https://splinter.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Mockæµ‹è¯•<ul>
<li>mockï¼š(Python æ ‡å‡†åº“) ä¸€ä¸ªç”¨äºä¼ªé€ æµ‹è¯•çš„åº“ã€‚<a href="https://docs.python.org/3/library/unittest.mock.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>doublexï¼šPython çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ doubles  æµ‹è¯•æ¡†æ¶ã€‚<a href="https://pypi.python.org/pypi/doublex" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>freezegunï¼šé€šè¿‡ä¼ªé€ æ—¥æœŸæ¨¡å—æ¥ç”Ÿæˆä¸åŒçš„æ—¶é—´ã€‚<a href="https://github.com/spulec/freezegun" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>httmockï¼šé’ˆå¯¹ Python 2.6+ å’Œ 3.2+ ç”Ÿæˆ ä¼ªé€ è¯·æ±‚çš„åº“ã€‚<a href="https://github.com/patrys/httmock" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>httprettyï¼šPython çš„ HTTP è¯·æ±‚ mock å·¥å…·ã€‚<a href="http://falcao.it/HTTPretty/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>responsesï¼šä¼ªé€  Python ä¸­çš„ requests åº“çš„ä¸€ä¸ªé€šç”¨åº“ã€‚<a href="https://github.com/getsentry/responses" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>VCR.pyï¼šåœ¨ä½ çš„æµ‹è¯•ä¸­è®°å½•å’Œé‡æ”¾ HTTP äº¤äº’ã€‚<a href="https://github.com/kevin1024/vcrpy" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>å¯¹è±¡å·¥å‚<ul>
<li>factoryboyï¼šä¸€ä¸ª Python ç”¨çš„æµ‹è¯•å›ºä»¶ (test fixtures) æ›¿ä»£åº“ã€‚<a href="https://github.com/rbarrois/factoryboy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mixerï¼šå¦å¤–ä¸€ä¸ªæµ‹è¯•å›ºä»¶ (test fixtures) æ›¿ä»£åº“ï¼Œæ”¯æŒ Django, Flask, SQLAlchemy, Peewee ç­‰ã€‚<a href="https://github.com/klen/mixer" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>modelmommyï¼šä¸º Django æµ‹è¯•åˆ›å»ºéšæœºå›ºä»¶<a href="https://github.com/vandersonmota/modelmommy" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>ä»£ç è¦†ç›–ç‡<ul>
<li>coverageï¼šä»£ç è¦†ç›–ç‡æµ‹é‡ã€‚<a href="https://pypi.python.org/pypi/coverage" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>ä¼ªæ•°æ®<ul>
<li>fakerï¼šä¸€ä¸ª Python åº“ï¼Œç”¨æ¥ç”Ÿæˆä¼ªæ•°æ®ã€‚<a href="http://www.joke2k.net/faker/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fake2dbï¼šä¼ªæ•°æ®åº“ç”Ÿæˆå™¨ã€‚<a href="https://github.com/emirozer/fake2db" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>radarï¼šç”Ÿæˆéšæœºçš„æ—¥æœŸ/æ—¶é—´ã€‚<a href="https://pypi.python.org/pypi/radar" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>é”™è¯¯å¤„ç†<ul>
<li>FuckIt.pyï¼šFuckIt.py ä½¿ç”¨æœ€å…ˆè¿›çš„æŠ€æœ¯æ¥ä¿è¯ä½ çš„ Python ä»£ç æ— è®ºå¯¹é”™éƒ½èƒ½ç»§ç»­è¿è¡Œã€‚<a href="https://github.com/ajalt/fuckitpy" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="ä»£ç åˆ†æå’ŒLintå·¥å…·"><a href="#ä»£ç åˆ†æå’ŒLintå·¥å…·" class="headerlink" title="ä»£ç åˆ†æå’ŒLintå·¥å…·"></a>ä»£ç åˆ†æå’ŒLintå·¥å…·</h3><p>è¿›è¡Œä»£ç åˆ†æï¼Œè§£æå’Œæ“ä½œä»£ç åº“çš„åº“å’Œå·¥å…·ã€‚</p>
<ul>
<li>ä»£ç åˆ†æ<ul>
<li>code2flowï¼šæŠŠä½ çš„ Python å’Œ JavaScript ä»£ç è½¬æ¢ä¸ºæµç¨‹å›¾ã€‚<a href="https://github.com/scottrogowski/code2flow" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pycallgraphï¼šè¿™ä¸ªåº“å¯ä»¥æŠŠä½ çš„Python åº”ç”¨çš„æµç¨‹(è°ƒç”¨å›¾)è¿›è¡Œå¯è§†åŒ–ã€‚<a href="https://github.com/gak/pycallgraph" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pysonar2ï¼šPython ç±»å‹æ¨æ–­å’Œæ£€ç´¢å·¥å…·ã€‚<a href="https://github.com/yinwang0/pysonar2" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Lintå·¥å…·<ul>
<li>Flake8ï¼šæ¨¡å—åŒ–æºç æ£€æŸ¥å·¥å…·: pep8, pyflakes ä»¥åŠ coã€‚<a href="https://pypi.python.org/pypi/flake8" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pylintï¼šä¸€ä¸ªå®Œå…¨å¯å®šåˆ¶çš„æºç åˆ†æå™¨ã€‚<a href="https://www.pylint.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pylamaï¼šPython å’Œ JavaScript çš„ä»£ç å®¡æŸ¥å·¥å…·ã€‚<a href="https://pylama.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>ä»£ç æ ¼å¼åŒ–<ul>
<li>autopep8ï¼šè‡ªåŠ¨æ ¼å¼åŒ– Python ä»£ç ï¼Œä»¥ä½¿å…¶ç¬¦åˆ PEP8 è§„èŒƒã€‚<a href="https://github.com/hhatto/autopep8" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="Debugging-Tools"><a href="#Debugging-Tools" class="headerlink" title="Debugging Tools"></a>Debugging Tools</h3><p>ç”¨æ¥è¿›è¡Œä»£ç è°ƒè¯•çš„åº“ã€‚</p>
<ul>
<li>è°ƒè¯•å™¨<ul>
<li>ipdbï¼šIPython å¯ç”¨çš„ <a href="https://docs.python.org/2/library/pdb.html" target="_blank" rel="external">pdb</a>ã€‚<a href="https://pypi.python.org/pypi/ipdb" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pudbï¼šå…¨å±ï¼ŒåŸºäºæ§åˆ¶å°çš„ Python è°ƒè¯•å™¨ã€‚<a href="https://pypi.python.org/pypi/pudb" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pyringeï¼šå¯ä»¥åœ¨ Python è¿›ç¨‹ä¸­é™„åŠ å’Œæ³¨å…¥ä»£ç çš„è°ƒè¯•å™¨ã€‚<a href="https://github.com/google/pyringe" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>wdbï¼šä¸€ä¸ªå¥‡å¼‚çš„ web è°ƒè¯•å™¨ï¼Œé€šè¿‡ WebSockets å·¥ä½œã€‚<a href="https://github.com/Kozea/wdb" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>winpdbï¼šä¸€ä¸ªå…·æœ‰å›¾å½¢ç”¨æˆ·ç•Œé¢çš„ Python è°ƒè¯•å™¨ï¼Œå¯ä»¥è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼ŒåŸºäº rpdb2ã€‚<a href="http://winpdb.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-debug-toolbarï¼šä¸º Django æ˜¾ç¤ºå„ç§è°ƒè¯•ä¿¡æ¯ã€‚<a href="https://github.com/django-debug-toolbar/django-debug-toolbar" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-devserverï¼šä¸€ä¸ª Django è¿è¡ŒæœåŠ¡å™¨çš„æ›¿ä»£å“ã€‚<a href="https://github.com/dcramer/django-devserver" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>flask-debugtoolbarï¼šdjango-debug-toolbar çš„ flask ç‰ˆã€‚<a href="https://github.com/mgood/flask-debugtoolbar" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>æ€§èƒ½åˆ†æå™¨<ul>
<li>lineprofilerï¼šé€è¡Œæ€§èƒ½åˆ†æã€‚<a href="https://github.com/rkern/lineprofiler" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/memory_profiler/" target="_blank" rel="external">Memory Profiler</a>ï¼šç›‘æ§ Python ä»£ç çš„å†…å­˜ä½¿ç”¨ã€‚<a href="http://pypi.python.org/pypi/memory_profiler" target="_blank" rel="external">å®˜ç½‘</a>ã€<a href="https://github.com/fabianp/memoryprofiler" target="_blank" rel="external">å†…å­˜</a></li>
<li>profilingï¼šä¸€ä¸ªäº¤äº’å¼ Python æ€§èƒ½åˆ†æå·¥å…·ã€‚<a href="https://github.com/what-studio/profiling" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>å…¶ä»–<ul>
<li>pyelftoolsï¼šè§£æå’Œåˆ†æ ELF æ–‡ä»¶ä»¥åŠ DWARF è°ƒè¯•ä¿¡æ¯ã€‚<a href="https://github.com/eliben/pyelftools" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>python-statsdï¼š<a href="https://github.com/etsy/statsd/" target="_blank" rel="external">statsd</a> æœåŠ¡å™¨çš„ Python å®¢æˆ·ç«¯ã€‚<a href="https://github.com/WoLpH/python-statsd" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="Science-and-Data-Analysis"><a href="#Science-and-Data-Analysis" class="headerlink" title="Science and Data Analysis"></a>Science and Data Analysis</h3><p>ç”¨æ¥è¿›è¡Œç§‘å­¦è®¡ç®—å’Œæ•°æ®åˆ†æçš„åº“ã€‚</p>
<ul>
<li>astropyï¼šä¸€ä¸ªå¤©æ–‡å­¦ Python åº“ã€‚<a href="http://www.astropy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/bcbio-nextgen/" target="_blank" rel="external">bcbio-nextgen</a>ï¼šè¿™ä¸ªå·¥å…·ç®±ä¸ºå…¨è‡ªåŠ¨é«˜é€šé‡æµ‹åºåˆ†ææä¾›ç¬¦åˆæœ€ä½³å®è·µçš„å¤„ç†æµç¨‹ã€‚<a href="https://github.com/chapmanb/bcbio-nextgen" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>bccbï¼šç”Ÿç‰©åˆ†æç›¸å…³ä»£ç é›†åˆ<a href="https://github.com/chapmanb/bcbb" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Biopythonï¼šBiopython æ˜¯ä¸€ç»„å¯ä»¥å…è´¹ä½¿ç”¨çš„ç”¨æ¥è¿›è¡Œç”Ÿç‰©è®¡ç®—çš„å·¥å…·ã€‚<a href="http://biopython.org/wiki/MainPage" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/blaze/" target="_blank" rel="external">blaze</a>ï¼šNumPy å’Œ Pandas çš„å¤§æ•°æ®æ¥å£ã€‚<a href="http://blaze.readthedocs.org/en/latest/index.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/cclib/" target="_blank" rel="external">cclib</a>ï¼šä¸€ä¸ªç”¨æ¥è§£æå’Œè§£é‡Šè®¡ç®—åŒ–å­¦è½¯ä»¶åŒ…è¾“å‡ºç»“æœçš„åº“ã€‚<a href="http://cclib.github.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>NetworkXï¼šä¸€ä¸ªä¸ºå¤æ‚ç½‘ç»œè®¾è®¡çš„é«˜æ€§èƒ½è½¯ä»¶ã€‚<a href="https://networkx.github.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Neupyï¼šæ‰§è¡Œå’Œæµ‹è¯•å„ç§ä¸åŒçš„äººå·¥ç¥ç»ç½‘ç»œç®—æ³•ã€‚<a href="http://neupy.com/pages/home.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Numbaï¼šPython JIT (just in time) ç¼–è¯‘å™¨ï¼Œé’ˆå¯¹ç§‘å­¦ç”¨çš„ Python ï¼Œç”±Cython å’Œ NumPy çš„å¼€å‘è€…å¼€å‘ã€‚<a href="http://numba.pydata.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/numpy/" target="_blank" rel="external">NumPy</a>ï¼šä½¿ç”¨ Python è¿›è¡Œç§‘å­¦è®¡ç®—çš„åŸºç¡€åŒ…ã€‚<a href="http://www.numpy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Open Babelï¼šä¸€ä¸ªåŒ–å­¦å·¥å…·ç®±ï¼Œç”¨æ¥æè¿°å¤šç§åŒ–å­¦æ•°æ®ã€‚<a href="http://openbabel.org/wiki/MainPage" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/open-mining/" target="_blank" rel="external">Open Mining</a>ï¼šä½¿ç”¨ Python æŒ–æ˜å•†ä¸šæƒ…æŠ¥ (BI) (Pandas web æ¥å£)ã€‚<a href="https://github.com/mining/mining" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/orange/" target="_blank" rel="external">orange</a>ï¼šé€šè¿‡å¯è§†åŒ–ç¼–ç¨‹æˆ– Python è„šæœ¬è¿›è¡Œæ•°æ®æŒ–æ˜ï¼Œæ•°æ®å¯è§†åŒ–ï¼Œåˆ†æå’Œæœºå™¨å­¦ä¹ ã€‚<a href="http://orange.biolab.si/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pandasï¼šæä¾›é«˜æ€§èƒ½ï¼Œæ˜“ç”¨çš„æ•°æ®ç»“æ„å’Œæ•°æ®åˆ†æå·¥å…·ã€‚<a href="http://pandas.pydata.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyDyï¼šPyDy æ˜¯ Python Dynamics çš„ç¼©å†™ï¼Œç”¨æ¥ä¸ºåŠ¨åŠ›å­¦è¿åŠ¨å»ºæ¨¡å·¥ä½œæµç¨‹æä¾›å¸®åŠ©ï¼Œ åŸºäº NumPy, SciPy, IPython å’Œ matplotlibã€‚<a href="http://www.pydy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pymc/" target="_blank" rel="external">PyMC</a>ï¼šé©¬å°”ç§‘å¤«é“¾è’™ç‰¹å¡æ´›é‡‡æ ·å·¥å…·ã€‚<a href="https://github.com/pymc-devs/pymc3" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>RDKitï¼šåŒ–å­¦ä¿¡æ¯å­¦å’Œæœºå™¨å­¦ä¹ è½¯ä»¶ã€‚<a href="http://www.rdkit.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/scipy/" target="_blank" rel="external">SciPy</a>ï¼šç”±ä¸€äº›åŸºäº Python ï¼Œç”¨äºæ•°å­¦ï¼Œç§‘å­¦å’Œå·¥ç¨‹çš„å¼€æºè½¯ä»¶æ„æˆçš„ç”Ÿæ€ç³»ç»Ÿã€‚<a href="http://www.scipy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/statsmodels/" target="_blank" rel="external">statsmodels</a>ï¼šç»Ÿè®¡å»ºæ¨¡å’Œè®¡é‡ç»æµå­¦ã€‚<a href="https://github.com/statsmodels/statsmodels" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SymPyï¼šä¸€ä¸ªç”¨äºç¬¦å·æ•°å­¦çš„ Python åº“ã€‚<a href="https://github.com/sympy/sympy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ziplineï¼šä¸€ä¸ª Python ç®—æ³•äº¤æ˜“åº“ã€‚<a href="https://github.com/quantopian/zipline" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/bayesian-belief-networks/" target="_blank" rel="external">Bayesian-belief-networks</a>ï¼šä¼˜é›…çš„è´å¶æ–¯ä¿¡å¿µç½‘ç»œæ¡†æ¶ã€‚<a href="https://github.com/eBay/bayesian-belief-networks" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ•°æ®å¯è§†åŒ–"><a href="#æ•°æ®å¯è§†åŒ–" class="headerlink" title="æ•°æ®å¯è§†åŒ–"></a>æ•°æ®å¯è§†åŒ–</h3><p>è¿›è¡Œæ•°æ®å¯è§†åŒ–çš„åº“ã€‚ å‚è§: <a href="https://github.com/sorrycc/awesome-javascript#data-visualization" target="_blank" rel="external">awesome-javascript</a>ã€‚</p>
<ul>
<li>matplotlibï¼šä¸€ä¸ª Python 2D ç»˜å›¾åº“ã€‚<a href="http://matplotlib.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>bokehï¼šç”¨ Python è¿›è¡Œäº¤äº’å¼ web ç»˜å›¾ã€‚<a href="https://github.com/bokeh/bokeh" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>ggplotï¼šggplot2 ç»™ R æä¾›çš„ API çš„ Python ç‰ˆæœ¬ã€‚<a href="https://github.com/yhat/ggplot" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>plotlyï¼šååŒ Python å’Œ matplotlib å·¥ä½œçš„ web ç»˜å›¾åº“ã€‚<a href="https://plot.ly/python/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pygalï¼šä¸€ä¸ª Python SVG å›¾è¡¨åˆ›å»ºå·¥å…·ã€‚<a href="http://www.pygal.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pygraphvizï¼šGraphviz çš„ Python æ¥å£ã€‚<a href="https://pypi.python.org/pypi/pygraphviz" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyQtGraphï¼šäº¤äº’å¼å®æ—¶2D/3D/å›¾åƒç»˜åˆ¶åŠç§‘å­¦/å·¥ç¨‹å­¦ç»„ä»¶ã€‚<a href="http://www.pyqtgraph.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SnakeVizï¼šä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„ Pythonâ€™s cProfile æ¨¡å—è¾“å‡ºç»“æœæŸ¥çœ‹å·¥å…·ã€‚<a href="http://jiffyclub.github.io/snakeviz/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>vincentï¼šæŠŠ Python è½¬æ¢ä¸º Vega è¯­æ³•çš„è½¬æ¢å·¥å…·ã€‚<a href="https://github.com/wrobstory/vincent" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>VisPyï¼šåŸºäº OpenGL çš„é«˜æ€§èƒ½ç§‘å­¦å¯è§†åŒ–å·¥å…·ã€‚<a href="http://vispy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="è®¡ç®—æœºè§†è§‰"><a href="#è®¡ç®—æœºè§†è§‰" class="headerlink" title="è®¡ç®—æœºè§†è§‰"></a>è®¡ç®—æœºè§†è§‰</h3><p>è®¡ç®—æœºè§†è§‰åº“ã€‚</p>
<ul>
<li>OpenCVï¼šå¼€æºè®¡ç®—æœºè§†è§‰åº“ã€‚<a href="http://opencv.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/simplecv/" target="_blank" rel="external">SimpleCV</a>ï¼šä¸€ä¸ªç”¨æ¥åˆ›å»ºè®¡ç®—æœºè§†è§‰åº”ç”¨çš„å¼€æºæ¡†æ¶ã€‚<a href="http://simplecv.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æœºå™¨å­¦ä¹ "><a href="#æœºå™¨å­¦ä¹ " class="headerlink" title="æœºå™¨å­¦ä¹ "></a>æœºå™¨å­¦ä¹ </h3><p>æœºå™¨å­¦ä¹ åº“ã€‚ å‚è§: <a href="https://github.com/josephmisiti/awesome-machine-learning#python" target="_blank" rel="external">awesome-machine-learning</a>.</p>
<ul>
<li>Crabï¼šçµæ´»ã€å¿«é€Ÿçš„æ¨èå¼•æ“ã€‚<a href="https://github.com/muricoca/crab" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>gensimï¼šäººæ€§åŒ–çš„è¯é¢˜å»ºæ¨¡åº“ã€‚<a href="https://github.com/piskvorky/gensim" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hebelï¼šGPU åŠ é€Ÿçš„æ·±åº¦å­¦ä¹ åº“ã€‚<a href="https://github.com/hannes-brt/hebel" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>NuPICï¼šæ™ºèƒ½è®¡ç®— Numenta å¹³å°ã€‚<a href="https://github.com/numenta/nupic" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>patternï¼šPython ç½‘ç»œæŒ–æ˜æ¨¡å—ã€‚<a href="https://github.com/clips/pattern" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pybrain/" target="_blank" rel="external">PyBrain</a>ï¼šå¦ä¸€ä¸ª Python æœºå™¨å­¦ä¹ åº“ã€‚<a href="https://github.com/pybrain/pybrain" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pylearn2/" target="_blank" rel="external">Pylearn2</a>ï¼šä¸€ä¸ªåŸºäº <a href="https://github.com/Theano/Theano" target="_blank" rel="external">Theano</a> çš„æœºå™¨å­¦ä¹ åº“ã€‚<a href="https://github.com/lisa-lab/pylearn2" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-recsys/" target="_blank" rel="external">python-recsys</a>ï¼šä¸€ä¸ªç”¨æ¥å®ç°æ¨èç³»ç»Ÿçš„ Python åº“ã€‚<a href="https://github.com/ocelma/python-recsys" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>scikit-learnï¼šåŸºäº SciPy æ„å»ºçš„æœºå™¨å­¦ä¹  Python æ¨¡å—ã€‚<a href="http://scikit-learn.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pydeepï¼šPython æ·±åº¦å­¦ä¹ åº“ã€‚<a href="https://github.com/andersbll/deeppy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>vowpalporpoiseï¼šè½»é‡çº§ <a href="https://github.com/JohnLangford/vowpalwabbit/" target="_blank" rel="external">Vowpal Wabbit</a> çš„ Python å°è£…ã€‚<a href="https://github.com/josephreisinger/vowpalporpoise" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>skflowï¼šä¸€ä¸ª <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="external">TensorFlow</a> çš„ç®€åŒ–æ¥å£(æ¨¡ä»¿ scikit-learn)ã€‚<a href="https://github.com/tensorflow/skflow" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="MapReduce"><a href="#MapReduce" class="headerlink" title="MapReduce"></a>MapReduce</h3><p>MapReduce æ¡†æ¶å’Œåº“ã€‚</p>
<ul>
<li><a href="http://hao.jobbole.com/dpark/" target="_blank" rel="external">dpark</a>ï¼šSpark çš„ Python å…‹éš†ç‰ˆï¼Œä¸€ä¸ªç±»ä¼¼ MapReduce çš„æ¡†æ¶ã€‚<a href="https://github.com/douban/dpark" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>dumboï¼šè¿™ä¸ª Python æ¨¡å—å¯ä»¥è®©äººè½»æ¾çš„ç¼–å†™å’Œè¿è¡Œ Hadoop ç¨‹åºã€‚<a href="https://github.com/klbostee/dumbo" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>luigiï¼šè¿™ä¸ªæ¨¡å—å¸®ä½ æ„å»ºæ‰¹å¤„ç†ä½œä¸šçš„å¤æ‚æµæ°´çº¿ã€‚<a href="https://github.com/spotify/luigi" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>mrjobï¼šåœ¨ Hadoop æˆ– Amazon Web Services ä¸Šè¿è¡Œ MapReduce ä»»åŠ¡ã€‚<a href="https://github.com/Yelp/mrjob" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PySparkï¼šSpark çš„ Python API ã€‚<a href="http://spark.apache.org/docs/latest/programming-guide.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>streamparseï¼šè¿è¡Œé’ˆå¯¹äº‹å®æ•°æ®æµçš„ Python ä»£ç ã€‚é›†æˆäº†<a href="http://storm.apache.org/" target="_blank" rel="external">Apache Storm</a>ã€‚<a href="https://github.com/Parsely/streamparse" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h3><p>ä½¿ç”¨ Python è¿›è¡Œå‡½æ•°å¼ç¼–ç¨‹ã€‚</p>
<ul>
<li>CyToolzï¼šToolz çš„ Cython å®ç° : é«˜æ€§èƒ½å‡½æ•°å¼å·¥å…·ã€‚<a href="https://github.com/pytoolz/cytoolz/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>fn.pyï¼šåœ¨ Python ä¸­è¿›è¡Œå‡½æ•°å¼ç¼–ç¨‹ : å®ç°äº†ä¸€äº›äº«å—å‡½æ•°å¼ç¼–ç¨‹ç¼ºå¤±çš„åŠŸèƒ½ã€‚<a href="https://github.com/kachayev/fn.py" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>funcyï¼šç‚«é…·åˆå®ç”¨çš„å‡½æ•°å¼å·¥å…·ã€‚<a href="https://github.com/Suor/funcy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Toolzï¼šä¸€ç»„ç”¨äºè¿­ä»£å™¨ï¼Œå‡½æ•°å’Œå­—å…¸çš„å‡½æ•°å¼ç¼–ç¨‹å·¥å…·ã€‚<a href="https://github.com/pytoolz/toolz" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç¬¬ä¸‰æ–¹-API"><a href="#ç¬¬ä¸‰æ–¹-API" class="headerlink" title="ç¬¬ä¸‰æ–¹ API"></a>ç¬¬ä¸‰æ–¹ API</h3><p>ç”¨æ¥è®¿é—®ç¬¬ä¸‰æ–¹ APIçš„åº“ã€‚ å‚è§ï¼š <a href="https://github.com/realpython/list-of-python-api-wrappers" target="_blank" rel="external">List of Python API Wrappers and Libraries</a>ã€‚</p>
<ul>
<li>apache-libcloudï¼šä¸€ä¸ªä¸ºå„ç§äº‘è®¾è®¡çš„ Python åº“ã€‚<a href="https://libcloud.apache.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>botoï¼šAmazon Web Services çš„ Python æ¥å£ã€‚<a href="https://github.com/boto/boto" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-wordpressï¼šWordPress models and views for Django.<a href="https://github.com/sunlightlabs/django-wordpress/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>facebook-sdkï¼šFacebook å¹³å°çš„ Python SDK.<a href="https://github.com/mobolic/facebook-sdk" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>facepyï¼šFacepy è®©å’Œ Facebookâ€™s Graph API çš„äº¤äº’å˜å¾—æ›´å®¹æ˜“ã€‚<a href="https://github.com/jgorset/facepy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>gmailï¼šGmail çš„ Python æ¥å£ã€‚<a href="https://github.com/charlierguo/gmail" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>google-api-python-clientï¼šPython ç”¨çš„ Google APIs å®¢æˆ·ç«¯åº“ã€‚<a href="https://github.com/google/google-api-python-client" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>gspreadï¼šGoogle ç”µå­è¡¨æ ¼çš„ Python API.<a href="https://github.com/burnash/gspread" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>twythonï¼šTwitter API çš„å°è£…ã€‚<a href="https://github.com/ryanmcgrath/twython" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="DevOps-å·¥å…·"><a href="#DevOps-å·¥å…·" class="headerlink" title="DevOps å·¥å…·"></a>DevOps å·¥å…·</h3><p>ç”¨äº DevOps çš„è½¯ä»¶å’Œåº“ã€‚</p>
<ul>
<li>Ansibleï¼šä¸€ä¸ªéå¸¸ç®€å•çš„ IT è‡ªåŠ¨åŒ–å¹³å°ã€‚<a href="https://github.com/ansible/ansible" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SaltStackï¼šåŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–å’Œç®¡ç†ç³»ç»Ÿã€‚<a href="https://github.com/saltstack/salt" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>OpenStackï¼šç”¨äºæ„å»ºç§æœ‰å’Œå…¬æœ‰äº‘çš„å¼€æºè½¯ä»¶ã€‚<a href="http://www.openstack.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Docker Composeï¼šå¿«é€Ÿï¼Œåˆ†ç¦»çš„å¼€å‘ç¯å¢ƒï¼Œä½¿ç”¨ Dockerã€‚<a href="https://docs.docker.com/compose/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Fabricï¼šä¸€ä¸ªç®€å•çš„ï¼ŒPython é£æ ¼çš„å·¥å…·ï¼Œç”¨æ¥è¿›è¡Œè¿œç¨‹æ‰§è¡Œå’Œéƒ¨ç½²ã€‚<a href="http://www.fabfile.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>cuisineï¼šä¸º Fabric æä¾›ä¸€ç³»åˆ—é«˜çº§å‡½æ•°ã€‚<a href="https://github.com/sebastien/cuisine" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Fabtoolsï¼šä¸€ä¸ªç”¨æ¥ç¼–å†™è¶…èµçš„ Fabric æ–‡ä»¶çš„å·¥å…·ã€‚<a href="https://github.com/ronnix/fabtools" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>gitapiï¼šGit çš„çº¯ Python APIã€‚<a href="https://bitbucket.org/haard/gitapi" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>hgapiï¼šMercurial çš„çº¯ Python APIã€‚<a href="https://bitbucket.org/haard/hgapi" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>honchoï¼š<a href="https://github.com/ddollar/foreman" target="_blank" rel="external">Foreman</a>çš„ Python å…‹éš†ç‰ˆï¼Œç”¨æ¥ç®¡ç†åŸºäº<a href="https://devcenter.heroku.com/articles/procfile" target="_blank" rel="external">Procfile</a>çš„åº”ç”¨ã€‚<a href="https://github.com/nickstenning/honcho" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pexpectï¼šControlling interactive programs in a pseudo-terminal like åœ¨ä¸€ä¸ªä¼ªç»ˆç«¯ä¸­æ§åˆ¶äº¤äº’ç¨‹åºï¼Œå°±åƒ GNU expect ä¸€æ ·ã€‚<a href="https://github.com/pexpect/pexpect" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>psutilï¼šä¸€ä¸ªè·¨å¹³å°è¿›ç¨‹å’Œç³»ç»Ÿå·¥å…·æ¨¡å—ã€‚<a href="https://github.com/giampaolo/psutil" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>supervisorï¼šUNIX çš„è¿›ç¨‹æ§åˆ¶ç³»ç»Ÿã€‚<a href="https://github.com/Supervisor/supervisor" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ä»»åŠ¡è°ƒåº¦"><a href="#ä»»åŠ¡è°ƒåº¦" class="headerlink" title="ä»»åŠ¡è°ƒåº¦"></a>ä»»åŠ¡è°ƒåº¦</h3><p>ä»»åŠ¡è°ƒåº¦åº“ã€‚</p>
<ul>
<li>APSchedulerï¼šè½»å·§ä½†å¼ºå¤§çš„è¿›ç¨‹å†…ä»»åŠ¡è°ƒåº¦ï¼Œä½¿ä½ å¯ä»¥è°ƒåº¦å‡½æ•°ã€‚<a href="http://apscheduler.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>django-scheduleï¼šä¸€ä¸ª Django æ’ç¨‹åº”ç”¨ã€‚<a href="https://github.com/thauber/django-schedule" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>doitï¼šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå’Œæ„å»ºå·¥å…·ã€‚<a href="http://pydoit.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>gunneryï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä½¿ç”¨çš„å¤šç”¨é€”ä»»åŠ¡æ‰§è¡Œå·¥å…· ï¼Œå…·æœ‰ web äº¤äº’ç•Œé¢ã€‚<a href="https://github.com/gunnery/gunnery" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Joblibï¼šä¸€ç»„ä¸º Python æä¾›è½»é‡çº§ä½œä¸šæµæ°´çº¿çš„å·¥å…·ã€‚<a href="http://pythonhosted.org/joblib/index.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Planï¼šå¦‚æœ‰ç¥åŠ©åœ°ç¼–å†™ crontab æ–‡ä»¶ã€‚<a href="https://github.com/fengsp/plan" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>scheduleï¼šäººæ€§åŒ–çš„ Python ä»»åŠ¡è°ƒåº¦åº“ã€‚<a href="https://github.com/dbader/schedule" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Spiffï¼šä½¿ç”¨çº¯ Python å®ç°çš„å¼ºå¤§çš„å·¥ä½œæµå¼•æ“ã€‚<a href="https://github.com/knipknap/SpiffWorkflow" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>TaskFlowï¼šä¸€ä¸ªå¯ä»¥è®©ä½ æ–¹ä¾¿æ‰§è¡Œä»»åŠ¡çš„ Python åº“ï¼Œä¸€è‡´å¹¶ä¸”å¯é ã€‚<a href="http://docs.openstack.org/developer/taskflow/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å¤–æ¥å‡½æ•°æ¥å£"><a href="#å¤–æ¥å‡½æ•°æ¥å£" class="headerlink" title="å¤–æ¥å‡½æ•°æ¥å£"></a>å¤–æ¥å‡½æ•°æ¥å£</h3><p>ä½¿ç”¨å¤–æ¥å‡½æ•°æ¥å£çš„åº“ã€‚</p>
<ul>
<li>cffiï¼šç”¨æ¥è°ƒç”¨ C ä»£ç çš„å¤–æ¥å‡½æ•°æ¥å£ã€‚<a href="https://pypi.python.org/pypi/cffi" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/ctypes/" target="_blank" rel="external">ctypes</a>ï¼š(Python æ ‡å‡†åº“) ç”¨æ¥è°ƒç”¨ C ä»£ç çš„å¤–æ¥å‡½æ•°æ¥å£ã€‚<a href="https://docs.python.org/2/library/ctypes.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyCUDAï¼šNvidia CUDA API çš„å°è£…ã€‚<a href="https://mathema.tician.de/software/pycuda/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SWIGï¼šç®€åŒ–çš„å°è£…å’Œæ¥å£ç”Ÿæˆå™¨ã€‚<a href="http://www.swig.org/Doc1.3/Python.html" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="é«˜æ€§èƒ½"><a href="#é«˜æ€§èƒ½" class="headerlink" title="é«˜æ€§èƒ½"></a>é«˜æ€§èƒ½</h3><p>è®© Python æ›´å¿«çš„åº“ã€‚</p>
<ul>
<li>Cythonï¼šä¼˜åŒ–çš„ Python é™æ€ç¼–è¯‘å™¨ã€‚ä½¿ç”¨ç±»å‹æ··åˆä½¿ Python ç¼–è¯‘æˆ C æˆ– C++ æ¨¡å—æ¥è·å¾—æ€§èƒ½çš„æå¤§æå‡ã€‚<a href="http://cython.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PeachPyï¼šåµŒå…¥ Python çš„ x86-64 æ±‡ç¼–å™¨ã€‚å¯ä»¥è¢«ç”¨ä½œ Python å†…è”çš„æ±‡ç¼–å™¨æˆ–è€…æ˜¯ç‹¬ç«‹çš„æ±‡ç¼–å™¨ï¼Œç”¨äº Windows, Linux, OS X, Native Client æˆ–è€… Go ã€‚<a href="https://github.com/Maratyszcza/PeachPy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyPyï¼šä½¿ç”¨ Python å®ç°çš„ Pythonã€‚è§£é‡Šå™¨ä½¿ç”¨é»‘é­”æ³•åŠ å¿« Python è¿è¡Œé€Ÿåº¦ä¸”ä¸éœ€è¦åŠ å…¥é¢å¤–çš„ç±»å‹ä¿¡æ¯ã€‚<a href="http://pypy.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/pyston-llvm-jit/" target="_blank" rel="external">Pyston</a>ï¼šä½¿ç”¨ LLVM å’Œç°ä»£ JIT æŠ€æœ¯æ„å»ºçš„ Python å®ç°ï¼Œç›®æ ‡æ˜¯ä¸ºäº†è·å¾—å¾ˆå¥½çš„æ€§èƒ½ã€‚<a href="https://github.com/dropbox/pyston" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Stackless Pythonï¼šä¸€ä¸ªå¼ºåŒ–ç‰ˆçš„ Pythonã€‚<a href="https://bitbucket.org/stackless-dev/stackless/overview" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å¾®è½¯çš„-Windowså¹³å°"><a href="#å¾®è½¯çš„-Windowså¹³å°" class="headerlink" title="å¾®è½¯çš„ Windowså¹³å°"></a>å¾®è½¯çš„ Windowså¹³å°</h3><p>åœ¨ Windows å¹³å°ä¸Šè¿›è¡Œ Python ç¼–ç¨‹ã€‚</p>
<ul>
<li>Python(x,y)ï¼šé¢å‘ç§‘å­¦åº”ç”¨çš„ Python å‘è¡Œç‰ˆï¼ŒåŸºäº Qt å’Œ Spyderã€‚<a href="http://python-xy.github.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pythonlibsï¼šéå®˜æ–¹çš„ Windows å¹³å° Python æ‰©å±•äºŒè¿›åˆ¶åŒ…ã€‚<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PythonNetï¼šPython ä¸ .NET å…¬å…±è¯­è¨€è¿è¡Œåº“ (CLR)çš„é›†æˆã€‚<a href="https://github.com/pythonnet/pythonnet" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyWin32ï¼šé’ˆå¯¹ Windows çš„Python æ‰©å±•ã€‚<a href="https://sourceforge.net/projects/pywin32/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>WinPythonï¼šWindows 7/8 ç³»ç»Ÿä¸‹ä¾¿æºå¼å¼€å‘ç¯å¢ƒã€‚<a href="https://winpython.github.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç½‘ç»œå¯è§†åŒ–å’ŒSDN"><a href="#ç½‘ç»œå¯è§†åŒ–å’ŒSDN" class="headerlink" title="ç½‘ç»œå¯è§†åŒ–å’ŒSDN"></a>ç½‘ç»œå¯è§†åŒ–å’ŒSDN</h3><p>ç”¨æ¥è¿›è¡Œç½‘ç»œå¯è§†åŒ–å’ŒSDN(è½¯ä»¶å®šä¹‰ç½‘ç»œ)çš„å·¥å…·å’Œåº“ã€‚</p>
<ul>
<li>Mininetï¼šä¸€æ¬¾æµè¡Œçš„ç½‘ç»œæ¨¡æ‹Ÿå™¨ä»¥åŠç”¨ Python ç¼–å†™çš„ APIã€‚<a href="http://mininet.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>POXï¼šä¸€ä¸ªé’ˆå¯¹åŸºäº Python çš„è½¯ä»¶å®šä¹‰ç½‘ç»œåº”ç”¨ï¼ˆä¾‹å¦‚ OpenFlow SDN æ§åˆ¶å™¨ï¼‰çš„å¼€æºå¼€å‘å¹³å°ã€‚<a href="https://github.com/noxrepo/pox" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pyreticï¼šç«çƒ­çš„ SDN ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€å‘˜ï¼Œä¸ºç½‘ç»œäº¤æ¢æœºå’Œæ¨¡æ‹Ÿå™¨æä¾›å¼ºå¤§çš„æŠ½è±¡èƒ½åŠ›ã€‚<a href="http://frenetic-lang.org/pyretic/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>SDX Platformï¼šåŸºäº SDN çš„ IXP å®ç°ï¼Œå½±å“äº† Mininet, POX å’Œ Pyreticã€‚<a href="https://github.com/sdn-ixp/internet2award" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h3><p>ç”¨æ¥å¯¹ç¡¬ä»¶è¿›è¡Œç¼–ç¨‹çš„åº“ã€‚</p>
<ul>
<li>inoï¼šæ“ä½œ<a href="https://www.arduino.cc/" target="_blank" rel="external">Arduino</a>çš„å‘½ä»¤è¡Œå·¥å…·ã€‚<a href="http://inotool.org/" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>Pyroï¼šPython æœºå™¨äººç¼–ç¨‹åº“ã€‚<a href="http://pyrorobotics.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>PyUserInputï¼šè·¨å¹³å°çš„ï¼Œæ§åˆ¶é¼ æ ‡å’Œé”®ç›˜çš„æ¨¡å—ã€‚<a href="https://github.com/SavinaRoja/PyUserInput" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>scapyï¼šä¸€ä¸ªéå¸¸æ£’çš„æ“ä½œæ•°æ®åŒ…çš„åº“ã€‚<a href="https://github.com/secdev/scapy" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>wifiï¼šä¸€ä¸ª Python åº“å’Œå‘½ä»¤è¡Œå·¥å…·ç”¨æ¥åœ¨ Linux å¹³å°ä¸Šæ“ä½œWiFiã€‚<a href="https://wifi.readthedocs.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pingoï¼šPingo ä¸ºç±»ä¼¼Raspberry Piï¼ŒpcDuinoï¼Œ Intel Galileoç­‰è®¾å¤‡æä¾›ç»Ÿä¸€çš„APIç”¨ä»¥ç¼–ç¨‹ã€‚<a href="http://www.pingo.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h3><p>å¸®åŠ©ä» Python 2 å‘ Python 3è¿ç§»çš„åº“ã€‚</p>
<ul>
<li>Python-Futureï¼šè¿™å°±æ˜¯ Python 2 å’Œ Python 3 ä¹‹é—´ä¸¢å¤±çš„é‚£ä¸ªå…¼å®¹æ€§å±‚ã€‚<a href="http://python-future.org/index.html" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Python-Modernizeï¼šä½¿ Python ä»£ç æ›´åŠ ç°ä»£åŒ–ä»¥ä¾¿æœ€ç»ˆè¿ç§»åˆ° Python 3ã€‚<a href="https://github.com/mitsuhiko/python-modernize" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Sixï¼šPython 2 å’Œ 3 çš„å…¼å®¹æ€§å·¥å…·ã€‚<a href="https://pypi.python.org/pypi/six" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h3><p>ä¸å±äºä¸Šé¢ä»»ä½•ä¸€ä¸ªç±»åˆ«ï¼Œä½†æ˜¯éå¸¸æœ‰ç”¨çš„åº“ã€‚</p>
<ul>
<li>blinkerï¼šä¸€ä¸ªå¿«é€Ÿçš„ Python è¿›ç¨‹å†…ä¿¡å·/äº‹ä»¶åˆ†å‘ç³»ç»Ÿã€‚<a href="https://github.com/jek/blinker" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>itsdangerousï¼šä¸€ç³»åˆ—è¾…åŠ©å·¥å…·ç”¨æ¥å°†å¯ä¿¡çš„æ•°æ®ä¼ å…¥ä¸å¯ä¿¡çš„ç¯å¢ƒã€‚<a href="https://github.com/pallets/itsdangerous" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>pluginbaseï¼šä¸€ä¸ªç®€å•ä½†æ˜¯éå¸¸çµæ´»çš„ Python æ’ä»¶ç³»ç»Ÿã€‚<a href="https://github.com/mitsuhiko/pluginbase" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Pychievementsï¼šä¸€ä¸ªç”¨æ¥åˆ›å»ºå’Œè¿½è¸ªæˆå°±çš„ Python æ¡†æ¶ã€‚<a href="https://github.com/PacketPerception/pychievements" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Trytonï¼šä¸€ä¸ªé€šç”¨å•†åŠ¡æ¡†æ¶ã€‚<a href="http://www.tryton.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç®—æ³•å’Œè®¾è®¡æ¨¡å¼"><a href="#ç®—æ³•å’Œè®¾è®¡æ¨¡å¼" class="headerlink" title="ç®—æ³•å’Œè®¾è®¡æ¨¡å¼"></a>ç®—æ³•å’Œè®¾è®¡æ¨¡å¼</h3><p>Python å®ç°çš„ç®—æ³•å’Œè®¾è®¡æ¨¡å¼ã€‚</p>
<ul>
<li><a href="http://hao.jobbole.com/algorithms/" target="_blank" rel="external">algorithms</a>ï¼šä¸€ä¸ª Python ç®—æ³•æ¨¡å—ã€‚<a href="https://github.com/nryoung/algorithms" target="_blank" rel="external">å®˜ç½‘</a> </li>
<li>python-patternsï¼šPython è®¾è®¡æ¨¡å¼çš„é›†åˆã€‚<a href="https://github.com/faif/python-patterns" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>sortedcontainersï¼šå¿«é€Ÿï¼Œçº¯ Python å®ç°çš„SortedListï¼ŒSortedDict å’Œ SortedSet ç±»å‹ã€‚<a href="http://www.grantjenks.com/docs/sortedcontainers/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ç¼–è¾‘å™¨æ’ä»¶"><a href="#ç¼–è¾‘å™¨æ’ä»¶" class="headerlink" title="ç¼–è¾‘å™¨æ’ä»¶"></a>ç¼–è¾‘å™¨æ’ä»¶</h3><p>ç¼–è¾‘å™¨å’Œ IDE çš„æ’ä»¶</p>
<ul>
<li>Emacs<ul>
<li>Elpyï¼šEmacs Python å¼€å‘ç¯å¢ƒã€‚<a href="https://github.com/jorgenschaefer/elpy" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Sublime Text<ul>
<li>SublimeJEDIï¼šä¸€ä¸ª Sublime Text æ’ä»¶ï¼Œç”¨æ¥ä½¿ç”¨è¶…èµçš„è‡ªåŠ¨è¡¥å…¨åº“ Jediã€‚<a href="https://github.com/srusskih/SublimeJEDI" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Anacondaï¼šAnaconda æŠŠä½ çš„ Sublime Text 3 å˜æˆä¸€ä¸ªåŠŸèƒ½é½å…¨çš„ Python IDEã€‚<a href="https://github.com/DamnWidget/anaconda" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Vim<ul>
<li><a href="http://hao.jobbole.com/youcompleteme/" target="_blank" rel="external">YouCompleteMe</a>ï¼šå¼•å…¥åŸºäº <a href="https://github.com/davidhalter/jedi" target="_blank" rel="external">Jedi</a> çš„ Python è‡ªåŠ¨è¡¥å…¨å¼•æ“ã€‚<a href="https://github.com/Valloric/YouCompleteMe" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Jedi-vimï¼šç»‘å®š Vim å’Œ Jedi è‡ªåŠ¨è¡¥å…¨åº“å¯¹ Python è¿›è¡Œè‡ªåŠ¨è¡¥å…¨ã€‚<a href="https://github.com/davidhalter/jedi-vim" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Python-modeï¼šå°† Vim å˜æˆ Python IDE çš„ä¸€æ¬¾å¤šåˆä¸€æ’ä»¶ã€‚<a href="https://github.com/klen/python-mode" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
<li>Visual Studio<ul>
<li>PTVSï¼šVisual Studio çš„ Python å·¥å…·<a href="https://github.com/Microsoft/PTVS" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h3 id="é›†æˆå¼€å‘ç¯å¢ƒ"><a href="#é›†æˆå¼€å‘ç¯å¢ƒ" class="headerlink" title="é›†æˆå¼€å‘ç¯å¢ƒ"></a>é›†æˆå¼€å‘ç¯å¢ƒ</h3><p>æµè¡Œçš„ Python é›†æˆå¼€å‘ç¯å¢ƒã€‚</p>
<ul>
<li>PyCharmï¼šå•†ä¸šåŒ–çš„ Python IDE ï¼Œç”± JetBrains å¼€å‘ã€‚ä¹Ÿæœ‰å…è´¹çš„ç¤¾åŒºç‰ˆæä¾›ã€‚<a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>LiClipseï¼šåŸºäº Eclipse çš„å…è´¹å¤šè¯­è¨€ IDE ã€‚ä½¿ç”¨ PyDev æ¥æ”¯æŒ Python ã€‚<a href="http://www.liclipse.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Spyderï¼šå¼€æº Python IDEã€‚<a href="https://github.com/spyder-ide/spyder" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><p>åœ¨çº¿å·¥å…·å’Œç®€åŒ–å¼€å‘çš„ API ã€‚</p>
<h3 id="æŒç»­é›†æˆ"><a href="#æŒç»­é›†æˆ" class="headerlink" title="æŒç»­é›†æˆ"></a>æŒç»­é›†æˆ</h3><p>å‚è§: <a href="https://github.com/ciandcd/awesome-ciandcd#online-build-system" target="_blank" rel="external">awesome-CIandCD</a>.</p>
<ul>
<li>Travis CIï¼šä¸€ä¸ªæµè¡Œçš„å·¥å…·ï¼Œä¸ºä½ çš„å¼€æºå’Œ<a href="https://travis-ci.com/" target="_blank" rel="external">ç§äºº</a>é¡¹ç›®æä¾›æŒç»­é›†æˆæœåŠ¡ã€‚(ä»…æ”¯æŒ GitHub)<a href="https://travis-ci.org/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>CircleCIï¼šä¸€ä¸ªæŒç»­é›†æˆå·¥å…·ï¼Œå¯ä»¥éå¸¸å¿«é€Ÿçš„è¿›è¡Œå¹¶è¡Œæµ‹è¯•ã€‚ (ä»…æ”¯æŒ GitHub)<a href="https://circleci.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Vexor CIï¼šä¸€ä¸ªä¸ºç§äºº app æä¾›æŒç»­é›†æˆçš„å·¥å…·ï¼Œæ”¯æŒæŒ‰åˆ†é’Ÿä»˜è´¹ã€‚<a href="https://vexor.io/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>Werckerï¼šåŸºäº Docker å¹³å°ï¼Œç”¨æ¥æ„å»ºå’Œéƒ¨ç½²å¾®æœåŠ¡ã€‚<a href="http://wercker.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h3 id="ä»£ç è´¨é‡"><a href="#ä»£ç è´¨é‡" class="headerlink" title="ä»£ç è´¨é‡"></a>ä»£ç è´¨é‡</h3><ul>
<li>Codacyï¼šè‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥ï¼Œæ›´åŠ å¿«é€Ÿçš„å‘å¸ƒé«˜è´¨é‡ä»£ç ã€‚å¯¹äºå¼€æºé¡¹ç›®æ˜¯å…è´¹çš„ã€‚<a href="https://www.codacy.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li>QuantifiedCodeï¼šä¸€ä¸ªæ•°æ®é©±åŠ¨ã€è‡ªåŠ¨ã€æŒç»­çš„ä»£ç å®¡æŸ¥å·¥å…·ã€‚<a href="https://www.quantifiedcode.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h2 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a>èµ„æº</h2><p>åœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°æ–°çš„ Python åº“ã€‚</p>
<h3 id="ç½‘ç«™"><a href="#ç½‘ç«™" class="headerlink" title="ç½‘ç«™"></a>ç½‘ç«™</h3><ul>
<li><a href="https://www.reddit.com/r/python" target="_blank" rel="external">r/Python</a></li>
<li><a href="https://www.coolgithubprojects.com/" target="_blank" rel="external">CoolGithubProjects</a></li>
<li><a href="https://www.djangopackages.com/" target="_blank" rel="external">Django Packages</a></li>
<li><a href="http://www.fullstackpython.com/" target="_blank" rel="external">Full Stack Python</a></li>
<li><a href="http://python3wos.appspot.com/" target="_blank" rel="external">Python 3 Wall of Superpowers</a></li>
<li><a href="http://pythonhackers.com/open-source/" target="_blank" rel="external">Python Hackers</a></li>
<li><a href="https://python.zeef.com/alan.richmond" target="_blank" rel="external">Python ZEEF</a></li>
<li><a href="https://github.com/trending?l=python" target="_blank" rel="external">Trending Python repositories on GitHub today</a></li>
<li><a href="http://pypi-ranking.info/alltime" target="_blank" rel="external">PyPI Ranking</a></li>
</ul>
<h3 id="å‘¨åˆŠ"><a href="#å‘¨åˆŠ" class="headerlink" title="å‘¨åˆŠ"></a>å‘¨åˆŠ</h3><ul>
<li><a href="http://importpython.com/newsletter/" target="_blank" rel="external">Import Python Newsletter</a></li>
<li><a href="http://pycoders.com/" target="_blank" rel="external">Pycoderâ€™s Weekly</a></li>
<li><a href="http://www.pythonweekly.com/" target="_blank" rel="external">Python Weekly</a></li>
</ul>
<h3 id="Twitter"><a href="#Twitter" class="headerlink" title="Twitter"></a>Twitter</h3><ul>
<li><a href="https://twitter.com/codetengu" target="_blank" rel="external">@codetengu</a></li>
<li><a href="https://twitter.com/getpy" target="_blank" rel="external">@getpy</a></li>
<li><a href="https://twitter.com/planetpython" target="_blank" rel="external">@planetpython</a></li>
<li><a href="https://twitter.com/pycoders" target="_blank" rel="external">@pycoders</a></li>
<li><a href="https://twitter.com/pypi" target="_blank" rel="external">@pypi</a></li>
<li><a href="https://twitter.com/pythontrending" target="_blank" rel="external">@pythontrending</a></li>
<li><a href="https://twitter.com/PythonWeekly" target="_blank" rel="external">@PythonWeekly</a></li>
</ul>
<h3 id="å­¦ä¹ æŒ‡å—"><a href="#å­¦ä¹ æŒ‡å—" class="headerlink" title="å­¦ä¹ æŒ‡å—"></a>å­¦ä¹ æŒ‡å—</h3><ul>
<li><a href="http://hao.jobbole.com/scipy-lecture-notes/" target="_blank" rel="external">Scipy-lecture-notes</a>ï¼šå¦‚ä½•ç”¨Pythonæ¥åšå­¦æœ¯ï¼Ÿ<a href="https://github.com/scipy-lectures/scipy-lecture-notes" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/scientific-python-lectures/" target="_blank" rel="external">SScientific-python-lectures</a>ï¼šPythonç§‘å­¦è®¡ç®—çš„èµ„æ–™ã€‚<a href="https://github.com/jrjohansson/scientific-python-lectures" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/mario-level-1/" target="_blank" rel="external">Mario-Level-1</a>ï¼šç”¨Pythonå’ŒPygameå†™çš„è¶…çº§é©¬é‡Œå¥¥ç¬¬ä¸€å…³ã€‚<a href="https://github.com/justinmeister/Mario-Level-1" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-koans/" target="_blank" rel="external">Python Koans</a>ï¼šPythonçš„äº¤äº’å¼å­¦ä¹ å·¥å…·ã€‚<a href="https://github.com/gregmalcolm/python_koans" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/minecraft-python/" target="_blank" rel="external">Minecraft</a>ï¼šç”¨pythonå†™çš„Minecraftæ¸¸æˆã€‚<a href="https://github.com/fogleman/Minecraft" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-pycrumbs/" target="_blank" rel="external">pycrumbs</a>ï¼šPythonèµ„æºå¤§å…¨ã€‚<a href="https://github.com/kirang89/pycrumbs/blob/master/pycrumbs.md" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-patterns/" target="_blank" rel="external">python-patterns</a>ï¼šä½¿ç”¨pythonå®ç°è®¾è®¡æ¨¡å¼ã€‚<a href="https://github.com/faif/python-patterns" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/python-projects/" target="_blank" rel="external">Projects</a>ï¼šPythoné¡¹ç›®å¤§é›†åˆã€‚<a href="https://github.com/karan/Projects" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://hao.jobbole.com/the-hitchhikers-guide-to-python/" target="_blank" rel="external">The Hitchhikerâ€™s Guide to Python</a>ï¼šæ—…è¡Œè€…çš„Pythonå­¦ä¹ æŒ‡å—ã€‚<a href="http://docs.python-guide.org/en/latest/" target="_blank" rel="external">å®˜ç½‘</a></li>
<li><a href="http://top.jobbole.com/18767/" target="_blank" rel="external">Code Like a Pythonista: Idiomatic Python</a>ï¼šå¦‚ä½•åƒPythoné«˜æ‰‹(Pythonista)ä¸€æ ·ç¼–ç¨‹ã€‚<a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<p></p><h3 id="websites">çŸ¥åç½‘ç«™</h3><br><em>å€¼å¾—å…³æ³¨çš„ Python æŠ€æœ¯ç«™ç‚¹ã€‚</em><p></p>
<h4>ä¸­æ–‡ç«™ç‚¹</h4>

<ul>
<li>ä¼¯ä¹åœ¨çº¿ Python é¢‘é“ï¼šåˆ†äº« Python å¼€å‘æŠ€æœ¯ã€ç›¸å…³çš„è¡Œä¸šåŠ¨æ€ã€‚<a href="http://python.jobbole.com/" target="_blank" rel="external">å®˜ç½‘</a></li>
</ul>
<h4>è‹±æ–‡ç«™ç‚¹</h4>

<ul>
<li>ã€Š<a href="http://python.jobbole.com/81730/" target="_blank" rel="external">å€¼å¾—å…³æ³¨çš„ 10 ä¸ª Python è‹±æ–‡åšå®¢</a>ã€‹</li>
</ul>
<p></p><h3 id="weibo-weixin">å¾®åšã€å¾®ä¿¡å…¬ä¼—å·</h3><p></p>
<ul>
<li>Pythonå¼€å‘è€… å¾®åšï¼š<a href="http://weibo.com/u/5305630013" target="_blank" rel="external">@Pythonå¼€å‘è€…</a></li>
<li>Pythonå¼€å‘è€…ï¼šäººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨ Pythonã€‚Python è¶Šæ¥è¶Šå—å¹¿å¤§ç¨‹åºå‘˜çš„å–œçˆ±ã€‚ã€ŒPythonå¼€å‘è€…ã€æ˜¯æœ€å—æ¬¢è¿çš„ã€ä¸“æ³¨åˆ†äº«PythonæŠ€æœ¯çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œä¸»è¦åˆ†äº« Python ç›¸å…³çš„æŠ€æœ¯æ–‡ç« ã€å·¥å…·èµ„æºå’Œèµ„è®¯ç­‰ã€‚<br><br><img src="http://ww3.sinaimg.cn/small/63918611gw1epb2cbm6cmj2046046wek.jpg" width="150" height="150"></li>
</ul>
]]></content>
    
    <summary type="html">
    
      æˆ‘æƒ³å¾ˆå¤šç¨‹åºå‘˜åº”è¯¥è®°å¾— GitHub ä¸Šæœ‰ä¸€ä¸ª Awesome - XXX ç³»åˆ—çš„èµ„æºæ•´ç†ã€‚[awesome-python](https://github.com/vinta/awesome-python) æ˜¯ vinta å‘èµ·ç»´æŠ¤çš„ Python èµ„æºåˆ—è¡¨ï¼Œå†…å®¹åŒ…æ‹¬ï¼šWebæ¡†æ¶ã€ç½‘ç»œçˆ¬è™«ã€ç½‘ç»œå†…å®¹æå–ã€æ¨¡æ¿å¼•æ“ã€æ•°æ®åº“ã€æ•°æ®å¯è§†åŒ–ã€å›¾ç‰‡å¤„ç†ã€æ–‡æœ¬å¤„ç†ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æœºå™¨å­¦ä¹ ã€æ—¥å¿—ã€ä»£ç åˆ†æç­‰ã€‚ç”±ä¼¯ä¹åœ¨çº¿æŒç»­æ›´æ–°ã€‚
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>xx-net ä½¿ç”¨æ–¹æ³•</title>
    <link href="http://yusank.github.io/xxnet.html/"/>
    <id>http://yusank.github.io/xxnet.html/</id>
    <published>2016-12-17T05:13:13.000Z</published>
    <updated>2016-12-19T05:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>æ³¨æ„ï¼š    </p>
<ol>
<li>ç”±äºå°é”ä¸¥é‡ï¼Œè½¯ä»¶è‡ªå¸¦IPå·²ç»è¢«å°æ€æ®†å°½ã€‚å› æ­¤éœ€è¦<strong>æ•°åˆ†é’Ÿåˆ°æ•°å°æ—¶çš„åˆå§‹åŒ–IPæ‰«æ</strong>ï¼Œæ–¹èƒ½æ­£å¸¸è¿è¡Œã€‚    </li>
<li>è™½ç„¶ç³»ç»Ÿå†…ç½®äº†å…¬å…±appid, è¿˜æ˜¯å»ºè®®[[éƒ¨ç½²è‡ªå·±çš„appid|how to create my appids]]ï¼Œå…¬å…±appidé™åˆ¶çœ‹è§†é¢‘ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“ä½ èƒ½è®¿é—®Googleä¹‹åï¼Œæ‰èƒ½éƒ¨ç½²è‡ªå·±çš„APPIDã€‚    </li>
</ol>
<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æ€»ä½“æ¥è¯´ï¼Œä½¿ç”¨XX-Netç§‘å­¦ä¸Šç½‘ï¼Œå¤§è‡´éœ€è¦å¦‚ä¸‹æ­¥éª¤ï¼š    </p>
<ol>
<li><strong>[[è·å–XX-Net|<a href="https://github.com/XX-net/XX-Net/blob/master/code/default/download.md" target="_blank" rel="external">https://github.com/XX-net/XX-Net/blob/master/code/default/download.md</a>]]</strong>    </li>
<li><strong>è®¾ç½®å’Œåˆå§‹åŒ–</strong>ï¼šå®‰è£…ã€è®¾ç½®å®Œæˆåï¼Œå¦‚æœæ— æ³•ç¿»å¢™ï¼Œåˆ™éœ€è¦ç­‰å¾…åå°ç¨‹åºæ‰«æIPï¼ˆ10åˆ†é’Ÿåˆ°æ•°å°æ—¶ï¼‰ã€‚    </li>
<li>[å¯é€‰]<strong>[[åˆ›å»ºå’Œä½¿ç”¨è‡ªå·±çš„appid|how to create my appids]]</strong>    </li>
<li><strong>[[è®¾ç½®ä»£ç†]]</strong>    </li>
<li>[å¼ºçƒˆå»ºè®®]<strong>è·å–å’Œé…ç½®å¯é çš„æµè§ˆå™¨</strong>ï¼ˆ[[Firefoxç«ç‹æµè§ˆå™¨|ä½¿ç”¨Firefoxæµè§ˆå™¨]]ï¼Œæˆ–[[Chromeè°·æ­Œæµè§ˆå™¨|ä½¿ç”¨Chromeæµè§ˆå™¨]]ï¼‰ï¼Œå¹¶ä½¿ç”¨[[ä»£ç†åˆ‡æ¢æ’ä»¶|å®‰è£…å’Œä½¿ç”¨-SwitchyOmega]]ã€‚</li>
</ol>
<p>ä¸‹é¢åˆ†åˆ«ä»‹ç»å„ä¸ªæ“ä½œç³»ç»Ÿå¹³å°ä¸‹çš„ä½¿ç”¨æ–¹æ³•ï¼š</p>
<h1 id="Windowsç³»ç»Ÿ"><a href="#Windowsç³»ç»Ÿ" class="headerlink" title="Windowsç³»ç»Ÿ"></a>Windowsç³»ç»Ÿ</h1><ol>
<li>åŒå‡» start.vbsæˆ–è€…start.batå¯åŠ¨ã€‚<ul>
<li>Win7/8/10ï¼šå°†æç¤ºè¯·æ±‚ç®¡ç†å‘˜æƒé™ï¼ˆå‡ºäº[[å®‰è£…CAè¯ä¹¦|GoAgent Import CA]]çš„éœ€è¦ï¼‰ã€‚è¯·ç‚¹å‡»åŒæ„ã€‚</li>
</ul>
</li>
<li>å¯åŠ¨å®Œæ¯•åï¼Œå°†å¼¹å‡ºæµè§ˆå™¨ï¼Œè®¿é—® <a href="http://localhost:8085/" target="_blank" rel="external">http://localhost:8085/</a> ï¼ˆ[[é…ç½®é¡µé¢ç®€ä»‹]]ï¼‰</li>
<li>å³ä¸‹è§’å°†å‡ºç°æ‰˜ç›˜å›¾æ ‡ï¼šç‚¹å‡»å¯å¼¹å‡ºä¸Šè¿°çš„XX-Neté…ç½®é¡µé¢, å³é”®å¯æ˜¾ç¤º[[å¸¸ç”¨åŠŸèƒ½èœå•|æ‰˜ç›˜å³é”®èœå•]]ã€‚</li>
<li>ç¬¬ä¸€æ¬¡å¯åŠ¨, ä¼šæç¤ºåœ¨æ¡Œé¢å»ºç«‹å¿«æ·æ–¹å¼,å¯æ ¹æ®è‡ªå·±éœ€è¦é€‰æ‹©ã€‚</li>
</ol>
<ul>
<li>æ¨è[[ä½¿ç”¨Chromeæµè§ˆå™¨]], [[å®‰è£…SwichySharp|å®‰è£…å’Œä½¿ç”¨SwichySharp]], å¯åœ¨XX-Netç›®å½•ä¸­çš„SwitchySharpæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°æ’ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚</li>
<li>ä¹Ÿå¯ä»¥é€‰æ‹©[[ä½¿ç”¨Firefoxï¼ˆç«ç‹ï¼‰æµè§ˆå™¨|ä½¿ç”¨Firefoxæµè§ˆå™¨]]ã€‚éœ€[[æ‰‹åŠ¨å¯¼å…¥è¯ä¹¦|GoAgent Import CA#Firefoxæµè§ˆå™¨æ‰‹åŠ¨å¯¼å…¥çš„æ–¹å¼]]</li>
<li><p>å¯åŠ¨å¤±è´¥ï¼Œè¯·å…³é—­ååŒå‡»start.batå†æ¬¡å¯åŠ¨ç¨‹åºï¼ŒæŠŠæ—¥å¿—å‘åˆ°bugåé¦ˆåŒº  </p>
</li>
<li><p>WinXPï¼Œéœ€è¦ç ´è§£tcpè¿æ¥æ•°ï¼Œæ¨èä½¿ç”¨<a href="https://github.com/XX-net/tcp-z/archive/master.zip" target="_blank" rel="external">tcp-z</a>  </p>
</li>
<li>Win8ï¼Œwin10 çš„APPï¼Œéœ€è¦ä½¿ç”¨ï¼š<a href="https://loopback.codeplex.com/" target="_blank" rel="external">https://loopback.codeplex.com/</a>   </li>
<li>Windows Server 2008ï¼Œéœ€è¦å®‰è£…  Visual C++ 2008 Redistributable - x86  </li>
</ul>
<p>é’ˆå¯¹ä¸¤ç§å¸¸ç”¨æµè§ˆå™¨ï¼Œåˆ†åˆ«æœ‰è¯¦ç»†çš„æ–°æ‰‹å›¾æ–‡æ•™ç¨‹ï¼š[[ä½¿ç”¨Firefoxæµè§ˆå™¨]]ã€[[ä½¿ç”¨Chromeæµè§ˆå™¨]]</p>
<h1 id="Macç³»ç»Ÿ"><a href="#Macç³»ç»Ÿ" class="headerlink" title="Macç³»ç»Ÿ"></a>Macç³»ç»Ÿ</h1><ol>
<li>åŒå‡» start å¯åŠ¨</li>
<li>è¯ä¹¦å°†è¢«è‡ªåŠ¨å¯¼å…¥ï¼Œå¦‚æœè¿˜æœ‰æç¤ºéå®‰å…¨è¿æ¥ï¼Œè¯·æ‰‹åŠ¨å¯¼å…¥data/gae_proxy/CA.crtè¯ä¹¦</li>
</ol>
<p>æ³¨ï¼š</p>
<ul>
<li>å‘½ä»¤è¡Œå¯åŠ¨æ–¹å¼ï¼š./start</li>
<li>æ¨è[[ä½¿ç”¨Chrome|ä½¿ç”¨Chromeæµè§ˆå™¨]]å’Œ[[SwitchyOmegaæ‰©å±•|å®‰è£…å’Œä½¿ç”¨SwichySharp]]</li>
<li>éƒ¨åˆ†ç‰ˆæœ¬å¯èƒ½éœ€è¦æ‰‹åŠ¨å‡çº§pythonã€‚å‘½ä»¤ä¸ºï¼šbrew upgrade</li>
</ul>
<h1 id="Linuxç³»ç»Ÿ"><a href="#Linuxç³»ç»Ÿ" class="headerlink" title="Linuxç³»ç»Ÿ"></a>Linuxç³»ç»Ÿ</h1><ul>
<li><p>æ‰§è¡Œ ./start å¯åŠ¨</p>
</li>
<li><p>è‡ªåŠ¨å¯¼å…¥è¯ä¹¦ï¼Œéœ€å®‰è£… libnss3-tools åŒ…<br><code>sudo apt-get install libnss3-tools</code></p>
</li>
<li>æ²¡æœ‰å®‰è£…PyGtkçš„ï¼Œéœ€è¦å…ˆå®‰è£…gtkï¼š<br><code>sudo apt-get install python-gtk2</code></li>
<li>é…ç½®httpä»£ç† localhost 8087, å‹¾é€‰å…¨éƒ¨åè®®ä½¿ç”¨è¿™ä¸ªä»£ç†ã€‚<br>å¦‚Firefoxï¼Œå¦‚æœç®¡ç†é¡µé¢å¼¹ä¸å‡ºï¼Œè¯·åœ¨åœ°å€æ è¾“å…¥127.0.0.1:8085ï¼Œæ³¨æ„å’Œä»£ç†ç«¯å£çš„åŒºåˆ«ï¼š<br><img src="https://github.com/sonichy/CMDU/blob/master/Firefox%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE.png" alt=""><br>æ¨èChrome + SwitchyOmega</li>
<li>ubuntu ä¸‹ï¼Œå¯èƒ½éœ€è¦å®‰è£…<br> <code>sudo apt-get install python-openssl</code><br> <code>sudo apt-get install libffi-dev</code><br> <code>sudo apt-get install -y python-gtk2</code><br> <code>sudo apt-get install python-appindicator</code><br> <code>sudo apt-get install libnss3-tools</code>  </li>
<li>åå°è¿è¡Œï¼šåœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š<br> <code>code/default/xx_net.sh start/stop/restart</code></li>
<li>å¼€æœºè‡ªå¯ï¼šåœ¨/etc/rc.localä¸­æ·»åŠ ä¸€è¡Œï¼š<br> <code>sudo /home/username/xxnet/code/default/xx_net.sh start</code></li>
</ul>
<h2 id="å…³äº-ArchLinux"><a href="#å…³äº-ArchLinux" class="headerlink" title="å…³äº ArchLinux"></a>å…³äº ArchLinux</h2><ul>
<li>å¯èƒ½éœ€è¦çš„åŒ…: <code>python-pyopenssl python2-pyopenssl libffi pygtk python2-notify nss</code>  </li>
</ul>
<h2 id="å…³äº-Fedora"><a href="#å…³äº-Fedora" class="headerlink" title="å…³äº Fedora"></a>å…³äº Fedora</h2><ul>
<li>æ·»åŠ  <a href="https://github.com/FZUG/repo/wiki/%E6%B7%BB%E5%8A%A0-FZUG-%E6%BA%90" target="_blank" rel="external">FZUG æº</a>ï¼Œå®‰è£… xx-net</li>
<li>æ‰§è¡Œ <code>xx-net</code> æˆ– <code>systemctl --user start xx-net</code> (åå°)å¯åŠ¨</li>
<li>é…ç½®æµè§ˆå™¨ä»£ç†æ’ä»¶</li>
</ul>
<h1 id="å…¶ä»–å¹³å°"><a href="#å…¶ä»–å¹³å°" class="headerlink" title="å…¶ä»–å¹³å°"></a>å…¶ä»–å¹³å°</h1><h2 id="OpenWrt"><a href="#OpenWrt" class="headerlink" title="OpenWrt"></a>OpenWrt</h2><ul>
<li>[[åœ¨OpenWrté‡Œè¿è¡ŒXX-Net]]<br></li>
<li>[[åœ¨è£…æœ‰æ¢…æ—å›ºä»¶çš„Netgear R6300V2ä¸Šå®‰è£…XX Net]]<br></li>
</ul>
<h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><p>  è®¡åˆ’å¼€å‘ä¸­<br>  [[AndroidæŠ€æœ¯è®¾è®¡]]</p>
<h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="å…³äºæœåŠ¡ç«¯"><a href="#å…³äºæœåŠ¡ç«¯" class="headerlink" title="å…³äºæœåŠ¡ç«¯"></a>å…³äºæœåŠ¡ç«¯</h2><ul>
<li>æœåŠ¡ç«¯å…¼å®¹ GoAgent 3.1.x/3.2.xçš„å®¢æˆ·ç«¯</li>
<li>è™½ç„¶ç³»ç»Ÿå†…ç½®äº†å…¬å…±appid, è¿˜æ˜¯å»ºè®®[[éƒ¨ç½²è‡ªå·±çš„appid|how to create my appids]]ã€‚</li>
</ul>
<h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p>å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œè¯·ç¿»é˜…[[æ•…éšœé€ŸæŸ¥æ‰‹å†Œ]]ï¼ŒæŸ¥çœ‹å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ³•ã€‚    </p>
<p>æ— æ³•è§£å†³çš„ï¼Œå‚è€ƒ[[å¼‚å¸¸å¤„ç†|How-to-get-start-error-log]]ï¼Œå°†é—®é¢˜åé¦ˆåˆ°ï¼š<br><code>https://github.com/XX-net/XX-Net/issues</code><br><code>https://groups.google.com/forum/#!forum/xx-net</code>  </p>
<p>æäº¤issueæ—¶è¯·è´´å‡ºçŠ¶æ€é¡µã€GAE_proxyæ—¥å¿—ã€éƒ¨ç½²æ—¥å¿—ï¼Œä»¥ä¾¿å¼€å‘è€…å’Œå…¶ä»–ç”¨æˆ·æ›´å¥½åœ°å¸®åŠ©ä½ ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;script src=&quot;/assets/js/DPlayer.min.js&quot;&gt; &lt;/script&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;æ³¨æ„ï¼š    &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”±äºå°é”ä¸¥é‡ï¼Œè½¯ä»¶è‡ªå¸¦IPå·²ç»è¢«
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yusank.github.io/hello-world.html/"/>
    <id>http://yusank.github.io/hello-world.html/</id>
    <published>2016-12-16T12:12:02.000Z</published>
    <updated>2016-12-16T12:12:02.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><a id="more"></a></p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo server
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot;&gt;GitHub&lt;/a&gt;.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
